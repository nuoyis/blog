<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>用红帽&amp;amp;红帽衍生发行版 9来优化你的站点吧</title>
      <link href="/posts/9bb5.html"/>
      <url>/posts/9bb5.html</url>
      
        <content type="html"><![CDATA[<p>最近，使用了红帽9.4和Rocky9.4 外带升级最新内核，再加上小许调优措施，访问速度已经达到了之前centos 8 2核4G的速度了。主要是最小化的红帽9，启动速度比7和8更加快速，只要你会手动配源就能体验到秒速启动的快感。<br>然后就是Centos Stream属于滚动发行版，所以红帽9可以尝试使用Rocky的源。为了让最小化安装和server差异缩小，我还特意写了个init脚本<br>脚本开源地址: <a href="https://gitee.com/nuoyis/shell">https://gitee.com/nuoyis/shell</a><br>执行命令:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O nuoyis-init.sh https://gitee.com/nuoyis/shell/raw/main/nuoyis-init.sh;bash nuoyis-init.sh</span><br></pre></td></tr></tbody></table></figure><p>目前实现了rhel系列Linux自动配置Rocky镜像源 epel镜像源 remi源 并更新到最新内核(相信我，越更新速度越快)<br>埋坑功能: lnmp安装 / 编译安装，bbr加速，linux内核调优以及唤醒命令，探针部署以及分布式自动化<br>实际效果截图<br><img src="https://blog.nuoyis.net/usr/uploads/2024/07/3611148571.png" alt="w.png"></p>]]></content>
      
      
      <categories>
          
          <category> default </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>RHEL9-Rocky9-Openeuler下载方法</title>
      <link href="/posts/92c1.html"/>
      <url>/posts/92c1.html</url>
      
        <content type="html"><![CDATA[<p>Red Hat Enterprise Linux官方下载的话，首先得进入官网，选择右上角support,再点击downloads，然后点击Red Hat Enterprise Linux,再去选择9.x版本<br>快捷进入(需要注册):<a href="https://access.redhat.com/downloads/content/rhel">https://access.redhat.com/downloads/content/rhel</a><br>RHEL9下载地址:<br><a href="https://www.123pan.com/s/NsSRVv-DZDn3.html">https://www.123pan.com/s/NsSRVv-DZDn3.html</a><br><a href="https://cloud.189.cn/t/EFr2Er2uYZR3">https://cloud.189.cn/t/EFr2Er2uYZR3</a> （访问码：q3xn)<br><a href="https://alist.nuoyis.net/%E8%A3%85%E6%9C%BA%E9%95%9C%E5%83%8F+%E5%B7%A5%E5%85%B7%E7%AE%B1/%E9%95%9C%E5%83%8F/Linux%E7%B3%BB%E5%88%97/rhel-9.4-x86_64-dvd.iso(%E5%8F%AF%E8%83%BD%E6%97%A0%E6%B3%95%E4%B8%8B%E8%BD%BD)">https://alist.nuoyis.net/%E8%A3%85%E6%9C%BA%E9%95%9C%E5%83%8F+%E5%B7%A5%E5%85%B7%E7%AE%B1/%E9%95%9C%E5%83%8F/Linux%E7%B3%BB%E5%88%97/rhel-9.4-x86_64-dvd.iso(可能无法下载)</a></p><p>Rocky 和 Openeuler 建议使用镜像站下载，这里使用校园网联合镜像站进行下载（ <a href="https://mirrors.cernet.edu.cn/">https://mirrors.cernet.edu.cn/</a> )<br>进去很大一个搜索，输入后点进去，然后进入目录查找 你要的版本号/isos或ISO/架构/iso(建议选最大的那个，如果你不会可能有的没有可视化，甚至可能只有内核或boot驱动)<br>这里就提供便捷下载链接<br>Rocky(x86_64): <a href="https://mirrors.cqu.edu.cn/rockylinux/9.4/isos/x86_64/Rocky-9-latest-x86_64-dvd.iso">https://mirrors.cqu.edu.cn/rockylinux/9.4/isos/x86_64/Rocky-9-latest-x86_64-dvd.iso</a><br>Openeuler(x86_64): <a href="https://mirrors.cqupt.edu.cn/openeuler/openEuler-24.03-LTS/ISO/x86_64/openEuler-24.03-LTS-everything-x86_64-dvd.iso">https://mirrors.cqupt.edu.cn/openeuler/openEuler-24.03-LTS/ISO/x86_64/openEuler-24.03-LTS-everything-x86_64-dvd.iso</a></p>]]></content>
      
      
      <categories>
          
          <category> default </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Docker用法合集</title>
      <link href="/posts/6465.html"/>
      <url>/posts/6465.html</url>
      
        <content type="html"><![CDATA[<p>docker命令大全</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker build -t 镜像 .</span><br><span class="line">docker run -d -p 端口:映射端口 --name 名称 --restart always 镜像名 </span><br><span class="line">参数:</span><br><span class="line">-d 后台运行</span><br><span class="line">-e 变量</span><br><span class="line">-t 分配虚拟终端</span><br><span class="line">-</span><br><span class="line">docker start 容器</span><br><span class="line">docker kill 容器</span><br><span class="line">docker exec -it 容器 命令</span><br></pre></td></tr></tbody></table></figure><p>docker常用配置文件<br>首先<code>vim /etc/docker/daemon.json</code><br>然后</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  "registry-mirrors": [</span><br><span class="line">    "https://mirror.ccs.tencentyun.com"</span><br><span class="line">  ],</span><br><span class="line">  "bip": "192.168.100.1/24",</span><br><span class="line">  "default-address-pools": [</span><br><span class="line">    {</span><br><span class="line">      "base": "192.168.100.0/16",</span><br><span class="line">      "size": 24</span><br><span class="line">    }</span><br><span class="line">  ]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>registry-mirrors指的是镜像加速，bip指的是docker容器网段区域，default-address-pools指的是默认分配网段区域</p>]]></content>
      
      
      <categories>
          
          <category> default </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>以 RHCL9 做路由器分配教程</title>
      <link href="/posts/f52a.html"/>
      <url>/posts/f52a.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h1 id="装配前置"><a href="#装配前置" class="headerlink" title="装配前置"></a>装配前置</h1><p>1.静态IP<br>2.YUM源<br>请看文章文章<a href="https://blog.nuoyis.net/posts/f02.html">RHCL 9 合集</a><br>根据上一篇文章来配置双网卡<br>注意:<br>ens160采取桥接模式,要求绑定在物理网卡上,不然无法启动网卡<br>ens224采取主机模式,要求仅主机模式</p><h1 id="环境安装"><a href="#环境安装" class="headerlink" title="环境安装"></a>环境安装</h1><p>需要安装dns,dhcp,iptables<br>dns,dhcp配置请看文章<a href="https://blog.nuoyis.net/posts/f02.html">RHCL 9 合集</a><br>iptables安装以及开启启动(如果没有配置好外网卡可以采取本地源)</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum -y install iptables-services</span><br><span class="line">systemctl start iptables</span><br><span class="line">systemctl enable iptables</span><br></pre></td></tr></tbody></table></figure><p>开启内核转发</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo "net.ipv4.ip_forward = 1" &gt;&gt; /etc/sysctl.conf</span><br><span class="line">sysctl -p</span><br></pre></td></tr></tbody></table></figure><p>路由转发</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route add -net 192.168.50.0/24 dev ens160</span><br></pre></td></tr></tbody></table></figure><p>如果提前将dhcp和dns配置好后,dhcp改配置如下:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">subnet 192.168.50.0 netmask 255.255.255.0 {</span><br><span class="line">  range 192.168.50.4 192.168.50.100;</span><br><span class="line">  option domain-name "nuoyis's server route";</span><br><span class="line">  option routers 192.168.50.1;</span><br><span class="line">  option broadcast-address 192.168.50.255;</span><br><span class="line">  option domain-name-servers 192.168.50.1;</span><br><span class="line">  default-lease-time 600;</span><br><span class="line">  max-lease-time 7200;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>然后将主机均解析到你的路由服务器上,就可以尝试上网了.</p><h1 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h1><p><img src="https://blog.nuoyis.net/usr/uploads/2024/05/2948852445.png" alt="2024-05-10T09:41:34.png"></p><h1 id="借鉴文章"><a href="#借鉴文章" class="headerlink" title="借鉴文章"></a>借鉴文章</h1><p><a href="https://www.cnblogs.com/qinlulu/p/13204854.html">https://www.cnblogs.com/qinlulu/p/13204854.html</a><br><a href="https://blog.csdn.net/pamdora/article/details/81117268">https://blog.csdn.net/pamdora/article/details/81117268</a><br><a href="https://blog.csdn.net/enmo2015/article/details/132000991">https://blog.csdn.net/enmo2015/article/details/132000991</a><br><a href="https://blog.csdn.net/weixin_53946852/article/details/125626246">https://blog.csdn.net/weixin_53946852/article/details/125626246</a></p>]]></content>
      
      
      <categories>
          
          <category> default </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>RHCL 9 合集</title>
      <link href="/posts/f02.html"/>
      <url>/posts/f02.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h1 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h1><h1 id="手动服务配置前置-按顺序开始"><a href="#手动服务配置前置-按顺序开始" class="headerlink" title="手动服务配置前置(按顺序开始)"></a>手动服务配置前置(按顺序开始)</h1><p>0(vmware用户前置配置)<br><img src="https://blog.nuoyis.net/usr/uploads/2024/05/1433448547.png" alt="{DA5993B8-2563-4281-9C34-0F7D9714AD88}.png"><br><img src="https://blog.nuoyis.net/usr/uploads/2024/05/432448672.png" alt="{DCC4682F-CD72-4af6-81C9-0C4FF52D39D4}.png"><br><img src="https://blog.nuoyis.net/usr/uploads/2024/05/3883296521.png" alt="{CF3C5F8E-7585-43b0-BE9F-869EF8D24752}.png"><br><img src="https://blog.nuoyis.net/usr/uploads/2024/05/2798389111.png" alt="{04373DEB-8D7D-48f9-AA16-9F333FC00816}.png"><br>0.5 最小化用户安装配置<br>如果想让你用的爽点，最小化用户就必须得做的操作<br>镜像肯定是要挂载的，执行下面命令先挂载</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -t iso9660 /dev/sr0 /mnt</span><br></pre></td></tr></tbody></table></figure><p>然后跳转到2去找本地源，再就是只能用vi编辑<br>然后配置好源后，安装tab自动补全和ifconfig命令查看网卡</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install net-tools -y &amp;&amp; yum install bash* -y &amp;&amp; yum install vim -y</span><br></pre></td></tr></tbody></table></figure><p>1 静态IP配置<br>查看网卡(ens160就是网卡型号)</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ifconfig -a</span><br><span class="line">#ens160: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">#        inet6 fe80::20c:29ff:fea5:d8fb  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">#        ether 00:0c:29:a5:d8:fb  txqueuelen 1000  (Ethernet)</span><br><span class="line">#        RX packets 171783  bytes 191870187 (182.9 MiB)</span><br><span class="line">#        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">#        TX packets 25077  bytes 2147309 (2.0 MiB)</span><br><span class="line">#        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/NetworkManager/system-connections/ens160.mconnect.mconnection</span><br></pre></td></tr></tbody></table></figure><p>配置下方的配置(仅需修改ipv4即可)</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[ipv4]</span><br><span class="line">address1=192.168.50.2/24,192.168.50.1</span><br><span class="line">dns=223.5.5.5</span><br><span class="line">ignore-auto-dns=true</span><br><span class="line">method=manual</span><br></pre></td></tr></tbody></table></figure><p>2 配置yum源<br>网络源</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/yun.repos.d/aliyun.repo</span><br></pre></td></tr></tbody></table></figure><p>配置内容</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[ali_BaseOS]</span><br><span class="line">name=ali_BaseOS</span><br><span class="line">baseurl=https://mirrors.aliyun.com/centos-stream/9-stream/BaseOS/x86_64/os/</span><br><span class="line">gpgcheck=0</span><br><span class="line"></span><br><span class="line">[ali_AppStream]</span><br><span class="line">name=ali_AppStream</span><br><span class="line">baseurl=https://mirrors.aliyun.com/centos-stream/9-stream/AppStream/x86_64/os/</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></tbody></table></figure><p>本地源</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[local_BaseOS]</span><br><span class="line">name=local_BaseOS</span><br><span class="line">baseurl=file:///iso/BaseOS/</span><br><span class="line">gpgcheck=0</span><br><span class="line"></span><br><span class="line">[local_AppStream]</span><br><span class="line">name=ali_AppStream</span><br><span class="line">baseurl=file:///iso/AppStream/</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></tbody></table></figure><p>永久挂载</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/fstab</span><br></pre></td></tr></tbody></table></figure><p>添加内容</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/dev/sr0   /iso                   iso9660      defaults,user,ro        0 0</span><br></pre></td></tr></tbody></table></figure><p>立即生效</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -a</span><br></pre></td></tr></tbody></table></figure><p>#自动脚本配置(带署名化)<br>可能有些脚本不符合某些人的需求(毕竟我用我的作者名来创建文件以及内容)<br>完全原创，可以给我修改建议或把修改好的版本提交给我<br>同时，ansible也有延迟替换ip方案</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"># echo "anisable专供延迟"</span><br><span class="line"># sleep $[ ( $RANDOM % 60 + 5 ) ]</span><br><span class="line">namedeta="nuoyis"</span><br><span class="line">echo "正在修改网卡，有短暂断网现象"</span><br><span class="line">nuo_setnetwork_shell=$(ifconfig -a | grep -o '^\w*' | grep -v 'lo')</span><br><span class="line">nmcli connection delete $nuo_setnetwork_shell</span><br><span class="line">nmcli connection add con-name $nuo_setnetwork_shell ifname $nuo_setnetwork_shell type ethernet autoconnect yes</span><br><span class="line">for i in {3..254};</span><br><span class="line">do</span><br><span class="line">ip=192.168.60.$i</span><br><span class="line">ping -c 2 $ip &gt; /dev/null 2&gt;&amp;1</span><br><span class="line">if [ $? -eq 1 ]; then</span><br><span class="line">    nuoautoip=$ip</span><br><span class="line">    break</span><br><span class="line">fi</span><br><span class="line">done</span><br><span class="line">nmcli connection modify $nuo_setnetwork_shell ipv4.method man ipv4.addresses ${nuoautoip}/24 ipv4.gateway 192.168.60.2 ipv4.dns 192.168.60.2</span><br><span class="line">nmcli connection up $nuo_setnetwork_shell</span><br><span class="line">nmcli connection reload</span><br><span class="line">systemctl stop NetworkManager</span><br><span class="line">systemctl start NetworkManager</span><br><span class="line"></span><br><span class="line">namedeta="nuoyis"</span><br><span class="line">echo "配置镜像源,默认1是本地源，2是网络源"</span><br><span class="line">read -p "请输入你的序号:" yumid</span><br><span class="line">touch /etc/yum.repos.d/$namedeta.repo</span><br><span class="line">if [$yumid = 1];then</span><br><span class="line">cat &gt; /etc/yum.repos.d/$namedeta.repo &lt;&lt; EOF</span><br><span class="line">[${namedeta}_BaseOS]</span><br><span class="line">name = ${namedeta}_BaseOS</span><br><span class="line">baseurl = file:///mnt/BaseOS</span><br><span class="line">gpgcheck = 0</span><br><span class="line"></span><br><span class="line">[${namedeta}_AppStream]</span><br><span class="line">name = ${namedeta}_AppStream</span><br><span class="line">baseurl = file:///mnt/AppStream</span><br><span class="line">gpgcheck = 0</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">cat &gt;&gt; /etc/fstab &lt;&lt; EOF</span><br><span class="line">/dev/sr0/mntiso9660defaults,user,ro 0 0</span><br><span class="line">EOF</span><br><span class="line">mount -a</span><br><span class="line">else</span><br><span class="line">cat &gt; /etc/yum.repos.d/$namedeta.repo &lt;&lt; EOF</span><br><span class="line">[${namedeta}_BaseOS]</span><br><span class="line">name = ${namedeta}_BaseOS</span><br><span class="line">baseurl = https://mirrors.tuna.tsinghua.edu.cn/centos-stream/9-stream/BaseOS/x86_64/os/</span><br><span class="line">gpgcheck = 0</span><br><span class="line"></span><br><span class="line">[${namedeta}_AppStream]</span><br><span class="line">name = ${namedeta}_AppStream</span><br><span class="line">baseurl = https://mirrors.tuna.tsinghua.edu.cn/centos-stream/9-stream/AppStream/x86_64/os/</span><br><span class="line">gpgcheck = 0</span><br><span class="line"></span><br><span class="line">[${namedeta}_epel]</span><br><span class="line">name=${namedeta}_epal</span><br><span class="line">baseurl=https://mirrors.tuna.tsinghua.edu.cn/epel/9/Everything/x86_64/</span><br><span class="line">gpgcheck = 0</span><br><span class="line">EOF</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">yum update -y &amp;&amp; yum makecache -y</span><br></pre></td></tr></tbody></table></figure><h1 id="服务搭建"><a href="#服务搭建" class="headerlink" title="服务搭建"></a>服务搭建</h1><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>如果你不在公网上访问或者不在各大赛项搭建以下服务，才能执行下方命令区域，否则请看安全部分<br>(1)如果服务无法ping通或者无法访问，多半是防火墙，这里操作是关闭并禁止开机自启</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl disable firewall</span><br><span class="line">sudo systemctl stop firewall</span><br></pre></td></tr></tbody></table></figure><p>(2)如果文件不让读写，或者服务的配置文件无法使用，查看selinux为宽松或者关闭</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setenforce 0</span><br><span class="line">或者</span><br><span class="line">sudo vi /etc/selinux/config</span><br><span class="line">SELINUX=disabled</span><br></pre></td></tr></tbody></table></figure><h2 id="FTP服务"><a href="#FTP服务" class="headerlink" title="FTP服务"></a>FTP服务</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install vsftpd -y</span><br><span class="line">systemctl start</span><br><span class="line">systemctl enable</span><br><span class="line">vim /etc/vsftpd/vsftpd.conf</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"># 不以独立模式运行</span><br><span class="line">listen=NO</span><br><span class="line"># 支持 IPV6，如不开启 IPV4 也无法登录</span><br><span class="line">listen_ipv6=YES</span><br><span class="line"></span><br><span class="line"># 匿名用户登录</span><br><span class="line">anonymous_enable=YES</span><br><span class="line">no_anon_password=YES</span><br><span class="line"># 允许匿名用户上传文件</span><br><span class="line">anon_upload_enable=YES</span><br><span class="line"># 允许匿名用户新建文件夹</span><br><span class="line">anon_mkdir_write_enable=YES</span><br><span class="line"># 匿名用户删除文件和重命名文件</span><br><span class="line">anon_other_write_enable=YES</span><br><span class="line"># 匿名用户的掩码（022 的实际权限为 666-022=644）</span><br><span class="line">anon_umask=022</span><br><span class="line">anon_root=/ftp/anon</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 系统用户登录</span><br><span class="line">local_enable=YES</span><br><span class="line">local_umask=022</span><br><span class="line">local_root=/madia/ftp/user</span><br><span class="line">chroot_local_user=YES</span><br><span class="line">allow_writeable_chroot=YES</span><br><span class="line">chroot_list_enable=YES</span><br><span class="line">chroot_list_file=/etc/vsftpd/chroot_list</span><br><span class="line"># 对文件具有写权限，否则无法上传</span><br><span class="line">write_enable=YES</span><br><span class="line"></span><br><span class="line">max_clients=0</span><br><span class="line">max_per_ip=0</span><br><span class="line"></span><br><span class="line"># 使用主机时间</span><br><span class="line">use_localtime=YES</span><br><span class="line">pam_service_name=vsftpd</span><br></pre></td></tr></tbody></table></figure><h2 id="Apache服务"><a href="#Apache服务" class="headerlink" title="Apache服务"></a>Apache服务</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install httpd -y</span><br><span class="line">systemctl start httpd</span><br><span class="line">systemctl enable httpd</span><br><span class="line">vim /etc/httpd/conf/httpd.conf</span><br></pre></td></tr></tbody></table></figure><p>配置文件</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">ServerRoot "/etc/httpd"</span><br><span class="line">Listen 80</span><br><span class="line">Listen 8080</span><br><span class="line">Include conf.modules.d/*.conf</span><br><span class="line">User apache</span><br><span class="line">Group apache</span><br><span class="line">ServerAdmin root@localhost</span><br><span class="line">&lt;Directory /&gt;</span><br><span class="line">    AllowOverride none</span><br><span class="line">    Require all denied</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line">DocumentRoot "/var/www/html"</span><br><span class="line">&lt;Directory "/var/www"&gt;</span><br><span class="line">    AllowOverride None</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line">      LogFormat "%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-Agent}i\" %I %O" combinedio </span><br><span class="line">    &lt;/IfModule&gt; </span><br><span class="line">    CustomLog "logs/access_log" combined </span><br><span class="line">&lt;/IfModule&gt; </span><br><span class="line"> </span><br><span class="line">&lt;IfModule alias_module&gt; </span><br><span class="line">    ScriptAlias /cgi-bin/ "/var/www/cgi-bin/" </span><br><span class="line">&lt;/IfModule&gt; </span><br><span class="line"> </span><br><span class="line">&lt;Directory "/var/www/cgi-bin"&gt; </span><br><span class="line">    AllowOverride None </span><br><span class="line">    Options None </span><br><span class="line">    Require all granted </span><br><span class="line">&lt;/Directory&gt; </span><br><span class="line"> </span><br><span class="line">&lt;IfModule mime_module&gt; </span><br><span class="line">    TypesConfig /etc/mime.types </span><br><span class="line">    AddType application/x-compress .Z </span><br><span class="line">    AddType application/x-gzip .gz .tgz </span><br><span class="line">    AddType text/html .shtml </span><br><span class="line">    AddOutputFilter INCLUDES .shtml </span><br><span class="line">&lt;/IfModule&gt; </span><br><span class="line"> </span><br><span class="line">AddDefaultCharset UTF-8 </span><br><span class="line"> </span><br><span class="line">&lt;IfModule mime_magic_module&gt; </span><br><span class="line">    MIMEMagicFile conf/magic </span><br><span class="line">&lt;/IfModule&gt; </span><br><span class="line"> </span><br><span class="line">EnableSendfile on </span><br><span class="line">IncludeOptional conf.d/*.conf </span><br><span class="line">&lt;VirtualHost *:80&gt;  </span><br><span class="line">ServerName 0.0.0.0 </span><br><span class="line">DocumentRoot /var/www/nuoyis </span><br><span class="line">&lt;/VirtualHost&gt; </span><br></pre></td></tr></tbody></table></figure><h2 id="SAMBA服务"><a href="#SAMBA服务" class="headerlink" title="SAMBA服务"></a>SAMBA服务</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install samba* -y</span><br><span class="line">systemctl start smb</span><br><span class="line">systemctl enable smb</span><br><span class="line">vim /etc/samba/smb.conf</span><br></pre></td></tr></tbody></table></figure><p>底部增加</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[nuoyis]</span><br><span class="line">        comment = xxxx samba share</span><br><span class="line">        path = /media/nuoyis/</span><br><span class="line">        writable = yes</span><br><span class="line">        browseable = yes</span><br><span class="line">        guest ok = yes</span><br></pre></td></tr></tbody></table></figure><p>然后再增加用户</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useradd nuoyis1024</span><br><span class="line">passwd nuoyis1024</span><br><span class="line">smbpasswd -a nuoyis1024</span><br></pre></td></tr></tbody></table></figure><h2 id="NFS服务"><a href="#NFS服务" class="headerlink" title="NFS服务"></a>NFS服务</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">yum install rpcbind -y</span><br><span class="line">systemctl start rpcbind</span><br><span class="line">systemctl enable rpcbind</span><br><span class="line">NFS的配置文件为 /etc/exports，文件内容默认为空。在设置共享资源时，格式为：</span><br><span class="line">目录位置 客户机地址（权限选项）</span><br><span class="line">(1) 例如，若要将文件夹/opt/web 共享给192.168.100.120主机使用，允许读操作：</span><br><span class="line">[root@localhost ~]# vi /etc/exports</span><br><span class="line">/opt/web 192.168.100.120(ro)//ro表示只读权限</span><br><span class="line"></span><br><span class="line">(2) 若要将同一个目录给两个不同的主机，且分配不同的权限时，只要以空格分隔指定多个“客户机（权限选项）”即可。</span><br><span class="line">例如，若要将/var/ftp/pubilc 目录共享给两个客户机，分别给予只读、读写权限：</span><br><span class="line">[root@localhost ~]# vi /etc/exports</span><br><span class="line">/var/ftp/pub 192.168.1.54(ro) 192.168.1.77(rw)//rw表示读写权限</span><br><span class="line"></span><br><span class="line">重启NFS，注意：手动加载NFS共享服务时，应该先启动rpcbind，然后再启动nfs。</span><br><span class="line">showmount -e//查看本机共享文件目录</span><br></pre></td></tr></tbody></table></figure><h2 id="DHCP服务"><a href="#DHCP服务" class="headerlink" title="DHCP服务"></a>DHCP服务</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install dhcpd -y</span><br><span class="line">systemctl start dhcpd</span><br><span class="line">systemctl enable dhcpd</span><br><span class="line">vim /etc/dhcp/dhcpd.conf</span><br></pre></td></tr></tbody></table></figure><p>DHCP配置最快搭建方案</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/share/doc/dhcp-server/dhcpd.conf.example /etc/dhcp/dhcpd.conf</span><br></pre></td></tr></tbody></table></figure><p>你需要的服务</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 动态配置</span><br><span class="line"># 分别是网段范围，分配的ip范围，网关，广播地址，域名解析，更新时间</span><br><span class="line">subnet 192.168.50.0 netmask 255.255.255.0 {</span><br><span class="line">  range 192.168.50.11 192.168.50.250;</span><br><span class="line">  option routers 192.168.50.1;</span><br><span class="line">  option broadcast-address 192.168.50.255;</span><br><span class="line">  option domain-name-servers 192.168.50.1;</span><br><span class="line">  default-lease-time 600;</span><br><span class="line">  max-lease-time 7200;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"># 静态解析，以web服务器为例</span><br><span class="line">host www {</span><br><span class="line">  hardware ethernet 网卡mac;</span><br><span class="line">  fixed-address 192.168.100.80;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="DNS服务"><a href="#DNS服务" class="headerlink" title="DNS服务"></a>DNS服务</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install bind -y</span><br><span class="line">systemctl start bind</span><br><span class="line">systemctl enable bind</span><br><span class="line">vim /etc/named.conf</span><br></pre></td></tr></tbody></table></figure><p>如果仅需对内网机提供服务，把127.0.0.1和localhost改成any就行<br>如果需要域名内网配置的话<br>客户端配置<br>[root@DNS-user /]# cat /etc/resolv.conf</p><h1 id="Generated-by-NetworkManager"><a href="#Generated-by-NetworkManager" class="headerlink" title="Generated by NetworkManager"></a>Generated by NetworkManager</h1><p>search localdomain<br>nameserver 192.168.50.1</p><h2 id="Mariadb服务"><a href="#Mariadb服务" class="headerlink" title="Mariadb服务"></a>Mariadb服务</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install Mariadb -y</span><br><span class="line">systemctl start Mariadb</span><br><span class="line">systemctl enable Mariadb</span><br></pre></td></tr></tbody></table></figure><h2 id="Firewalld规则"><a href="#Firewalld规则" class="headerlink" title="Firewalld规则"></a>Firewalld规则</h2><p>firewall-cmd –zone=public –add-service=服务名 –per</p><h2 id="SeLinux策略"><a href="#SeLinux策略" class="headerlink" title="SeLinux策略"></a>SeLinux策略</h2><p>查看相应SeLinux策略方面<br>getsebool -a | grep 服务名</p><h2 id="Ansible基本操作"><a href="#Ansible基本操作" class="headerlink" title="Ansible基本操作"></a>Ansible基本操作</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install Ansible -y</span><br><span class="line">systemctl start Ansible</span><br><span class="line">systemctl enable Ansible</span><br></pre></td></tr></tbody></table></figure><h2 id="Docker服务"><a href="#Docker服务" class="headerlink" title="Docker服务"></a>Docker服务</h2><p>###万能脚本</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL get.docker.com -o get-docker.sh</span><br></pre></td></tr></tbody></table></figure><p>###手动执行首先运行</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install docker-ce -y</span><br></pre></td></tr></tbody></table></figure><p>如果出现未找到软件包先执行以下指令</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line">yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">sed -i 's+download.docker.com+mirrors.tuna.tsinghua.edu.cn/docker-ce+' /etc/yum.repos.d/docker-ce.repo</span><br><span class="line">yum makecache</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> default </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Vue主页开发日记(二)</title>
      <link href="/posts/31e4.html"/>
      <url>/posts/31e4.html</url>
      
        <content type="html"><![CDATA[<p>第二篇来快速讲解vue,以及设计个抽象js,没有抽象的js是无法完成高效率的</p><blockquote><p>我的主页: <a href="https://www.nuoyis.net/">https://www.nuoyis.net</a><br>我的开源库: <a href="https://github.com/nuoyis/webpages">https://github.com/nuoyis/webpages</a></p></blockquote><p>Vue每个页面的编写基本框架</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">//你的网页内容</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">//你的脚本内容</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">//页面的css</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></tbody></table></figure><p>抽象的js就和main.js放在同个文件内,我这里命名为<code>function.js</code>,其中我写的抽象库参考如下:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br></pre></td><td class="code"><pre><span class="line">import { ref, onMounted, onUnmounted } from 'vue'</span><br><span class="line">import axios from "axios";</span><br><span class="line">import xmljs from 'xml-js';</span><br><span class="line">import NProgress from 'nprogress';</span><br><span class="line">import 'nprogress/nprogress.css'; // 导入NProgress的样式</span><br><span class="line"></span><br><span class="line">// 按照惯例，组合式函数名以“use”开头</span><br><span class="line">export function useMouse() {</span><br><span class="line">    // 被组合式函数封装和管理的状态</span><br><span class="line">    const x = ref(0)</span><br><span class="line">    const y = ref(0)</span><br><span class="line"></span><br><span class="line">    // 组合式函数可以随时更改其状态。</span><br><span class="line">    function update(event) {</span><br><span class="line">        x.value = event.pageX</span><br><span class="line">        y.value = event.pageY</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    // 一个组合式函数也可以挂靠在所属组件的生命周期上</span><br><span class="line">    // 来启动和卸载副作用</span><br><span class="line">    onMounted(() =&gt; window.addEventListener('mousemove', update))</span><br><span class="line">    onUnmounted(() =&gt; window.removeEventListener('mousemove', update))</span><br><span class="line"></span><br><span class="line">    // 通过返回值暴露所管理的状态</span><br><span class="line">    return { x, y }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">export function nuotime() {</span><br><span class="line">    const nowdate = ref(null)</span><br><span class="line">    const currentTime = ref(null)</span><br><span class="line">        setInterval(() =&gt; {</span><br><span class="line">            const date = new Date();</span><br><span class="line">            const hours = date.getHours();</span><br><span class="line">            const minutes = date.getMinutes();</span><br><span class="line">            const seconds = date.getSeconds();</span><br><span class="line">            const year = date.getFullYear();</span><br><span class="line">            const month = date.getMonth() + 1;</span><br><span class="line">            const day = date.getDate();</span><br><span class="line">            nowdate.value = year;</span><br><span class="line">            currentTime.value = `${year}年${month}月${day}日 ${hours}时${minutes}分${seconds}秒`;</span><br><span class="line">        }, 1000);</span><br><span class="line">    return { nowdate, currentTime }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">export function nuorequst(url) {</span><br><span class="line">    const nuostatus = ref(200);</span><br><span class="line">    const nuodata = ref(null);</span><br><span class="line"></span><br><span class="line">    const get = () =&gt; {</span><br><span class="line">        NProgress.start(); // 启动进度条</span><br><span class="line"></span><br><span class="line">        axios.get(url)</span><br><span class="line">            .then(response =&gt; {</span><br><span class="line">                handleResponse(response);</span><br><span class="line">            })</span><br><span class="line">            .catch(error =&gt; {</span><br><span class="line">                handleError(error);</span><br><span class="line">            })</span><br><span class="line">            .finally(() =&gt; {</span><br><span class="line">                NProgress.done(); // 无论请求成功或失败都停止进度条</span><br><span class="line">            });</span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    const post = (data) =&gt; {</span><br><span class="line">        NProgress.start(); // 启动进度条</span><br><span class="line"></span><br><span class="line">        axios.post(url, data)</span><br><span class="line">            .then(response =&gt; {</span><br><span class="line">                handleResponse(response);</span><br><span class="line">            })</span><br><span class="line">            .catch(error =&gt; {</span><br><span class="line">                handleError(error);</span><br><span class="line">            })</span><br><span class="line">            .finally(() =&gt; {</span><br><span class="line">                NProgress.done(); // 无论请求成功或失败都停止进度条</span><br><span class="line">            });</span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    const handleResponse = (response) =&gt; {</span><br><span class="line">        // 判断响应的Content-Type是否为XML</span><br><span class="line">        const contentType = response.headers['content-type'];</span><br><span class="line">        if (contentType &amp;&amp; contentType.includes('xml')) {</span><br><span class="line">            // 如果是XML，则将其解析为JSON</span><br><span class="line">            const jsonResult = xmljs.xml2js(response.data, { compact: true, spaces: 4 });</span><br><span class="line">            nuodata.value = jsonResult;</span><br><span class="line">        } else {</span><br><span class="line">            // 如果是JSON，则直接使用响应数据</span><br><span class="line">            nuodata.value = response.data;</span><br><span class="line">        }</span><br><span class="line">        nuostatus.value = response.status;</span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    const handleError = (error) =&gt; {</span><br><span class="line">        nuostatus.value = error.response ? error.response.status : 500;</span><br><span class="line">        nuodata.value = error.response ? error.response.data : error;</span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    return { nuostatus, nuodata, get, post };</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Parse the time to string</span><br><span class="line"> * @param {(Object|string|number)} time</span><br><span class="line"> * @param {string} cFormat</span><br><span class="line"> * @returns {string | null}</span><br><span class="line"> * from https://blog.csdn.net/LW0512/article/details/120287699</span><br><span class="line"> */</span><br><span class="line">export function parseTime(time, cFormat) {</span><br><span class="line">    if (arguments.length === 0) {</span><br><span class="line">        return null</span><br><span class="line">    }</span><br><span class="line">    const format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}'</span><br><span class="line">    let date</span><br><span class="line">    if (typeof time === 'object') {</span><br><span class="line">        date = time</span><br><span class="line">    } else {</span><br><span class="line">        if ((typeof time === 'string') &amp;&amp; (/^[0-9]+$/.test(time))) {</span><br><span class="line">            time = parseInt(time)</span><br><span class="line">        }</span><br><span class="line">        if ((typeof time === 'number') &amp;&amp; (time.toString().length === 10)) {</span><br><span class="line">            time = time * 1000</span><br><span class="line">        }</span><br><span class="line">        date = new Date(time)</span><br><span class="line">    }</span><br><span class="line">    const formatObj = {</span><br><span class="line">        y: date.getFullYear(),</span><br><span class="line">        m: date.getMonth() + 1,</span><br><span class="line">        d: date.getDate(),</span><br><span class="line">        h: date.getHours(),</span><br><span class="line">        i: date.getMinutes(),</span><br><span class="line">        s: date.getSeconds(),</span><br><span class="line">        a: date.getDay()</span><br><span class="line">    }</span><br><span class="line">    const time_str = format.replace(/{([ymdhisa])+}/g, (result, key) =&gt; {</span><br><span class="line">        const value = formatObj[key]</span><br><span class="line">        // Note: getDay() returns 0 on Sunday</span><br><span class="line">        if (key === 'a') { return ['日', '一', '二', '三', '四', '五', '六'][value] }</span><br><span class="line">        return value.toString().padStart(2, '0')</span><br><span class="line">    })</span><br><span class="line">    return time_str</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @param {number} time</span><br><span class="line"> * @param {string} option</span><br><span class="line"> * @returns {string}</span><br><span class="line"> */</span><br><span class="line">export function formatTime(time, option) {</span><br><span class="line">    if (('' + time).length === 10) {</span><br><span class="line">        time = parseInt(time) * 1000</span><br><span class="line">    } else {</span><br><span class="line">        time = +time</span><br><span class="line">    }</span><br><span class="line">    const d = new Date(time)</span><br><span class="line">    const now = Date.now()</span><br><span class="line"></span><br><span class="line">    const diff = (now - d) / 1000</span><br><span class="line"></span><br><span class="line">    if (diff &lt; 30) {</span><br><span class="line">        return '刚刚'</span><br><span class="line">    } else if (diff &lt; 3600) {</span><br><span class="line">        // less 1 hour</span><br><span class="line">        return Math.ceil(diff / 60) + '分钟前'</span><br><span class="line">    } else if (diff &lt; 3600 * 24) {</span><br><span class="line">        return Math.ceil(diff / 3600) + '小时前'</span><br><span class="line">    } else if (diff &lt; 3600 * 24 * 2) {</span><br><span class="line">        return '1天前'</span><br><span class="line">    }</span><br><span class="line">    if (option) {</span><br><span class="line">        return parseTime(time, option)</span><br><span class="line">    } else {</span><br><span class="line">        return (</span><br><span class="line">            d.getMonth() +</span><br><span class="line">            1 +</span><br><span class="line">            '月' +</span><br><span class="line">            d.getDate() +</span><br><span class="line">            '日' +</span><br><span class="line">            d.getHours() +</span><br><span class="line">            '时' +</span><br><span class="line">            d.getMinutes() +</span><br><span class="line">            '分'</span><br><span class="line">        )</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @param {string} url</span><br><span class="line"> * @returns {Object}</span><br><span class="line"> */</span><br><span class="line">export function param2Obj(url) {</span><br><span class="line">    const search = url.split('?')[1]</span><br><span class="line">    if (!search) {</span><br><span class="line">        return {}</span><br><span class="line">    }</span><br><span class="line">    return JSON.parse(</span><br><span class="line">        '{"' +</span><br><span class="line">        decodeURIComponent(search)</span><br><span class="line">            .replace(/"/g, '\\"')</span><br><span class="line">            .replace(/&amp;/g, '","')</span><br><span class="line">            .replace(/=/g, '":"')</span><br><span class="line">            .replace(/\+/g, ' ') +</span><br><span class="line">        '"}'</span><br><span class="line">    )</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>你需要安装以下内容(终端或cmd)</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pnpm i axios</span><br><span class="line">pnpm i nprogress</span><br><span class="line">pnpm i xml-js</span><br></pre></td></tr></tbody></table></figure><p>引用axios方法</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import { nuorequst } from '@/function.js'</span><br><span class="line">const { nuostatus, nuodata, get, post } = nuorequst('url')</span><br><span class="line">//get方式</span><br><span class="line">get(); </span><br><span class="line">//post方式</span><br><span class="line">const postData = { canshu:'canshu' };</span><br><span class="line">const fetchData = () =&gt; {</span><br><span class="line">  post(postData);</span><br><span class="line">};</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure><p>引用时间方法</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import { nuotime } from '@/function.js'</span><br><span class="line">const { nowdate, currentTime } = nuotime()</span><br></pre></td></tr></tbody></table></figure><p>与上面内容结合起来示例(api),其中<code>v-if v-else</code>是判断，想必写过代码的同学都很熟悉了，for循环和python也有很多相似之处。如果你想class类哪个标签带变量，就得加上一个冒号,如<code>&lt;a :href="nuodata.url"&gt;&lt;/a&gt;</code></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class="nuoyis-api-main"&gt;</span><br><span class="line">    &lt;p v-if=" nuostatus===200 "&gt;api接口名单请求状态:正常&lt;/p&gt;</span><br><span class="line">    &lt;p v-else&gt;api接口名单请求状态:异常&lt;br/&gt;请联系站长修复&lt;/p&gt;</span><br><span class="line">    &lt;p v-if=" nuostatus===200 "&gt;目前推出的API调用&lt;/p&gt;</span><br><span class="line">    &lt;div class="nuoyis-api" id="nuoyis-api" v-if=" nuostatus===200 "&gt;</span><br><span class="line">        &lt;router-link class="nuoyis-api-url" v-for="api in nuodata" :to="{ path:'/apiquery',query:{id:api.id}}"&gt;</span><br><span class="line">        &lt;i class="nuoyis-api-images"&gt;&lt;/i&gt;</span><br><span class="line">        &lt;div class="nuoyis-api-text"&gt;</span><br><span class="line">          &lt;h2&gt;{{ api.name }}&lt;/h2&gt;</span><br><span class="line">          &lt;p&gt;</span><br><span class="line">            说明:无</span><br><span class="line">            &lt;br /&gt;</span><br><span class="line">            状态:{{ api.state }}</span><br><span class="line">          &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/router-link&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;button @click="$router.push('/')" class="routerbtn"&gt;首页&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import nuotitle from '@/wabpages/nuotitle.vue'</span><br><span class="line">import { nuorequst } from '@/function.js'</span><br><span class="line">const { nuostatus, nuodata, get, post } = nuorequst('https://server-api.nuoyis.net/jiekou.json')</span><br><span class="line">get();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.nuoyis-api {</span><br><span class="line">  display: grid;</span><br><span class="line">  padding: 0px 8%;</span><br><span class="line">  color: #66CCFF;</span><br><span class="line">  grid-gap: 30px;</span><br><span class="line">  padding-bottom: 3rem;</span><br><span class="line">  text-decoration: none;</span><br><span class="line">  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">.nuoyis-api-url {</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  text-decoration: none;</span><br><span class="line">  text-align: center;</span><br><span class="line">  padding-top: 30px;</span><br><span class="line">  padding-bottom: 30px;</span><br><span class="line">  background-color:#f2f2f2;</span><br><span class="line">  box-shadow: 4px 6px 16px gray;</span><br><span class="line">  transition: transform 0.5s,background 0.5s;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">.nuoyis-api-url i {</span><br><span class="line">  font-size: 40px;</span><br><span class="line">  margin-bottom: 10px;</span><br><span class="line">  color: #303ef7;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">.nuoyis-api-url h2 {</span><br><span class="line">  font-size: 16px;</span><br><span class="line">  font-weight: 600;</span><br><span class="line">  margin-bottom: 8px;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">.nuoyis-api-url:hover {</span><br><span class="line">  background: #303ef7;</span><br><span class="line">  color: #fff;</span><br><span class="line">  transform: scale(1.05);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">.nuoyis-api-url:hover i {</span><br><span class="line">  color: #fff;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">.nuoyis-api-text{</span><br><span class="line">  color: black;</span><br><span class="line">  padding: 0 5px;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">.nuoyis-api-text p{</span><br><span class="line">  margin:0;</span><br><span class="line">  font-size: 10px;</span><br><span class="line">}</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></tbody></table></figure><p>这一期就完成了，其他的在(三)中讲到</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Vue主页开发日记(一)</title>
      <link href="/posts/f140.html"/>
      <url>/posts/f140.html</url>
      
        <content type="html"><![CDATA[<p>webpages虽然开源了，但是那是之前的html模板，现在已经逐渐适配Vue。在编写Vue时，为了记录开发进程，以日记的方法来记录</p><blockquote><p>我的主页: <a href="https://www.nuoyis.net/">https://www.nuoyis.net</a><br>我的开源库: <a href="https://github.com/nuoyis/webpages">https://github.com/nuoyis/webpages</a></p></blockquote><p>Vue的编写前肯定得安装nodejs和其框架,这个需要官网上去了解<br>网站地址: <a href="https://nodejs.org/">https://nodejs.org</a><br>Vue官网: <a href="https://cn.vuejs.org/">https://cn.vuejs.org/</a></p><p>建议安装框架时，使用pnpm或cnpm,会减少报错和耐心</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g pnpm</span><br><span class="line">pnpm set registry https://registry.npmmirror.com/</span><br><span class="line">pnpm create vue@latest</span><br></pre></td></tr></tbody></table></figure><p>项目名一输，建议保留router</p><p>✔ Project name: … <your-project-name><br>✔ Add TypeScript? … <strong>No</strong> / Yes<br>✔ Add JSX Support? … <strong>No</strong> / Yes<br>✔ Add Vue Router for Single Page Application development? … No / <strong>Yes</strong><br>✔ Add Pinia for state management? … <strong>No</strong> / Yes<br>✔ Add Vitest for Unit testing? … <strong>No</strong> / Yes<br>✔ Add an End-to-End Testing Solution? … <strong>No</strong> / Cypress / Playwright<br>✔ Add ESLint for code quality? … <strong>No</strong> / Yes<br>✔ Add Prettier for code formatting? … <strong>No</strong> / Yes  </your-project-name></p><p>Scaffolding project in ./<your-project-name>…<br>Done.</your-project-name></p><p>然后创建好后就是三件套</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd &lt;your-project-name&gt;</span><br><span class="line">pnpm install</span><br><span class="line">pnpm run dev</span><br></pre></td></tr></tbody></table></figure><p><code>pnpm run dev</code>即是项目启动预览，如果你要项目静态化,直接<code>pnpm run build</code>,生成的文件夹为./dist<br>如果你想直接流水线部署(github actions),请复制以下yml并在<code>.github/workflows</code>内创建(名称随意)</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">name: Build webpages for vue</span><br><span class="line">on:</span><br><span class="line">  workflow_dispatch:</span><br><span class="line">  push:</span><br><span class="line">    branches: [main, master] # 当监测 main,master 的 push</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  build-and-deploy:</span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    steps:</span><br><span class="line">    - name: Checkout</span><br><span class="line">      uses: actions/checkout@v2 # If you're using actions/checkout@v2 you must set persist-credentials to false in most cases for the deployment to work correctly.</span><br><span class="line">      with:</span><br><span class="line">        persist-credentials: false</span><br><span class="line">    - name: Install and Build</span><br><span class="line">      run: |</span><br><span class="line">        npm install</span><br><span class="line">        npm run build</span><br><span class="line">    - name: Deploy</span><br><span class="line">      uses: JamesIves/github-pages-deploy-action@releases/v3</span><br><span class="line">      with:</span><br><span class="line">        ACCESS_TOKEN: ${{ secrets.ACTION_TOKEN }}</span><br><span class="line">        BRANCH: gh-pages</span><br><span class="line">        FOLDER: dist</span><br></pre></td></tr></tbody></table></figure><p>这个ACTION_TOKEN你需要在github内获取token,并添加变量，如果你不知道位置，请在你的库名后加入<code>/settings/secrets/actions</code>,例如:<a href="https://github.com/nuoyis/webpages/settings/secrets/actions">https://github.com/nuoyis/webpages/settings/secrets/actions</a><br>然后Vue项目启动预览后，基本的框架已经建设好了，你要修改的全在src内。建议是除了main.js和app.vue，其他的移动出项目外,以便在没有思绪的情况下看看官方的写法。<br>项目根目录下的<code>index.html</code>可以修改head区域，body就不建议修改。<br>接下来的内容在(二)中编写，感谢你的观看。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>利用cloudflare搭建二次元随机图片刷新图床</title>
      <link href="/posts/f408.html"/>
      <url>/posts/f408.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hexo外带主题的配置方案</title>
      <link href="/posts/3f34.html"/>
      <url>/posts/3f34.html</url>
      
        <content type="html"><![CDATA[<p>Hexo作为一个能静态化的轻量级博客程序，拥有着无需服务器，仅需一个github pages+全球CDN就秒杀绝大多数的动态语言博客。当然动态语言博客可以多人使用，hexo适合个人使用且无后台，也就无后台被攻击这种说法了。<br>首先感谢:<a href="https://www.zdynb.cn/2019/hexo-bi-bei-cha-jian.html%E7%9A%84%E6%96%87%E7%AB%A0%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%BD%A0%E8%A6%81%E9%85%8D%E7%BD%AE%E9%A2%9D%E5%A4%96%E5%86%85%E5%AE%B9%E8%AF%B7%E5%9C%A8%E6%AD%A4%E7%AF%87%E6%96%87%E7%AB%A0%E5%86%85%E6%9F%A5%E6%89%BE">https://www.zdynb.cn/2019/hexo-bi-bei-cha-jian.html的文章，如果你要配置额外内容请在此篇文章内查找</a></p><p>windows安装方法<br>首先，Hexo的框架你得安装吧，nodejs作为底层得安装吧<br>第一步, 下载个nodejs就行了。<a href="https://nodejs.org/en">快捷链接</a><br>第二部, cmd命令框执行 <code>npm install hexo-cli -g</code><br>第三步，新建一个文件夹，然后重新在目录内打开cmd，执行hexo init(执行前保持目录内干净)<br>第四步,修改_config.yml内容，我的站点配置如下。（部分内容我打了星的都是敏感区域，还有些需要上方链接点击进去配置插件。</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"># Hexo Configuration</span><br><span class="line">## Docs: https://hexo.io/docs/configuration.html</span><br><span class="line">## Source: https://github.com/hexojs/hexo/</span><br><span class="line"></span><br><span class="line"># Site</span><br><span class="line">title: 诺依阁的日记簿</span><br><span class="line">subtitle: '一个记录技术的日记簿'</span><br><span class="line">description: '一个记录技术的日记簿'</span><br><span class="line">keywords: typecho,php,blog,诺依阁,站长,系统安装,环境搭建,服务器,站长,诺依阁的日常记录,生活,技术,科技,日记,诺依阁的日记簿,博客,云服务器,白嫖,自媒体,树洞空间</span><br><span class="line">author: nuoyis</span><br><span class="line">language: zh-CN</span><br><span class="line">timezone: 'Asia/Shanghai'</span><br><span class="line">email: wkkjonlykang@vip.qq.com</span><br><span class="line"></span><br><span class="line"># URL</span><br><span class="line">## Set your site url here. For example, if you use GitHub Page, set url as 'https://username.github.io/project'</span><br><span class="line">url: https://blog.nuoyis.net</span><br><span class="line">permalink: :abbrlink.html</span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc32  # 算法：crc16(default) and crc32</span><br><span class="line">  rep: hex    # 进制：dec(default) and hex</span><br><span class="line">permalink_defaults:</span><br><span class="line">pretty_urls:</span><br><span class="line">  trailing_index: true # Set to false to remove trailing 'index.html' from permalinks</span><br><span class="line">  trailing_html: true # Set to false to remove trailing '.html' from permalinks</span><br><span class="line"></span><br><span class="line">#baidu</span><br><span class="line">baidu_url_submit:</span><br><span class="line">  count: 80             # 提交最新链接数量</span><br><span class="line">  host: blog.nuoyis.net    # 在百度站长平台中注册的域名</span><br><span class="line">  token: xxxxxxxxxxxxxx # 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!</span><br><span class="line">  path: baidu_urls.txt  # 文本文档的地址， 新链接会保存在此文本文档里</span><br><span class="line"></span><br><span class="line"># Directory</span><br><span class="line">source_dir: source</span><br><span class="line">public_dir: public</span><br><span class="line">tag_dir: tags</span><br><span class="line">archive_dir: archives</span><br><span class="line">category_dir: categories</span><br><span class="line">code_dir: downloads/code</span><br><span class="line">i18n_dir: :lang</span><br><span class="line">skip_render:</span><br><span class="line"></span><br><span class="line"># Writing</span><br><span class="line">new_post_name: :title.md # File name of new posts</span><br><span class="line">default_layout: post</span><br><span class="line">titlecase: false # Transform title into titlecase</span><br><span class="line">external_link:</span><br><span class="line">  enable: true # Open external links in new tab</span><br><span class="line">  field: site # Apply to the whole site</span><br><span class="line">  exclude: ''</span><br><span class="line">filename_case: 0</span><br><span class="line">render_drafts: false</span><br><span class="line">post_asset_folder: false</span><br><span class="line">relative_link: false</span><br><span class="line">future: true</span><br><span class="line">syntax_highlighter: highlight.js</span><br><span class="line">highlight:</span><br><span class="line">  line_number: true</span><br><span class="line">  auto_detect: false</span><br><span class="line">  tab_replace: ''</span><br><span class="line">  wrap: true</span><br><span class="line">  hljs: false</span><br><span class="line">prismjs:</span><br><span class="line">  preprocess: true</span><br><span class="line">  line_number: true</span><br><span class="line">  tab_replace: ''</span><br><span class="line"></span><br><span class="line"># Home page setting</span><br><span class="line"># path: Root path for your blogs index page. (default = '')</span><br><span class="line"># per_page: Posts displayed per page. (0 = disable pagination)</span><br><span class="line"># order_by: Posts order. (Order by date descending by default)</span><br><span class="line">index_generator:</span><br><span class="line">  path: ''</span><br><span class="line">  per_page: 10</span><br><span class="line">  order_by: -date</span><br><span class="line"></span><br><span class="line"># Category &amp; Tag</span><br><span class="line">default_category: uncategorized</span><br><span class="line">category_map:</span><br><span class="line">tag_map:</span><br><span class="line"></span><br><span class="line"># Metadata elements</span><br><span class="line">## https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta</span><br><span class="line">meta_generator: true</span><br><span class="line"></span><br><span class="line"># Date / Time format</span><br><span class="line">## Hexo uses Moment.js to parse and display date</span><br><span class="line">## You can customize the date format as defined in</span><br><span class="line">## http://momentjs.com/docs/#/displaying/format/</span><br><span class="line">date_format: YYYY-MM-DD</span><br><span class="line">time_format: HH:mm:ss</span><br><span class="line">## updated_option supports 'mtime', 'date', 'empty'</span><br><span class="line">updated_option: 'mtime'</span><br><span class="line"></span><br><span class="line"># Pagination</span><br><span class="line">## Set per_page to 0 to disable pagination</span><br><span class="line">per_page: 10</span><br><span class="line">pagination_dir: page</span><br><span class="line"></span><br><span class="line"># Include / Exclude file(s)</span><br><span class="line">## include:/exclude: options only apply to the 'source/' folder</span><br><span class="line">include:</span><br><span class="line">exclude:</span><br><span class="line">ignore:</span><br><span class="line"></span><br><span class="line"># Extensions</span><br><span class="line">## Plugins: https://hexo.io/plugins/</span><br><span class="line">## Themes: https://hexo.io/themes/</span><br><span class="line">theme: butterfly</span><br><span class="line"></span><br><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/one-command-deployment</span><br><span class="line">#github这里配置了账户密钥</span><br><span class="line">deploy:</span><br><span class="line">  - type: git</span><br><span class="line">    repository:</span><br><span class="line">      github: https://************************@github.com/nuoyis/blog.git,master</span><br><span class="line"></span><br><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  content: true</span><br><span class="line">  template: ./search.xml</span><br><span class="line"></span><br><span class="line">feed:</span><br><span class="line">  type: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  limit: 20</span><br><span class="line">  hub:</span><br><span class="line">  content:</span><br><span class="line">  content_limit: 140</span><br><span class="line">  content_limit_delim: ' '</span><br><span class="line">  order_by: -date</span><br><span class="line">  </span><br><span class="line">githubEmojis:</span><br><span class="line">  enable: true</span><br><span class="line">  className: github-emoji</span><br><span class="line">  inject: true</span><br><span class="line">  styles:</span><br><span class="line">  customEmojis:</span><br><span class="line"></span><br><span class="line"># hexo-admin authentification</span><br><span class="line">admin:</span><br><span class="line">  username: ******</span><br><span class="line">  password_hash: ******************************************************</span><br><span class="line">  secret: nuoyis</span><br></pre></td></tr></tbody></table></figure><p>如果你npm无法下载完全，那么就需要用到如下命令  </p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://registry.npmmirror.com/</span><br></pre></td></tr></tbody></table></figure><p>写文章的话,你需要先在这个init目录下执行hexo new “你要写的文章内容”,<br>然后就在source_posts里面可以看到文章并编写。<br>主题的话，你需要按照主题文档的要求去配置。<br>下面就以butterfly的做示范。<br>首先主题clone一份（在git的那个窗口，没下载的用clone下面一条命令)</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#clone二选一</span><br><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br><span class="line"></span><br><span class="line">git clone -b master https://gitee.com/immyw/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></tbody></table></figure><p>zip方式需要自行解压到themes目录，可能需要创建文件夹butterfly</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://gitee.com/immyw/hexo-theme-butterfly/repository/archive/master.zip</span><br></pre></td></tr></tbody></table></figure><p>从butterfly文件夹内复制_config.yml，并将其重命名为_config.butterfly.yml。<br>然后进入<a href="https://butterfly.js.org/posts/21cfbf15/">https://butterfly.js.org/posts/21cfbf15/</a> 这个链接进行详细的配置。<br>至此，Hexo大致就完成了。然后就是做好运维，不要像我一样三天两头改博客地址<br>如果你不想每次都得手动上传，请查看文章:<a href="https://blog.nuoyis.net/posts/1594.html">https://blog.nuoyis.net/posts/1594.html</a><br>如果你不想一篇篇把文章从typecho移到hexo，请看这篇文章:<a href="https://blog.nuoyis.net/posts/b4cf.html">https://blog.nuoyis.net/posts/b4cf.html</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>雨云美国一区服务器测评</title>
      <link href="/posts/bd9b.html"/>
      <url>/posts/bd9b.html</url>
      
        <content type="html"><![CDATA[<p>之前简单测评了下雨云服务器的网速和延迟，但是没有进行过性能测试。这次我选用的配置如下:<br>2核心2G(CPU为 : Intel(R) Xeon(R) CPU E5-2680 v4 @ 2.40GHz)<br>带宽为 上传30兆，下载为50兆<br>测试结果: <a href="https://paste.spiritlhl.net/code/L8fXkw.txt">https://paste.spiritlhl.net/code/L8fXkw.txt</a></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line">测评频道: https://t.me/vps_reviews                    </span><br><span class="line">版本：2024.02.18</span><br><span class="line">更新日志：VPS融合怪测试(集百家之长)                       </span><br><span class="line">---------------------基础信息查询--感谢所有开源项目---------------------</span><br><span class="line"> CPU 型号          : Intel(R) Xeon(R) CPU E5-2680 v4 @ 2.40GHz</span><br><span class="line"> CPU 核心数        : 2</span><br><span class="line"> CPU 频率          : 2399.996 MHz</span><br><span class="line"> CPU 缓存          : L1: 64.00 KB / L2: 8.00 MB / L3: 16.00 MB</span><br><span class="line"> 硬盘空间          : 9.14 GiB / 28.89 GiB</span><br><span class="line"> 启动盘路径        : /dev/sda1</span><br><span class="line"> 内存              : 747.41 MiB / 1.93 GiB</span><br><span class="line"> Swap              : 23.50 MiB / 1.00 GiB</span><br><span class="line"> 系统在线时间      : 2 days, 21 hour 22 min</span><br><span class="line"> 负载              : 0.72, 0.21, 0.07</span><br><span class="line"> 系统              : Ubuntu 22.04.1 LTS (x86_64)</span><br><span class="line"> AES-NI指令集      : ✔ Enabled</span><br><span class="line"> VM-x/AMD-V支持    : ✔ Enabled</span><br><span class="line"> 架构              : x86_64 (64 Bit)</span><br><span class="line"> 内核              : 5.15.0-46-generic</span><br><span class="line"> TCP加速方式       : bbr</span><br><span class="line"> 虚拟化架构        : KVM</span><br><span class="line"> NAT类型           : 独立映射,独立过滤,支持回环</span><br><span class="line"> IPV4 ASN          : AS979 NetLab Global</span><br><span class="line"> IPV4 位置         : Los Angeles / California / US</span><br><span class="line">----------------------CPU测试--通过sysbench测试-------------------------</span><br><span class="line"> -&gt; CPU 测试中 (Fast Mode, 1-Pass @ 5sec)</span><br><span class="line"> 1 线程测试(单核)得分: 870 Scores</span><br><span class="line"> 2 线程测试(多核)得分: 1692 Scores</span><br><span class="line">---------------------内存测试--感谢lemonbench开源-----------------------</span><br><span class="line"> -&gt; 内存测试 Test (Fast Mode, 1-Pass @ 5sec)</span><br><span class="line"> 单线程读测试:17977.65 MB/s</span><br><span class="line"> 单线程写测试:12430.98 MB/s</span><br><span class="line">------------------磁盘dd读写测试--感谢lemonbench开源--------------------</span><br><span class="line"> -&gt; 磁盘IO测试中 (4K Block/1M Block, Direct Mode)</span><br><span class="line"> 测试操作写速度读速度</span><br><span class="line"> 100MB-4K Block42.6 MB/s (10.41 IOPS, 2.46s)56.0 MB/s (13663 IOPS, 1.87s)</span><br><span class="line"> 1GB-1M Block2.9 GB/s (2736 IOPS, 0.37s)4.5 GB/s (4270 IOPS, 0.23s)</span><br><span class="line">---------------------磁盘fio读写测试--感谢yabs开源----------------------</span><br><span class="line">Block Size | 4k            (IOPS) | 64k           (IOPS)</span><br><span class="line">  ------   | ---            ----  | ----           ---- </span><br><span class="line">Read       | 168.48 MB/s  (42.1k) | 687.58 MB/s  (10.7k)</span><br><span class="line">Write      | 168.92 MB/s  (42.2k) | 691.20 MB/s  (10.8k)</span><br><span class="line">Total      | 337.40 MB/s  (84.3k) | 1.37 GB/s    (21.5k)</span><br><span class="line">           |                      |                     </span><br><span class="line">Block Size | 512k          (IOPS) | 1m            (IOPS)</span><br><span class="line">  ------   | ---            ----  | ----           ---- </span><br><span class="line">Read       | 839.30 MB/s   (1.6k) | 852.04 MB/s    (832)</span><br><span class="line">Write      | 883.90 MB/s   (1.7k) | 908.78 MB/s    (887)</span><br><span class="line">Total      | 1.72 GB/s     (3.3k) | 1.76 GB/s     (1.7k)</span><br><span class="line">---------------------流媒体解锁--感谢sjlleo开源-------------------------</span><br><span class="line">以下测试的解锁地区是准确的，但是不是完整解锁的判断可能有误，这方面仅作参考使用</span><br><span class="line">----------------Youtube----------------</span><br><span class="line">[IPv4]</span><br><span class="line">连接方式: Youtube Video Server</span><br><span class="line">视频缓存节点地域: 美国  洛杉机(LAX31S13)</span><br><span class="line">Youtube识别地域: 无信息(null)</span><br><span class="line">----------------Netflix----------------</span><br><span class="line">[IPv4]</span><br><span class="line">您的出口IP完整解锁Netflix，支持非自制剧的观看</span><br><span class="line">NF所识别的IP地域信息：美国</span><br><span class="line">[IPv6]</span><br><span class="line">您的网络可能没有正常配置IPv6，或者没有IPv6网络接入</span><br><span class="line">---------------DisneyPlus---------------</span><br><span class="line">[IPv4]</span><br><span class="line">当前IPv4出口解锁DisneyPlus</span><br><span class="line">区域：美国区</span><br><span class="line">解锁Youtube，Netflix，DisneyPlus上面和下面进行比较，不同之处自行判断</span><br><span class="line">----------------流媒体解锁--感谢RegionRestrictionCheck开源--------------</span><br><span class="line"> 以下为IPV4网络测试，若无IPV4网络则无输出</span><br><span class="line">============[ Multination ]============</span><br><span class="line"> Dazn:Yes (Region: US)</span><br><span class="line"> HotStar:Yes (Region: US)</span><br><span class="line"> Disney+:Yes (Region: US)</span><br><span class="line"> Netflix:Yes (Region: US)</span><br><span class="line"> YouTube Premium:Yes</span><br><span class="line"> Amazon Prime Video:Yes (Region: US)</span><br><span class="line"> TVBAnywhere+:Yes</span><br><span class="line"> iQyi Oversea Region:US</span><br><span class="line"> Viu.com:No</span><br><span class="line"> YouTube CDN:Los Angeles, CA </span><br><span class="line"> Netflix Preferred CDN:Los Angeles, CA  </span><br><span class="line"> Spotify Registration:No</span><br><span class="line"> Steam Currency:USD</span><br><span class="line"> ChatGPT:Yes</span><br><span class="line"> Bing Region:US</span><br><span class="line"> Instagram Licensed Audio:-&gt;</span><br><span class="line"> Instagram Licensed Audio:Yes</span><br><span class="line">=======================================</span><br><span class="line"> 以下为IPV6网络测试，若无IPV6网络则无输出</span><br><span class="line">---------------TikTok解锁--感谢lmc999的源脚本及fscarmen PR--------------</span><br><span class="line"> Tiktok Region:【US】</span><br><span class="line">-------------------欺诈分数以及IP质量检测--本脚本原创-------------------</span><br><span class="line">数据仅作参考，不代表100%准确，如果和实际情况不一致请手动查询多个数据库比对</span><br><span class="line">以下为各数据库编号，输出结果后将自带数据库来源对应的编号</span><br><span class="line">ipinfo数据库 ①  | scamalytics数据库 ②  | virustotal数据库 ③  | abuseipdb数据库 ④  | ip2location数据库   ⑤</span><br><span class="line">ip-api数据库 ⑥  | ipwhois数据库     ⑦  | ipregistry数据库 ⑧  | ipdata数据库    ⑨  | ipgeolocation数据库 ⑩</span><br><span class="line">欺诈分数(越低越好): 0②</span><br><span class="line">abuse得分(越低越好): 0④</span><br><span class="line">IP类型: </span><br><span class="line">  使用类型(usage_type):hosting①  Data Center/Web Hosting/Transit⑤  hosting⑧  business⑨  </span><br><span class="line">  公司类型(company_type):isp①  isp⑧  </span><br><span class="line">  云服务提供商(cloud_provider):  Yes⑧ </span><br><span class="line">  数据中心(datacenter):  No⑥ ⑨ </span><br><span class="line">  移动网络(mobile):  No⑥ </span><br><span class="line">  代理(proxy):  No① ② ⑥ ⑧ ⑨ </span><br><span class="line">  VPN(vpn):  No① ② ⑧ </span><br><span class="line">  TOR(tor):  No① ② ⑧ ⑨ </span><br><span class="line">  TOR出口(tor_exit):  No⑧ </span><br><span class="line">  搜索引擎机器人(search_engine_robot):② </span><br><span class="line">  匿名代理(anonymous):  No⑧ ⑨ </span><br><span class="line">  攻击方(attacker):  No⑧ ⑨ </span><br><span class="line">  滥用者(abuser):  No⑧ ⑨ </span><br><span class="line">  威胁(threat):  No⑧ ⑨ </span><br><span class="line">  iCloud中继(icloud_relay):  No① ⑧ ⑨ </span><br><span class="line">  未分配IP(bogon):  No⑧ ⑨ </span><br><span class="line">黑名单记录统计(有多少个黑名单网站有记录): 无害64 恶意1 可疑0 未检测25 ③</span><br><span class="line">Google搜索可行性：YES</span><br><span class="line">端口25检测:</span><br><span class="line">  本地: Yes</span><br><span class="line">  163邮箱：No</span><br><span class="line">----------------三网回程--感谢zhanghanyun/backtrace开源-----------------</span><br><span class="line">国家: US 城市: Los Angeles 服务商: AS979 NetLab Global</span><br><span class="line">北京电信 219.141.136.12  联通4837[普通线路]           </span><br><span class="line">北京联通 202.106.50.1    联通4837[普通线路]           </span><br><span class="line">北京移动 221.179.155.161 联通4837[普通线路]           </span><br><span class="line">上海电信 202.96.209.133  联通4837[普通线路]           </span><br><span class="line">上海联通 210.22.97.1     联通4837[普通线路]           </span><br><span class="line">上海移动 211.136.112.200 联通4837[普通线路]           </span><br><span class="line">广州电信 58.60.188.222   联通4837[普通线路]           </span><br><span class="line">广州联通 210.21.196.6    联通4837[普通线路]           </span><br><span class="line">广州移动 120.196.165.24  联通4837[普通线路]           </span><br><span class="line">成都电信 61.139.2.69     联通4837[普通线路]           </span><br><span class="line">成都联通 119.6.6.6       联通4837[普通线路]           </span><br><span class="line">成都移动 211.137.96.205  联通4837[普通线路]           </span><br><span class="line">---------------------回程路由--感谢fscarmen开源及PR---------------------</span><br><span class="line">依次测试电信/联通/移动经过的地区及线路，核心程序来自ipip.net或nexttrace，请知悉!</span><br><span class="line">广州电信 58.60.188.222</span><br><span class="line">1.04 ms  *  局域网</span><br><span class="line">14.30 ms  AS979  美国, 加利福尼亚州, 洛杉矶, cogentco.com</span><br><span class="line">1.38 ms  *  局域网</span><br><span class="line">0.86 ms  *  局域网</span><br><span class="line">9.65 ms  AS10099  美国, 加利福尼亚州, 洛杉矶, chinaunicom.com, 联通</span><br><span class="line">180.73 ms  *  中国, 香港, chinaunicom.com, 联通</span><br><span class="line">184.60 ms  AS4837  中国, 北京, chinaunicom.com, 联通</span><br><span class="line">180.93 ms  AS4837  中国, 北京, chinaunicom.com, 联通</span><br><span class="line">178.85 ms  AS4134  中国, 广东, 深圳, chinatelecom.com.cn, 电信</span><br><span class="line">191.68 ms  AS4134  中国, 广东, 深圳, chinatelecom.com.cn, 电信</span><br><span class="line">广州联通 210.21.196.6</span><br><span class="line">0.51 ms  *  局域网</span><br><span class="line">4.43 ms  AS979  美国, 加利福尼亚州, 洛杉矶, cogentco.com</span><br><span class="line">4.50 ms  *  局域网</span><br><span class="line">0.78 ms  *  局域网</span><br><span class="line">10.24 ms  AS10099  美国, 加利福尼亚州, 洛杉矶, chinaunicom.com, 联通</span><br><span class="line">177.01 ms  *  中国, 香港, chinaunicom.com, 联通</span><br><span class="line">195.34 ms  AS4837  中国, 北京, chinaunicom.com, 联通</span><br><span class="line">197.03 ms  AS17816  中国, 广东, 深圳, chinaunicom.com, 联通</span><br><span class="line">196.63 ms  AS17623  中国, 广东, 深圳, chinaunicom.com, 联通</span><br><span class="line">194.56 ms  AS17623  中国, 广东, 深圳, chinaunicom.com, 联通</span><br><span class="line">广州移动 120.196.165.24</span><br><span class="line">2.32 ms  *  局域网</span><br><span class="line">23.69 ms  AS979  美国, 加利福尼亚州, 洛杉矶, cogentco.com</span><br><span class="line">38.66 ms  *  局域网</span><br><span class="line">0.85 ms  *  局域网</span><br><span class="line">9.91 ms  AS10099  美国, 加利福尼亚州, 洛杉矶, chinaunicom.com, 联通</span><br><span class="line">176.66 ms  *  中国, 香港, chinaunicom.com, 联通</span><br><span class="line">180.25 ms  AS4837  中国, 北京, chinaunicom.com, 联通</span><br><span class="line">183.29 ms  AS4837  中国, 北京, chinaunicom.com, 联通</span><br><span class="line">164.96 ms  AS4837  中国, 北京, chinaunicom.com, 联通</span><br><span class="line">172.80 ms  AS4837  中国, 广东, 广州, chinaunicom.com, 联通</span><br><span class="line">175.68 ms  AS9808  中国, 广东, 广州, chinamobile.com, 移动</span><br><span class="line">180.90 ms  AS9808  中国, 广东, 广州, chinamobile.com, 移动</span><br><span class="line">176.84 ms  AS56040  中国, 广东, 深圳, chinamobile.com, 移动</span><br><span class="line">--------------------自动更新测速节点列表--本脚本原创--------------------</span><br><span class="line">位置 上传速度 下载速度 延迟  丢包率</span><br><span class="line">Speedtest.net 31.33 Mbps 50.31 Mbps 0.60  0.0%</span><br><span class="line">洛杉矶 30.61 Mbps 52.25 Mbps 1.12  0.0%</span><br><span class="line">联通郑州5G 32.40 Mbps 58.27 Mbps 190.97  NULL</span><br><span class="line">联通上海5G 9.83 Mbps 55.93 Mbps 206.31  0.0%</span><br><span class="line">电信Zhenjiang5G 31.12 Mbps 55.82 Mbps 153.36  NULL</span><br><span class="line">电信合肥5G 31.27 Mbps 55.56 Mbps 196.60  0.0%</span><br><span class="line">移动Lanzhou 33.11 Mbps 55.22 Mbps 197.28  NULL</span><br><span class="line">------------------------------------------------------------------------</span><br><span class="line"> 总共花费      : 6 分 17 秒</span><br><span class="line"> 时间          : Sun Feb 18 18:49:05 CST 2024</span><br><span class="line">------------------------------------------------------------------------</span><br></pre></td></tr></tbody></table></figure><p>总体来说，美国1区的最大优势就是带宽，延迟相对多了30毫秒。还好带宽没有任何的缩减，都是在误差范围内。<br>再就是雨云的服务器就是带宽大小，貌似没有达量限速或者停止服务的标识。但是注意，还是在正常的情况下使用，不要反复去蹂躏服务器来回本，真封了后悔都来不及</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>利用Python3来快速从Typecho迁移至Hexo</title>
      <link href="/posts/b4cf.html"/>
      <url>/posts/b4cf.html</url>
      
        <content type="html"><![CDATA[<p>最近在GitHub上找到一个写Typecho转Hexo的大佬，可惜我是最新版的Python，运行直接报错，修改一个如同大洪水一样又报错很多。<br>于是在他的基础上，用python3的包来替换原来的一些写的方法。<br>代码如下:</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># 原作者:https://github.com/zhourongyu/Typecho2Hexo</span></span><br><span class="line"><span class="comment"># 新数据库借鉴作者:https://www.jianshu.com/p/4e72faebd27f</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">import</span> arrow</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> codecs</span><br><span class="line"></span><br><span class="line">host = <span class="string">''</span></span><br><span class="line">port = <span class="number">3306</span></span><br><span class="line">db = <span class="string">''</span></span><br><span class="line">user = <span class="string">''</span></span><br><span class="line">password = <span class="string">''</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    conn = pymysql.connect(host=host, port=port, db=db, user=user, password=password)</span><br><span class="line">    cursor = conn.cursor(pymysql.cursors.DictCursor)</span><br><span class="line">    <span class="comment"># 创建分类和标签</span></span><br><span class="line">    cursor.execute(<span class="string">"select type, slug, name from typecho_metas"</span>)</span><br><span class="line">    <span class="keyword">for</span> cate <span class="keyword">in</span> cursor.fetchall():</span><br><span class="line">        path = <span class="string">'data/分类/%s'</span> % urllib.parse.unquote(cate[<span class="string">'slug'</span>])</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path):</span><br><span class="line">            os.makedirs(path)</span><br><span class="line">        f = codecs.<span class="built_in">open</span>(<span class="string">'%s/index.md'</span> % path, <span class="string">'w'</span>, <span class="string">"utf-8"</span>)</span><br><span class="line">        f.write(<span class="string">"title: %s\n"</span> % urllib.parse.unquote(cate[<span class="string">'slug'</span>]))</span><br><span class="line">        f.write(<span class="string">"date: %s\n"</span> % arrow.now().<span class="built_in">format</span>(<span class="string">'YYYY-MM-DD HH:mm:ss'</span>))</span><br><span class="line">        <span class="comment"># 区分分类和标签</span></span><br><span class="line">        <span class="keyword">if</span> cate[<span class="string">'type'</span>] == <span class="string">'category'</span>:</span><br><span class="line">            f.write(<span class="string">'type: "categories"\n'</span>)</span><br><span class="line">        <span class="keyword">elif</span> cate[<span class="string">'type'</span>] == <span class="string">'tags'</span>:</span><br><span class="line">            f.write(<span class="string">'type: "tags"\n'</span>)</span><br><span class="line">        <span class="comment"># 禁止评论</span></span><br><span class="line">        f.write(<span class="string">"comments: false\n"</span>)</span><br><span class="line">        f.write(<span class="string">"---\n"</span>)</span><br><span class="line">        f.close()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建文章</span></span><br><span class="line">    cursor.execute(<span class="string">"select cid, title, slug, text, created from typecho_contents where type='post'"</span>)</span><br><span class="line">    <span class="keyword">for</span> e <span class="keyword">in</span> cursor.fetchall():</span><br><span class="line">        title = re.sub(<span class="string">'[\/:*?"&lt;&gt;|]'</span>,<span class="string">'-'</span>,e[<span class="string">'title'</span>].encode(<span class="string">'raw_unicode_escape'</span>).decode(<span class="string">"unicode-escape"</span>))</span><br><span class="line">        content = <span class="built_in">str</span>(e[<span class="string">'text'</span>].replace(<span class="string">'&lt;!--markdown--&gt;'</span>, <span class="string">''</span>))</span><br><span class="line">        tags = []</span><br><span class="line">        category = <span class="string">""</span></span><br><span class="line">        <span class="comment"># 找出文章的tag及category</span></span><br><span class="line">        cursor.execute(</span><br><span class="line">            <span class="string">"select type, name, slug from `typecho_relationships` ts, typecho_metas tm where tm.mid = ts.mid and ts.cid = %s"</span>,</span><br><span class="line">            e[<span class="string">'cid'</span>])</span><br><span class="line">        <span class="keyword">for</span> m <span class="keyword">in</span> cursor.fetchall():</span><br><span class="line">            <span class="keyword">if</span> m[<span class="string">'type'</span>] == <span class="string">'tag'</span>:</span><br><span class="line">                tags.append(m[<span class="string">'name'</span>])</span><br><span class="line">            <span class="keyword">if</span> m[<span class="string">'type'</span>] == <span class="string">'category'</span>:</span><br><span class="line">                category = urllib.parse.unquote(m[<span class="string">'slug'</span>])</span><br><span class="line">        path = <span class="string">'data/文章/'</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path):</span><br><span class="line">            os.makedirs(path)</span><br><span class="line">        f = codecs.<span class="built_in">open</span>(<span class="string">'%s%s.md'</span> % (path, title), <span class="string">'w'</span>, <span class="string">"utf-8"</span>)</span><br><span class="line">        f.write(<span class="string">"---\n"</span>)</span><br><span class="line">        f.write(<span class="string">"title: %s\n"</span> % title)</span><br><span class="line">        f.write(<span class="string">"date: %s\n"</span> % arrow.get(e[<span class="string">'created'</span>]).<span class="built_in">format</span>(<span class="string">'YYYY-MM-DD HH:mm:ss'</span>))</span><br><span class="line">        f.write(<span class="string">"categories: %s\n"</span> % category)</span><br><span class="line">        f.write(<span class="string">"tags: [%s]\n"</span> % <span class="string">','</span>.join(tags))</span><br><span class="line">        f.write(<span class="string">"---\n"</span>)</span><br><span class="line">        f.write(content)</span><br><span class="line">        f.close()</span><br><span class="line">    conn.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></tbody></table></figure><p>复制粘贴,填写你的数据库信息即可</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>用python实现部分按键自动化</title>
      <link href="/posts/1f2.html"/>
      <url>/posts/1f2.html</url>
      
        <content type="html"><![CDATA[<p>自从学了python以来，那就得用在最该用的地方-&gt;自动化。(爬虫就算了)<br>目前写了个小的enter键按法，对于gta5已经试验过可以使用。<br>代码如下:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">from pynput.keyboard import Key, Controller</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line">keyboard = Controller()</span><br><span class="line"></span><br><span class="line">for i in range(999):</span><br><span class="line">    keyboard.press(Key.enter)</span><br><span class="line">    time.sleep(0.1)</span><br><span class="line">    keyboard.release(Key.enter)</span><br><span class="line">    time.sleep(1)</span><br></pre></td></tr></tbody></table></figure><p>代码模拟了人对键盘的按下去和放开。按下去后过0.1秒放开，然后过一秒接着模拟按下，最多按999次，虽然可以写 while true,但是建议写个键来终止程序继续运行</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">from pynput.keyboard import Key, Controller</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line">keyboard = Controller()</span><br><span class="line"></span><br><span class="line">while True:</span><br><span class="line">    keyboard.press(Key.enter)</span><br><span class="line">    time.sleep(0.1)</span><br><span class="line">    keyboard.release(Key.enter)</span><br><span class="line">    time.sleep(1)</span><br></pre></td></tr></tbody></table></figure><p>不过，引入pynput得先安装包才能使用,下载慢得更换源。</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pynput</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>利用Github Actions来部署Hexo</title>
      <link href="/posts/1594.html"/>
      <url>/posts/1594.html</url>
      
        <content type="html"><![CDATA[<p>Hexo在本地运行时，每次都需要运行一套命令(hexo cl,hexo g,hexo d,hexo s),而且上传时长抽风(长期大量上传文件)，本地基础文件又容易丢失。所以，我用github Actions来修补以上问题。<br>最开始很多关于github actions的文章大多没啥用，运行也会报错什么的。这里使用<a href="https://cloud.tencent.com/developer/article/2369534%E7%9A%84%E6%95%99%E7%A8%8B%E3%80%82">https://cloud.tencent.com/developer/article/2369534的教程。</a><br>我简单来描述教程，尽量多写代码，少文字。因为文字实在是太多，有的文章的看着很烦。<br>首先你需要准备:<br>1.新github闭源仓库一个(没有hexo d到库过的得还要个开源仓库)<br>2.(可有可无)Github desktop软件一个+github加速器(或改host host文件下载链接:<a href="https://raw.hellogithub.com/hosts">https://raw.hellogithub.com/hosts</a>)<br>3.配置好的hexo源文件一份<br>4.github tokens一份(新版github已改为Github =&gt; Settings =&gt; Developer settings =&gt; Tokens (classic) =&gt; Generate new token =&gt; Generate new token (classic)  </p><p>上述准备后，把下面的这个代码放在_config.yml就行了.</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  - type: git</span><br><span class="line">    repository:</span><br><span class="line">      github: https://#你的密钥#@github.com/nuoyis/blog.git,master</span><br></pre></td></tr></tbody></table></figure><p>然后在.github里创建workflows,再创建个action.yml(.yml前面随便你起个名)(文本创建全选我这个名字再粘贴进去,没看到.txt需要网上搜索展开扩展名)<br>然后打开，把下面放入这个yml文件中<br>修改如下两行<br>          git config –global user.name “doubleam”#github名字<br>          git config –global user.email “<a href="mailto:admin@biugle.cn">admin@biugle.cn</a>“#github邮箱</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">name: DoubleAm's Blog CI/CD # 脚本 workflow 名称</span><br><span class="line"></span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches: [main, master] # 当监测 main,master 的 push</span><br><span class="line">    paths: # 监测所有 source 目录下的文件变动，所有 yml,json 后缀文件的变动。</span><br><span class="line">      - '*.json'</span><br><span class="line">      - '**.yml'</span><br><span class="line">      - '**/source/**'</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  blog: # 任务名称</span><br><span class="line">    timeout-minutes: 30 # 设置 30 分钟超时</span><br><span class="line">    runs-on: ubuntu-latest # 指定最新 ubuntu 系统</span><br><span class="line">    steps:</span><br><span class="line">      - uses: actions/checkout@v2 # 拉取仓库代码</span><br><span class="line">      - uses: actions/setup-node@v2 # 设置 node.js 环境</span><br><span class="line">      - name: Cache node_modules # 缓存 node_modules，提高编译速度，毕竟每月只有 2000 分钟。</span><br><span class="line">        uses: actions/cache@v2 # 亲测 Github 服务器编译速度比我自己电脑都快，如果每次构建按5分钟计算，我们每个月可以免费部署 400 次，Github yyds！！！</span><br><span class="line">        env:</span><br><span class="line">          cache-name: cache-node-modules</span><br><span class="line">        with:</span><br><span class="line">          path: ~/.npm</span><br><span class="line">          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/package-lock.json') }}</span><br><span class="line">          restore-keys: |</span><br><span class="line">            ${{ runner.os }}-build-${{ env.cache-name }}-</span><br><span class="line">            ${{ runner.os }}-build-</span><br><span class="line">            ${{ runner.os }}-</span><br><span class="line">      - name: Init Node.js # 安装源代码所需插件</span><br><span class="line">        run: |</span><br><span class="line">          npm install</span><br><span class="line">          echo "init node successful"</span><br><span class="line">      - name: Install Hexo-cli # 安装 Hexo</span><br><span class="line">        run: |</span><br><span class="line">          npm install -g hexo-cli --save</span><br><span class="line">          echo "install hexo successful"</span><br><span class="line">      - name: Build Blog # 编译创建静态博客文件</span><br><span class="line">        run: |</span><br><span class="line">          hexo clean</span><br><span class="line">          hexo g</span><br><span class="line">          echo "build blog successful"</span><br><span class="line">      - name: Deploy DoubleAm's Blog # 设置 git 信息并推送静态博客文件</span><br><span class="line">        run: |</span><br><span class="line">          git config --global user.name "doubleam"</span><br><span class="line">          git config --global user.email "admin@biugle.cn"</span><br><span class="line">          hexo deploy</span><br><span class="line"></span><br><span class="line">      - run: echo "Deploy Successful!"</span><br></pre></td></tr></tbody></table></figure><p>再用github desktop上传或者其他方式上传，action直接就开始运行了。全绿就配置正常</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>日记簿底层框架已切换为Hexo</title>
      <link href="/posts/46e9.html"/>
      <url>/posts/46e9.html</url>
      
        <content type="html"><![CDATA[<p>Hexo很轻便，用github可以做大负载站点。且维护简单，无需关注站点本身环境问题。只需考虑上传问题。原树据之海站点已经迁移至其他站点。目前暂定域名为sea1024.nuoyis.net</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Miao-Yunzai | 2024年搭建教程</title>
      <link href="/posts/3946.html"/>
      <url>/posts/3946.html</url>
      
        <content type="html"><![CDATA[docker版本可能不会再出了<p>我将几位博主的文章进行综合，并完善搭建方法<br>首先用下面命令安装nodejs<br>ubuntu/debian</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://deb.nodesource.com/setup_21.x | sudo -E bash -</span><br><span class="line">sudo apt-get install nodejs</span><br></pre></td></tr></tbody></table></figure><p>主要环境安装</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install redis-server git openjdk-17-jre-headless ffmpeg libopencore-amrnb0 libopencore-amrwb0 python3 chromium-browser ca-certificates fonts-liberation libappindicator3-1 libasound2 libatk-bridge2.0-0 libatk1.0-0 libc6 libcairo2 libcups2 libdbus-1-3 libexpat1 libfontconfig1 libgbm1 libgcc1 libglib2.0-0 libgtk-3-0 libnspr4 libnss3 libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1 libxcb1 libxcomposite1 libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6 lsb-release wget xdg-utils -y</span><br></pre></td></tr></tbody></table></figure><p>克隆Miao-Yunzai以及其他常用插件</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone --depth=1 https://gitee.com/yoimiya-kokomi/Miao-Yunzai.git</span><br><span class="line">cd Miao-Yunzai </span><br><span class="line">git clone --depth=1 https://gitee.com/yoimiya-kokomi/miao-plugin.git ./plugins/miao-plugin/</span><br><span class="line">git clone --depth=1 https://gitee.com/yeyang52/yenai-plugin.git ./plugins/yenai-plugin</span><br></pre></td></tr></tbody></table></figure><p>指定国内源npmmirror.com安装</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm --registry=https://registry.npmmirror.com install pnpm -g</span><br><span class="line">pnpm config set registry https://registry.npmmirror.com</span><br><span class="line">pnpm install -P</span><br></pre></td></tr></tbody></table></figure><p>或者采用cnpm安装</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install cnpm -g</span><br><span class="line">cnpm install -P</span><br></pre></td></tr></tbody></table></figure><p>运行：</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node app</span><br></pre></td></tr></tbody></table></figure><p>Centos如果乱码采用以下命令</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum groupinstall fonts -y</span><br></pre></td></tr></tbody></table></figure><p>45报错: docker安装qsign方式(需获取设备id并修改)</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --restart=always --name qsign -p 8080:8080 -e ANDROID_ID=[设备id] xzhouqd/qsign:8.9.63</span><br></pre></td></tr></tbody></table></figure><p>然后执行如下命令</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim config/config/bot.yaml</span><br><span class="line">翻到最底下，改</span><br><span class="line">sign_api_addr: http://127.0.0.1:8080</span><br></pre></td></tr></tbody></table></figure><p>如果浏览器报错请试如下命令:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm uninstall puppeteer &amp;&amp; pnpm add puppeteer@13.7.0 -w</span><br></pre></td></tr></tbody></table></figure><p>错误处理<br>禁止登录 237<br>明天再来</p><p>禁止登录 45<br>需要签名</p><p>消息发送失败，可能被风控 -70 -80<br>先换签名，没用那就下线，明天再来</p><p>failed to send: [Group: 群号] undefined(120)<br>你崽被禁言了</p><p>有些来自群友，有些内容来自：<a href="http://qijieya.cn/">祈杰吖</a></p>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>大一网络课考试前夕总结</title>
      <link href="/posts/599e.html"/>
      <url>/posts/599e.html</url>
      
        <content type="html"><![CDATA[<p><strong>计算机网络概念</strong><br>计算机网络是一组相互连接，通过数据通信链路将远近的计算机通过某种协议和网络系统以及网络管理软件的管理和协调下进行共享资源和信息传递的计算机系统。<br><strong>带宽概念</strong><br>带宽是指网络或通信信道传输数据的能力，通常以每秒传输的比特数（bps，比特每秒）为单位来衡量。带宽决定了网络或通信链路能够传输数据的速率。</p><p><strong>传输介质</strong><br>有线介质:同轴电缆 双绞线 光纤<br>(还有没学的无线信道)</p><p><strong>数据通信方式</strong><br>1.单工通信<br>2.半双工通信<br>3.全双工通信</p><p><strong>OSI/RM 七层模型</strong><br>应用层<br>表示层<br>会话层<br>传输层<br>网络层<br>数据链路层<br>物理层</p><p>七层模型中发送是由上往下，接受是从下往上</p><p><strong>TCP/IP 模型</strong><br>应用层(其中协议有 SMTP-&gt;电子邮件协议 HTTP-&gt;超文本传输协议 Telnet-&gt;网络终端协议 FTP-&gt;文件传输协议 NNTP-&gt;网络新闻传输协议 DNS-&gt;域名系统 SNMP-&gt;简单网络管理协议 RIP/OSPF-&gt;路由信息协议)<br>传输层<br>网络互联层<br>主机-网络层(网络接口层)</p><p>TCP/IP模型 和 OSI/RM模型中，TCP/IP四层比OSI/RM更有效率，更加实用，模型功能大体类似。</p><p><strong>IP协议</strong>是网际协议，它是在网络通信中用于在不同设备之间传输数据的一种规则集<br><strong>TCP协议</strong>是传输控制协议，它提供可靠的，面向连接的通信。通过确认机制，重传机制等来实现可靠的数据传输。<br><strong>udp协议</strong>是用户数据报协议，它是一种无连接协议，它不提供像TCP那样的可靠性，更注重速度和简单性。例如游戏内联机大多都用了以udp为基础的通信方式。</p><p><strong>IP地址和组成</strong><br>IP拆分为网络号和主机号，其中左边是网络号，右边是主机号</p><p>具体分为ABC三类，以下是地址的分类<br>A 最大网络数126 最大主机数16777214 范围 1.0.0.0 - 126.255.255.255<br>B 最大网络数16382 最大主机数65534 范围 128.0.0.0 - 191.255.255.255<br>C 最大网络数2097150 最大主机数254 范围192.168.0.0 - 223.255.255.255<br>(主机分配中，网关和广播各被占用一位，所以IP分配时最大需要减一，最小需要加一)</p><p>广播分为直接广播-&gt;全局和本地广播(受限广播)255.255.255.255</p><p><strong>子网划分</strong><br>就是借主机位。例如:192.168.1.0/24划分三个子网，那我们都知道划分后子网掩码是27位，但转换2进制如下所示<br>11111111.11111111.11111111.00000000                子网掩码24位<br>11111111.11111111.11111111.(111)00000 (）是借位地方 子网掩码27位<br>转化为十进制为255.255.255.224，所以子网借位是从左边往右边借，然后每个子网都是62<br>例如刚刚分配的192.168.1.0/27中，从192.168.1.1-192.168.1.62(192.168.1.65-192.168.1.126)可以分配给主机</p><p><strong>网关，子网掩码，网络地址互算方法</strong><br>首先得有个IP地址(题目应该会给)<br>求网络地址(只有IP地址和子网掩码的时候):除了子网掩码全1的地方，其他都为0，并与IP地址与。在此之上，子网掩码全1即是广播地址<br>求子网掩码(不带子网):默认缺省掩码，192的是c类，即是255.255.255.0<br>求子网掩码(带子网):两者进行逻辑与进行计算(后面忘了，大佬来解答后加上去)</p><p><strong>局域网的体系(标准)三层结构</strong><br>1.物理层<br>2.媒体链路控制层（MAC)<br>3.逻辑链路控制层（LLC）</p><p><strong>802.3 介质访问控制方法（CSMA/CD)</strong><br>中文名：带有冲突检测的载波侦听多路存取<br>英文名: Carrier Sense Multiple Access/collision detection<br>来自IEEE的一种媒体访问控制方法<br>CSMA/CD的基本原理是：所有节点都共享网络传输信道，节点在发送数据之前，首先检测信道是否空闲，如果信道空闲则发送，否则就等待；在发送出信息后，再对冲突进行检测，当发现冲突时，则取消发送。</p><p><strong>以太网物理层标准</strong><br>10BASE2:使用同轴电缆进行传输，距离为200米<br>10BASE-T： 使用双绞线进行传输，传输速率为10 Mbps。<br>100BASE-TX： 同样使用双绞线，传输速率为100 Mbps。<br>1000BASE-T（或Gigabit Ethernet）： 仍然使用双绞线，但传输速率提高到1 Gbps。<br>10GBASE-T： 使用更高级别的双绞线，传输速率为10 Gbps。<br>100BASE-FX:使用光纤进行传输，传输速率为100Mbps。<br>1000BASE-SX/LX： 使用光纤进行传输，分别对应短距离和长距离的传输，速率为1 Gbps。<br>10GBASE-SR/LR： 为10 Gbps速率的光纤传输，SR用于短距离，LR用于长距离。<br>双绞线没标明距离就默认是100米</p><p><strong>交换机的工作原理</strong><br>(书上太长了，上chatgpt)<br><strong>帧接收：</strong> 当交换机接收到一个帧（数据包）时，会检查帧的目标MAC地址。<br><strong>地址学习：</strong> 交换机会记录发送该帧的设备的MAC地址，并将该地址与接口（端口）的对应关系存储在MAC地址表中。<br><strong>帧过滤和转发：</strong> 交换机通过查找MAC地址表确定目标设备所在的接口，然后只将帧转发到目标设备所在的接口，而不是广播到所有端口。<br><strong>广播和未知目标处理：</strong> 如果目标MAC地址不在地址表中，交换机会将帧广播到所有其他端口，同时记录新的MAC地址。这有助于逐渐完善交换机的地址表。<br><strong>碰撞域分割：</strong> 与集线器不同，交换机通过在不同端口之间创建虚拟连接，将每个端口分割成独立的碰撞域，从而避免了数据碰撞。</p><p><strong>实操部分(ensp代码集合)</strong><br>sys/system-config(进入配置模式)<br>int g0/0/0(进入端口)<br>ip add 192.168.1.1 24/ip address 192.168.1.1 24(配置网关为192.168.1.1，子网掩码为24位)<br>ip route-static 目的地址 掩码 下一跳地址(也就是下一个路由)<br>q/quit(退出)<br>save(保存)<br>reboot(重启)<br>shutdown(关闭端口)<br>undo shutdown(启动端口)<br>sysname R1(在配置界面改名)<br>display this(查看配置的命令)<br>display ip routing-table(查看路由表)<br><strong>console配置方式</strong><br>user-interface console 0(进入控制台端口)<br>authentication-mode password(设置为密码登录)<br>set authentication password cipher 密码(设置用户)<br>user privilege level 级别(1-15) （配置用户的级别)<br>aaa模式(设置对应用户级别)<br>aaa<br>local-user admin privilege level 15</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>阿里云serverless | 10分钟内搭建好typecho</title>
      <link href="/posts/1d39.html"/>
      <url>/posts/1d39.html</url>
      
        <content type="html"><![CDATA[首先你需要从我仓库复制一份我改造好版本的serverless-typecho<p>仓库地址:<code>https://github.com/nuoyis/serverless-typecho</code><br>然后阿里云登录，在搜索中搜索函数计算FC<br>点击应用，然后创建应用(已经创建了一个的情况下需要点击)<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/12/1425095997.png" alt="请输入图片描述"><br>用你的github账户绑定，填写这一块就可以点击下方的创建并部署默认环境。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/12/2301635979.png" alt="请输入图片描述"><br>然后自备一个mysql数据库或者直接使用sqlite3，使用sqlite3得自己想办法备份，复制到nas的内容可能需要开一台小时服务器来拷贝数据。<br>（数据库如果太贵，<a href="https://www.west.cn/?ReferenceID=1902196">点击这里</a>进入注册，然后点击上方虚拟主机-&gt;mysql数据库，100M才100元一年）<br>typecho填好数据库，一直下一步就行了。</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>西部数码的虚拟主机测评</title>
      <link href="/posts/ba63.html"/>
      <url>/posts/ba63.html</url>
      
        <content type="html"><![CDATA[<p>这次带来了西部数码的虚拟主机测评。因为本站博客要求极高，由于主要服务器压力比较大，相应速度较为缓慢，其他厂家(硅云只支持php54,雨云等)均不支持博客邮件发送或者需要切低版本使用。但切低版本会造成部分代码不适配。<br>于是我把目光转向了西部数码，购买了79一年双机房版本的体验性主机。<br>目测速度很快，仅需上自己购买的高防cdn就可以完成高并发。并发没有受到限制(轻松抗住一些压力)<br>下面是邮件发送的截图<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/12/1590161201.png" alt="请输入图片描述"></p><p><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/12/3769122646.png" alt="请输入图片描述"></p><p>带cdn一起访问的速度</p><p><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/12/1917417318.png" alt="请输入图片描述"></p><p>后台功能页面<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/12/3412036978.png" alt="请输入图片描述"></p><p>如上总结，<br>优点<br>上手快，仅需上传源码，切换php版本就可以运行了。速度和cc有基本保障，无需额外管理和支出。<br>数据库有自动备份功能，也许可以当个云数据库使用(单独买都需要100元一年哦)</p><p>缺点<br>如果你的源码很大，则需要更贵的虚拟主机。如果一年价格超过了500，真不如去整个服务器。<br>再就是很多机型不支持二开网站(子网站开设)，但是你可以绑定几个301跳转用<br>然后就是体验版流量只有15G，如果需要更多要买流量。用完了就停机了。</p><p>最后就是下单链接:[button color=”info” icon=”” url=”<a href="https://www.west.cn/active/freetc/?ReferenceID=1902196">https://www.west.cn/active/freetc/?ReferenceID=1902196</a>“ type=”round”]点击这里[/button]</p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>关于广电5G的测评(后续持续跟进)</title>
      <link href="/posts/6ffe.html"/>
      <url>/posts/6ffe.html</url>
      
        <content type="html"><![CDATA[<p>广电和移动目前是互用的，基站能互享的原因是广电获得700MHz频段(俗称黄金频段)，看到移动给的流量少，我果断搞了一张多亿点点流量的广电卡。<br>我办的是广电福兔卡（因为附近电信和联通已经卡成5G只有5兆速度，4G比5G块的情况）测试到目前广电没有卡几下，十分的流畅。<br>签约的6个月内，每隔一段时间来更新下文章内容。下面是实际的测试结果<br>首先是5G CPE切换5G的页面，并没写广电的名字。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/12/2177149020.png" alt="屏幕截图 2023-11-27 134249.png"><br>再就是5G测速，基本在400-500兆之间(附近能有这么快就吊打电信联通了)<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/12/2380846323.png" alt="屏幕截图 2023-11-27 134230.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/12/4107630947.png" alt="屏幕截图 2023-11-28 234016.png"><br>下面是5G CPE切换4G的页面，也同样没写广电的名字<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/12/373256702.png" alt="屏幕截图 2023-11-27 134336.png"><br>4G测速，由于没有自己的4G节点，所以信号在室内会差很多<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/12/1193983279.png" alt="屏幕截图 2023-11-27 134436.png"></p><p>总结:广电5G可以，4G还需优化。不过在运营商的强制5G后，广电的优势就出来了。<br>购买方式<br>点击右边地址:<a href="https://haokawx.lot-ml.com/h5order/index?pudID=339&amp;userid=415968">点击购买</a><br>然后京东上门，把包裹拆开在线扫脸充值100激活。<br>合约6个月，合约内19元，实际是29元套餐（通用相当于160多个G）。<br>包装如下:<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/12/2493913545.jpg" alt="IMG_20231127_180434.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>学习测试脚本 死亡ping</title>
      <link href="/posts/d256.html"/>
      <url>/posts/d256.html</url>
      
        <content type="html"><![CDATA[<p>最近实在是太忙了，还有篇工具箱的文章等着出。目前先把测试感觉良好的死亡ping cmd脚本提供给大家使用。<br>同时，死亡ping可以测试你真正cpu和内存的承受能力，开到400我的笔记本就差不多有些卡了。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/4193386853.png" alt="屏幕截图 2023-11-21 081409.png"><br>代码如下:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set num=300</span><br><span class="line">for /l %%i in (1,1,%num%) do (</span><br><span class="line">start cmd /k "ping -l 65000 192.168.43.1 -t"</span><br><span class="line">)</span><br><span class="line">pause</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>校园网网页登录版本更新 - 附代码</title>
      <link href="/posts/a186.html"/>
      <url>/posts/a186.html</url>
      
        <content type="html"><![CDATA[<p>自从上次写了校园网的软件，就更想深入的去优化和修改。<br>优化内容:<br>1.如果浏览器有问题原来将直接报错，现在已经全部可控制<br>2.浏览器登录完毕后，点击叉号会卡顿关闭<br>3.浏览器调用速度慢，整体代码复用度低<br>4.将账号和密码放在最前面，方便修改</p><p>新增内容:<br>1.这次采用了新的类的写法，采用python Selenium 4.15.2去写。<br>2.这次支持修改校园网地址，支持自定义登录内容</p><p>原本是想直接调用文件夹下的chromedrive,后来想还是调用系统自有的为上策<br>这次就不做多的介绍,要看介绍请看上一期<a href="https://blog.nuoyis.net/1053.html" title="https://blog.nuoyis.net/1053.html">https://blog.nuoyis.net/1053.html</a><br>这次就直接看代码</p><p>main.py</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> getpass</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> nuofunction <span class="keyword">import</span> lianwang</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="comment"># 校园网定义</span></span><br><span class="line">    xiaoyuanurl = <span class="string">"http://172.17.1.2"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 校园网账号</span></span><br><span class="line">    xiaoyuanusername = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 校园网密码</span></span><br><span class="line">    xiaoyuanpassword = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 引入类</span></span><br><span class="line">    nuo = lianwang()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 校园网连接性检测</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> (nuo.geturl(xiaoyuanurl)):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"网络异常或不是校园网，请检查"</span>)</span><br><span class="line">        exit(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 密码验证(防止盗登)</span></span><br><span class="line">    <span class="comment"># sslogin = input("请输入分配给的给予的安全密码：")</span></span><br><span class="line">    password = getpass.getpass(<span class="string">"请输入分配给的给予的安全密码："</span>)</span><br><span class="line">    <span class="keyword">if</span> password != <span class="string">"nu23o09"</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"密码错误"</span>)</span><br><span class="line">        <span class="built_in">input</span>(<span class="string">"按任意键关闭"</span>)</span><br><span class="line">        exit(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 验证成功后开始检测是否登陆过</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> (nuo.openurl(xiaoyuanurl)):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"浏览器内核调用异常,请检查"</span>)</span><br><span class="line">        <span class="built_in">input</span>(<span class="string">"按任意键关闭"</span>)</span><br><span class="line">        exit(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"正在静默登陆中，请稍后...."</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="literal">True</span> <span class="keyword">in</span> nuo.find(<span class="string">"xpath"</span>, <span class="string">"/html/body/div/div[1]/div[5]/input"</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"检测到登录，开始执行"</span>)</span><br><span class="line">        nuo.shell(<span class="string">"xpath"</span>, <span class="string">"click"</span>, <span class="string">"/html/body/div/div[1]/div[5]/input"</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"未检测到登录，继续执行"</span>)</span><br><span class="line">    <span class="comment"># 用户名</span></span><br><span class="line">    nuo.shell(<span class="string">"xpath"</span>, <span class="string">"click"</span>, <span class="string">"/html/body/div/div[1]/form/input[1]"</span>)</span><br><span class="line">    nuo.shell(<span class="string">"xpath"</span>, <span class="string">"clear"</span>, <span class="string">"/html/body/div/div[1]/form/input[1]"</span>)</span><br><span class="line">    nuo.shell(<span class="string">"xpath"</span>, <span class="string">"element"</span>, <span class="string">"/html/body/div/div[1]/form/input[1]"</span>, xiaoyuanusername)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 密码</span></span><br><span class="line">    nuo.shell(<span class="string">"xpath"</span>, <span class="string">"click"</span>, <span class="string">"/html/body/div/div[1]/form/input[2]"</span>)</span><br><span class="line">    nuo.shell(<span class="string">"xpath"</span>, <span class="string">"clear"</span>, <span class="string">"/html/body/div/div[1]/form/input[2]"</span>)</span><br><span class="line">    nuo.shell(<span class="string">"xpath"</span>, <span class="string">"element"</span>, <span class="string">"/html/body/div/div[1]/form/input[2]"</span>, xiaoyuanpassword)</span><br><span class="line">    nuo.shell(<span class="string">"xpath"</span>, <span class="string">"click"</span>, <span class="string">"/html/body/div/div[1]/form/button"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 关闭浏览器内核</span></span><br><span class="line">    nuo.closeurl()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"登录完毕，正在调用系统浏览器用于您检测是否登录成功"</span>)</span><br><span class="line">    os.popen(<span class="string">"start "</span> + xiaoyuanurl)</span><br><span class="line">    <span class="built_in">input</span>(<span class="string">"按任意键关闭"</span>)</span><br></pre></td></tr></tbody></table></figure><p>nuofunction.py</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 部分写法借鉴 https://zhuanlan.zhihu.com/p/191566983</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> urllib3</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.options <span class="keyword">import</span> Options <span class="keyword">as</span> ChromeOptions</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.firefox.options <span class="keyword">import</span> Options <span class="keyword">as</span> FirefoxOptions</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.edge.options <span class="keyword">import</span> Options <span class="keyword">as</span> EdgeOptions</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">lianwang</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">geturl</span>(<span class="params">self, url</span>):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            http = urllib3.PoolManager()</span><br><span class="line">            http.request(<span class="string">'GET'</span>, url)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">touoptions</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 头部设置</span></span><br><span class="line">        <span class="variable language_">self</span>.options.add_argument(<span class="string">"--incognito"</span>)</span><br><span class="line">        <span class="variable language_">self</span>.options.add_argument(<span class="string">'--no-sandbox'</span>)</span><br><span class="line">        <span class="variable language_">self</span>.options.add_argument(<span class="string">'--headless'</span>)</span><br><span class="line">        <span class="variable language_">self</span>.options.add_argument(<span class="string">'--disable-gpu'</span>)</span><br><span class="line">        <span class="variable language_">self</span>.options.add_argument(<span class="string">'--ignore-certificate-errors'</span>)</span><br><span class="line">        <span class="variable language_">self</span>.options.add_experimental_option(<span class="string">"excludeSwitches"</span>, [<span class="string">"enable-automation"</span>])</span><br><span class="line">        <span class="variable language_">self</span>.options.add_experimental_option(<span class="string">"useAutomationExtension"</span>, <span class="literal">False</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">openurl</span>(<span class="params">self, url</span>):</span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        打开网页</span></span><br><span class="line"><span class="string">        :param url:</span></span><br><span class="line"><span class="string">        :return: 返回 webdriver</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># 谷歌浏览器判断</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"正在使用谷歌浏览器"</span>)</span><br><span class="line">            <span class="variable language_">self</span>.options = ChromeOptions()</span><br><span class="line">            <span class="variable language_">self</span>.touoptions()</span><br><span class="line">            <span class="comment"># service = Service("./chromedriver.exe")</span></span><br><span class="line">            <span class="comment"># os.path.join(os.path.abspath("."), "chromedriver.exe"))</span></span><br><span class="line">            <span class="comment"># CHROMEDRIVER_PATH = "./chromedriver.exe"</span></span><br><span class="line">            <span class="comment"># service = Service(executable_path=CHROMEDRIVER_PATH)</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># self.driver = webdriver.Chrome(options=options)</span></span><br><span class="line">            <span class="variable language_">self</span>.driver = webdriver.Chrome(options=<span class="variable language_">self</span>.options)</span><br><span class="line">            <span class="variable language_">self</span>.driver.get(url)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">             <span class="built_in">print</span>(<span class="string">"谷歌浏览器调用失败，正在调用其他浏览器"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 火狐浏览器判断</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"正在使用火狐浏览器"</span>)</span><br><span class="line">            <span class="variable language_">self</span>.options = FirefoxOptions()</span><br><span class="line">            <span class="variable language_">self</span>.touoptions()</span><br><span class="line">            <span class="comment"># service = Service("./chromedriver.exe")</span></span><br><span class="line">            <span class="comment"># os.path.join(os.path.abspath("."), "chromedriver.exe"))</span></span><br><span class="line">            <span class="comment"># CHROMEDRIVER_PATH = "./chromedriver.exe"</span></span><br><span class="line">            <span class="comment"># service = Service(executable_path=CHROMEDRIVER_PATH)</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># self.driver = webdriver.Firefox(options=options)</span></span><br><span class="line">            <span class="variable language_">self</span>.driver = webdriver.Firefox(options=<span class="variable language_">self</span>.options)</span><br><span class="line">            <span class="variable language_">self</span>.driver.get(url)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"火狐浏览器调用失败，正在调用其他浏览器"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#Edge浏览器判断</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"正在使用Edge浏览器"</span>)</span><br><span class="line">            <span class="variable language_">self</span>.options = EdgeOptions()</span><br><span class="line">            <span class="variable language_">self</span>.touoptions()</span><br><span class="line">            <span class="comment"># service = Service("./chromedriver.exe")</span></span><br><span class="line">            <span class="comment"># os.path.join(os.path.abspath("."), "chromedriver.exe"))</span></span><br><span class="line">            <span class="comment"># CHROMEDRIVER_PATH = "./chromedriver.exe"</span></span><br><span class="line">            <span class="comment"># service = Service(executable_path=CHROMEDRIVER_PATH)</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># self.driver = webdriver.Firefox(options=options)</span></span><br><span class="line">            <span class="variable language_">self</span>.driver = webdriver.Edge(options=<span class="variable language_">self</span>.options)</span><br><span class="line">            <span class="variable language_">self</span>.driver.get(url)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Edge浏览器调用失败"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">self, <span class="built_in">type</span>, text</span>):</span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        查找网页元素</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">type</span> == <span class="string">'id'</span>:</span><br><span class="line">                elem = <span class="variable language_">self</span>.driver.find_element(By.ID, text)</span><br><span class="line">            <span class="keyword">elif</span> <span class="built_in">type</span> == <span class="string">'name'</span>:</span><br><span class="line">                elem = <span class="variable language_">self</span>.driver.find_element(By.NAME, text)</span><br><span class="line">            <span class="keyword">elif</span> <span class="built_in">type</span> == <span class="string">'class'</span>:</span><br><span class="line">                elem = <span class="variable language_">self</span>.driver.find_element(By.CLASS_NAME, text)</span><br><span class="line">            <span class="keyword">elif</span> <span class="built_in">type</span> == <span class="string">'xpath'</span>:</span><br><span class="line">                elem = <span class="variable language_">self</span>.driver.find_element(By.XPATH, text)</span><br><span class="line">            <span class="keyword">elif</span> <span class="built_in">type</span> == <span class="string">'css'</span>:</span><br><span class="line">                elem = <span class="variable language_">self</span>.driver.find_element(By.CSS_SELECTOR, text)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span>, elem</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">shell</span>(<span class="params">self, type1, type2, text1, text2=<span class="string">''</span></span>):</span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        综合判断并执行区</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        _isOK, _strLOG = <span class="variable language_">self</span>.find(type1, text1)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> _isOK:  <span class="comment"># 元素没找到，返回失败结果</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        elem = _strLOG</span><br><span class="line">        <span class="comment"># 点击</span></span><br><span class="line">        <span class="keyword">if</span> type2 == <span class="string">"click"</span>:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                elem.click()</span><br><span class="line">            <span class="keyword">except</span> Exception:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="comment"># 清除框中内容</span></span><br><span class="line">        <span class="keyword">elif</span> type2 == <span class="string">"clear"</span>:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                elem.clear()</span><br><span class="line">            <span class="keyword">except</span> Exception:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="comment"># 输入</span></span><br><span class="line">        <span class="keyword">elif</span> type2 == <span class="string">"element"</span>:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                elem.send_keys(text2)</span><br><span class="line">            <span class="keyword">except</span> Exception:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">closeurl</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.driver.quit()</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>咪咕快游 - 游戏测评</title>
      <link href="/posts/bbc2.html"/>
      <url>/posts/bbc2.html</url>
      
        <content type="html"><![CDATA[<p>最近各位云游戏可谓是百花齐放，移动旗下的咪咕快游已经上线了。<br>手机版首先测试的是原神，但是没想到是和云原神一样采用主机玩法，直接提高了很高的画质<br>下面是游戏内的截图<br>原神(只有主机版)<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/3112483179.jpg" alt="请输入图片描述"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/1759947396.jpg" alt="Screenshot_20231105_212704_com.migu.miguplay.jpg"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/1170273027.jpg" alt="请输入图片描述"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/3692639971.jpg" alt="请输入图片描述"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/1744130748.jpg" alt="请输入图片描述"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/3344666504.jpg" alt="请输入图片描述"></p><p>崩坏星穹铁道(主机版)<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/3147950102.jpg" alt="请输入图片描述"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/1505689417.jpg" alt="请输入图片描述"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/2528680066.jpg" alt="请输入图片描述"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/1341147546.jpg" alt="请输入图片描述"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/1341147546.jpg" alt="请输入图片描述"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/1468265249.jpg" alt="请输入图片描述"></p><p>崩坏3(手机版)<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/3354934819.jpg" alt="请输入图片描述"></p><p>缺点是:操作延迟大，不如云原神，可能更不如网易云手机端<br>除米家游戏外，还有支持腾讯先锋的游戏<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/1302507393.jpg" alt="请输入图片描述"></p>]]></content>
      
      
      <categories>
          
          <category> 生活类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ubuntu升级内核方式</title>
      <link href="/posts/91f5.html"/>
      <url>/posts/91f5.html</url>
      
        <content type="html"><![CDATA[<p>我的服务器和本地小主机都已经升级内核至6.5.7版本，内核升级对一些新的内容支持较好，下面开始如何升级内核<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/1255144267.png" alt="2023-11-05T01:06:31.png"><br>1.内核手动升级<br>查询内核方式</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -a</span><br></pre></td></tr></tbody></table></figure><p>如果你的内核和官网出的一样就无需升级，如果闲麻烦请看下面脚本<br>首先执行日常两行命令</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt upgrade</span><br></pre></td></tr></tbody></table></figure><p>搜索你想要的内核</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt search linux-image</span><br></pre></td></tr></tbody></table></figure><p>推荐下载的是linux-image-<em>.</em>.<em>.</em>-generic（结尾是-generic就行）</p><p>安装方式</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install linux-image-*.*.*.*-generic</span><br></pre></td></tr></tbody></table></figure><p>更新引导</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-grub</span><br></pre></td></tr></tbody></table></figure><p>查看其他内核</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg --list | grep linux-image</span><br></pre></td></tr></tbody></table></figure><p>卸载掉多余的内核</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge linux-image-*.*.*.*-*</span><br><span class="line">sudo apt-get purge linux-headers-*.*.*.*-*</span><br><span class="line">sudo apt-get purge linux-modules-*.*.*.*-*</span><br></pre></td></tr></tbody></table></figure><p>更新引导</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge</span><br></pre></td></tr></tbody></table></figure><p>再次执行日常两行命令</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt upgrade</span><br></pre></td></tr></tbody></table></figure><p>重启</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></tbody></table></figure><p>重启完成后验证</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg --list | grep linux-image</span><br></pre></td></tr></tbody></table></figure><p>2.脚本安装法(来自文章<a href="https://zhuanlan.zhihu.com/p/657036678">https://zhuanlan.zhihu.com/p/657036678</a>)<br>原来下载地址:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://raw.githubusercontent.com/pimlie/ubuntu-mainline-kernel.sh/master/ubuntu-mainline-kernel.sh</span><br></pre></td></tr></tbody></table></figure><p>自有库加速下载地址:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://static.nuoyis.net/lib/blog/download/ubuntu-mainline-kernel.sh</span><br></pre></td></tr></tbody></table></figure><p>下载脚本</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget 上方地址</span><br></pre></td></tr></tbody></table></figure><p>安装脚本</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo install ubuntu-mainline-kernel.sh /usr/local/bin/</span><br></pre></td></tr></tbody></table></figure><p>安装最新版内核</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ubuntu-mainline-kernel.sh -i</span><br></pre></td></tr></tbody></table></figure><p>安装指定版本内核</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ubuntu-mainline-kernel.sh -i 内核版本号</span><br></pre></td></tr></tbody></table></figure><p>重启</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></tbody></table></figure><p>检查内核版本</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -a</span><br></pre></td></tr></tbody></table></figure><p>检查完后，如果你之前有安装几乎，请手动执行1的操作来清除显示的空内核。期间可能会报错，但不影响清理</p>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>python - 网页版校园宽带自动登录软件</title>
      <link href="/posts/c845.html"/>
      <url>/posts/c845.html</url>
      
        <content type="html"><![CDATA[<p>自从来到了大学，我人变的比较懒，重复性的事情交给程序去做。<br>每次校园网输入和登录需要很久，有时候也会因为浏览器bug而卡壳。<br>展示效果<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/175824732.jpeg" alt="网页捕获_4-11-2023_104219_172.17.1.2.jpeg"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/3429991873.jpeg" alt="网页捕获_4-11-2023_104242_172.17.1.2.jpeg"><br>下面是做的简易代码</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line">import requests</span><br><span class="line">import urllib3</span><br><span class="line">import warnings</span><br><span class="line">warnings.filterwarnings("ignore")</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    http = urllib3.PoolManager()</span><br><span class="line">    http.request('GET', 'http://172.17.1.2')</span><br><span class="line">except Exception as e:</span><br><span class="line">    print("网络异常或不是校园网，请检查")</span><br><span class="line">    time.sleep(2000)</span><br><span class="line">    exit()</span><br><span class="line"></span><br><span class="line">sslogin = input("请输入分配给的给予的安全密码")</span><br><span class="line">if sslogin!="230908":</span><br><span class="line">    print("密码错误")</span><br><span class="line">    exit(0)</span><br><span class="line"># response = requests.get("&lt;a href="&lt;a href="https://blog.nuoyis.net/xiaoyuan/api.php?key="+sslogin)"" title="https://blog.nuoyis.net/xiaoyuan/api.php?key="+sslogin)""&gt;https://blog.nuoyis.net/xiaoyuan/api.php?key="+sslogin)"&lt;/a&gt; title="&lt;a href="https://blog.nuoyis.net/xiaoyuan/api.php?key="+sslogin)"&gt;https://blog.nuoyis.net/xiaoyuan/api.php?key="+sslogin)" title="https://blog.nuoyis.net/xiaoyuan/api.php?key="+sslogin)"&gt;https://blog.nuoyis.net/xiaoyuan/api.php?key="+sslogin)"&gt;https://blog.nuoyis.net/xiaoyuan/api.php?key="+sslogin)"&gt;https://blog.nuoyis.net/xiaoyuan/api.php?key="+sslogin)&lt;/a&gt;&lt;/a&gt;</span><br><span class="line"># if response.status_code == 200:</span><br><span class="line">#     if(response.json().code!=200):</span><br><span class="line">#         print("密码错误，请重启程序后登录")</span><br><span class="line"># else:</span><br><span class="line">#     print("请检查网络，并重新启动程序登录")</span><br><span class="line">#     exit(0)</span><br><span class="line">username = ""  # 请替换成你的用户名</span><br><span class="line">password = ""  # 请替换成你的密码</span><br><span class="line"></span><br><span class="line">import os</span><br><span class="line">from selenium import webdriver</span><br><span class="line">from selenium.webdriver.edge.service import Service</span><br><span class="line">from selenium.webdriver.edge.options import Options</span><br><span class="line">from selenium.webdriver.common.by import By</span><br><span class="line"></span><br><span class="line">options = Options()</span><br><span class="line">options.add_argument("--incognito")</span><br><span class="line">options.add_argument('--headless')</span><br><span class="line">driver = webdriver.Edge(options=options,)</span><br><span class="line">driver.get("http://172.17.1.2")  # 打开网站</span><br><span class="line"></span><br><span class="line"># # if(driver.find_element(By.XPATH, '/html/body/div/div[1]/form/input[1]</span><br><span class="line"># try:</span><br><span class="line">#     target = driver.find_element(By.XPATH, '/html/body/div/div[1]/form/input[1]')</span><br><span class="line"># except exceptions.NoSuchElementException:</span><br><span class="line">#     return False]').click())</span><br><span class="line">print("正在静默登陆中，请稍后....")</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    driver.find_element(By.XPATH, "/html/body/div/div[1]/div[5]/input")</span><br><span class="line">    print("检测到登录，开始执行")</span><br><span class="line">    driver.find_element(By.XPATH, '/html/body/div/div[1]/div[5]/input').click()</span><br><span class="line">    time.sleep(10)</span><br><span class="line">except:</span><br><span class="line">    print("未检测到登录，继续执行")</span><br><span class="line"></span><br><span class="line">#用户名框</span><br><span class="line">driver.find_element(By.XPATH, '/html/body/div/div[1]/form/input[1]').click()  # 点击用户名输入框</span><br><span class="line">driver.find_element(By.XPATH, '/html/body/div/div[1]/form/input[1]').clear()  # 清空输入框</span><br><span class="line">driver.find_element(By.XPATH, '/html/body/div/div[1]/form/input[1]').send_keys(username)  # 自动敲入用户名</span><br><span class="line"></span><br><span class="line">#密码框</span><br><span class="line">driver.find_element(By.XPATH, '/html/body/div/div[1]/form/input[2]').click()  # 点击密码输入框</span><br><span class="line">driver.find_element(By.XPATH, '/html/body/div/div[1]/form/input[2]').clear()  # 清空输入框</span><br><span class="line">driver.find_element(By.XPATH, '/html/body/div/div[1]/form/input[2]').send_keys(password)  # 自动敲入密码</span><br><span class="line"></span><br><span class="line"># 采用class定位登陆按钮</span><br><span class="line"># driver.find_element_by_class_name('ant-btn').click() # 点击“登录”按钮</span><br><span class="line"># 采用xpath定位登陆按钮，</span><br><span class="line">driver.find_element(By.XPATH, '/html/body/div/div[1]/form/button').click()</span><br><span class="line">print("登录完毕")</span><br><span class="line">driver.quit()</span><br></pre></td></tr></tbody></table></figure><p>py打包命令</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller -F main.py</span><br></pre></td></tr></tbody></table></figure><p>没有pyinstaller就执行以下命令</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyinstaller</span><br></pre></td></tr></tbody></table></figure><p>注意事项：<br>1.172.17.1.2改成你们学校的网页登录地址<br>2.xpath获取方式：开发者模式-&gt;点击框元素-&gt;右键复制完整的xpath<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/11/657812672.png" alt="2023-11-04T02:47:56.png"><br>3.如果网页没加载好可能会引发python报错</p>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>本店铺流量卡测评(每月一更)</title>
      <link href="/posts/4b3b.html"/>
      <url>/posts/4b3b.html</url>
      
        <content type="html"><![CDATA[<p>自上次寝室部署4G路由器以来，外加军训时长14天，博客几乎没写很多优质的文章。这次补档流量卡测评</p><blockquote><p>流量卡本站合作店铺:<a href="https://haokawx.lot-ml.com/Product/Index/415968">https://haokawx.lot-ml.com/Product/Index/415968</a><br>注:流量卡可以给本站降低运维成本，但是不会降低太多，我推荐这流量卡都是负责的，有问题可以直接群里联系我，群地址在文章结尾</p></blockquote><p>(1) 49元档<br>20年<br>电信39元300G电信流量王卡（新）(已下架)<br>流量: 270G通用 + 30G定向<br>适合长期寝室合用的同学（如果你办了这个49的卡，用别的同学自己的实名开两张副卡，费用相当于(49+20)/3=23一个月)或者之前没抢到长期39元套餐的同学。<br>下单链接:<a href="https://haokawx.lot-ml.com/h5order/index?pudID=205&amp;userid=415968">https://haokawx.lot-ml.com/h5order/index?pudID=205&amp;userid=415968</a></p><p>(2)39元档<br>电信沧鲁卡【爆款20年资费】(已下架)<br><a href="https://haokawx.lot-ml.com/h5order/index?pudiD=290&amp;userid=415968">https://haokawx.lot-ml.com/h5order/index?pudiD=290&amp;userid=415968</a><br>流量:190G+30G<br>适合需要长期套餐的朋友，从29以后套路很少，放心下单。合约期1年</p><p>(3)29元档<br>电信<br>沧龙卡【爆款长期套餐】(已下架)<br><a href="https://haokawx.lot-ml.com/h5order/index?pudID=287&amp;userid=415968">https://haokawx.lot-ml.com/h5order/index?pudID=287&amp;userid=415968</a><br>流量:180G+30G<br>适合于折腾的朋友，两年后得续约，每个月月初反10元，持续12个月</p><p>沧鄂卡【长期套餐】【5G黄金速率】<br><a href="https://haokawx.lot-ml.com/h5order/index?pudID=424&amp;userid=415968">https://haokawx.lot-ml.com/h5order/index?pudID=424&amp;userid=415968</a></p><p>新电信沧翼卡【长期无返费】【5G黄金速率】<br><a href="https://haokawx.lot-ml.com/h5order/index?pudID=388&amp;userid=415968">https://haokawx.lot-ml.com/h5order/index?pudID=388&amp;userid=415968</a></p><p>这上面两块质量可以，5G黄金速率且是长期，155G通用+30G定向(包括b站等常用软件,b友狂喜)</p><p>电信梦七卡【可选号】【5G黄金速率】<br><a href="https://haokawx.lot-ml.com/h5order/index?pudID=369&amp;userid=415968">https://haokawx.lot-ml.com/h5order/index?pudID=369&amp;userid=415968</a></p><p>电信沧七卡【可选号】【5G黄金速率】<br><a href="https://haokawx.lot-ml.com/h5order/index?pudID=368&amp;userid=415968">https://haokawx.lot-ml.com/h5order/index?pudID=368&amp;userid=415968</a></p><p>可以自主选号，但是可能需要手动续约</p><p>广电<br>福兔卡<br>介绍文章:<a href="https://blog.nuoyis.net/1092.html">https://blog.nuoyis.net/1092.html</a><br>新版链接:<a href="https://haokawx.lot-ml.com/h5order/index?pudID=408&amp;userid=415968">https://haokawx.lot-ml.com/h5order/index?pudID=408&amp;userid=415968</a></p><p>金兔卡<br><a href="https://haokawx.lot-ml.com/h5order/index?pudID=448&amp;userid=415968">https://haokawx.lot-ml.com/h5order/index?pudID=448&amp;userid=415968</a><br>感觉不咋地</p><p>(4) 19元档</p><p>2年套餐卡<br>电信19元180G沧飞卡（两年19）(已下架)<br>流量: 150G通用 + 30G定向<br>适合喜欢高性价比的同学<br>下单链接:<a href="https://haokawx.lot-ml.com/h5order/index?pudID=268&amp;userid=415968">https://haokawx.lot-ml.com/h5order/index?pudID=268&amp;userid=415968</a></p>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>关于我的电脑换了个三孔的线不导电的事</title>
      <link href="/posts/c8a1.html"/>
      <url>/posts/c8a1.html</url>
      
        <content type="html"><![CDATA[<p>华为电脑的诟病，一是散热，在正底部，直接反复进灰。二就是电源线是两孔的，直接电脑温度高了，在线产生静电。<br>于是我借了个联想的type-c大块头(三孔的那种)，来看是否解决了我的电脑漏电问题。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/10/2427895498.jpg" alt="三孔与两孔充电器"><br>结果插上比以前温度降低一点点，虽然头冬天可以当暖手宝。<br>后来我还是想到淘宝买个同款的，貌似比华为原装的好用些。<br>充电出门还是用原装的，其他时候还是用这种线吧。就这样</p>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>网址聚合页面(持续更新)</title>
      <link href="/posts/7862.html"/>
      <url>/posts/7862.html</url>
      
        <content type="html"><![CDATA[<p>云计算相关云企业<br>1.华为云: <a href="https://www.huaweicloud.com/">https://www.huaweicloud.com/</a><br>2.腾讯云: <a href="https://cloud.tencent.com/">https://cloud.tencent.com/</a><br>3.阿里云: <a href="https://www.aliyun.com/">https://www.aliyun.com/</a><br>4.火山引擎: <a href="https://www.volcengine.com/">https://www.volcengine.com/</a><br>5.新浪云: <a href="https://www.sinacloud.com/">https://www.sinacloud.com/</a><br>6.百度智能云:  <a href="https://cloud.baidu.com/">https://cloud.baidu.com/</a><br>7.青云: <a href="https://www.qingcloud.com/">https://www.qingcloud.com/</a><br>8.AWS: <a href="https://aws.amazon.com/">https://aws.amazon.com/</a><br>9.Azure:  <a href="https://azure.microsoft.com/">https://azure.microsoft.com/</a><br>10.京东云: <a href="https://www.jdcloud.com/cn/">https://www.jdcloud.com/cn/</a><br>11.金山云: <a href="https://www.ksyun.com/">https://www.ksyun.com/</a><br>(夹带私货区)<br>12.雨云(部分适合未备案用户): <a href="https://www.rainyun.com/nuoyis">https://www.rainyun.com/nuoyis</a>_<br>13.硅云(适合未备案用户):<a href="https://www.vpsor.cn/">https://www.vpsor.cn/</a> </p><p>代码学习平台:<br>Github: <a href="https://wwww.github.com/">https://wwww.github.com</a><br>Gitee: <a href="https://www.gitee.com/">https://www.gitee.com</a>   </p><p>各大平台镜像站:<br>阿里云: <a href="https://developer.aliyun.com/mirror/">https://developer.aliyun.com/mirror/</a><br>腾讯云: <a href="https://mirrors.tencent.com/">https://mirrors.tencent.com/</a><br>华为云: <a href="https://mirrors.huaweicloud.com/">https://mirrors.huaweicloud.com/</a><br>清华大学：<a href="https://mirrors.tuna.tsinghua.edu.cn/">https://mirrors.tuna.tsinghua.edu.cn/</a><br>北京大学：<a href="https://mirrors.pku.edu.cn/">https://mirrors.pku.edu.cn/</a><br>北京外国语大学：<a href="https://mirrors.bfsu.edu.cn/">https://mirrors.bfsu.edu.cn/</a><br>北京理工大学：<a href="https://mirrors.bit.edu.cn/web/">https://mirrors.bit.edu.cn/web/</a><br>高能物理研究所：<a href="http://mirror.ihep.ac.cn/">http://mirror.ihep.ac.cn/</a><br>浙江大学：<a href="http://mirrors.zju.edu.cn/">http://mirrors.zju.edu.cn/</a><br>上海交通大学：<a href="https://mirrors.sjtug.sjtu.edu.cn/">https://mirrors.sjtug.sjtu.edu.cn/</a><br>中国科学技术大学：<a href="https://mirrors.ustc.edu.cn/">https://mirrors.ustc.edu.cn/</a><br>南方科技大学：<a href="https://mirrors.sustech.edu.cn/">https://mirrors.sustech.edu.cn/</a><br>华南农业大学：<a href="https://mirrors.scau.edu.cn/">https://mirrors.scau.edu.cn/</a><br>北京交通大学：<a href="https://mirror.bjtu.edu.cn/">https://mirror.bjtu.edu.cn/</a><br>山东大学：<a href="https://mirrors.sdu.edu.cn/">https://mirrors.sdu.edu.cn/</a><br>重庆大学：<a href="https://mirrors.cqu.edu.cn/">https://mirrors.cqu.edu.cn/</a><br>云南大学：<a href="https://mirrors.ynu.edu.cn/">https://mirrors.ynu.edu.cn/</a><br>南京大学：<a href="https://mirrors.nju.edu.cn/">https://mirrors.nju.edu.cn/</a><br>同济大学：<a href="https://mirrors.tongji.edu.cn/">https://mirrors.tongji.edu.cn/</a><br>兰州大学：<a href="http://mirror.lzu.edu.cn/">http://mirror.lzu.edu.cn/</a><br>东北大学：<a href="http://mirror.neu.edu.cn/">http://mirror.neu.edu.cn/</a><br>哈尔滨工业大学：<a href="http://mirrors.hit.edu.cn/#/home">http://mirrors.hit.edu.cn/#/home</a><br>西北农林科技大学：<a href="https://mirrors.nwafu.edu.cn/">https://mirrors.nwafu.edu.cn/</a><br>重庆邮电大学：<a href="http://mirror.cqupt.edu.cn/">http://mirror.cqupt.edu.cn/</a><br>大连理工大学：<a href="http://mirror.dlut.edu.cn/">http://mirror.dlut.edu.cn/</a><br>东莞理工学院：<a href="https://mirrors.dgut.edu.cn/">https://mirrors.dgut.edu.cn/</a><br>南阳理工学院：<a href="https://mirror.nyist.edu.cn/">https://mirror.nyist.edu.cn/</a><br>大连东软信息学院：<a href="http://mirrors.neusoft.edu.cn/">http://mirrors.neusoft.edu.cn/</a>  </p>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Python - 编写了个小型工具箱</title>
      <link href="/posts/b37b.html"/>
      <url>/posts/b37b.html</url>
      
        <content type="html"><![CDATA[<p>Python，一个大蟒蛇，上变成爬虫，再上是人工智能，下则是各种云服务云计算。这是我第一篇关于Python的文章。<br>这个工具箱，目前编写了两个实用的功能，以及其他废物功能(宣传功能和退出功能)<br>展示图片如下:<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/10/779419699.png" alt="屏幕截图 2023-10-02 202329.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/10/1709262822.png" alt="屏幕截图 2023-10-02 202401.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/10/3712880624.png" alt="屏幕截图 2023-10-02 202419.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/10/3509591716.png" alt="屏幕截图 2023-10-02 202442.png"><br>极域电子教室是我高中最痛恨的，因为我高中一直在撸代码，也有时候看些内卷的教程(当然云游戏也是在中午玩)<br>最痛恨的就是黑屏警告，本来机房课就没多少(恼)<br>于是那个时候C语言版本就出来了。直到今天，Python来解决了C语言的痛苦:不能获取管理员权限。<br>于是，系统账号管理就推出来了<br>全部代码如下:</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> print_function</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> ctypes</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">systemuser</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"---欢迎使用诺依阁工具箱---\n1.系统账号添加 2.删除系统账户 3.修改系统账户密码 4.查看用户列表 5.退出此功能"</span>)</span><br><span class="line">    usernum = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">"请输入序号:"</span>))</span><br><span class="line">    <span class="keyword">if</span> usernum <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]:</span><br><span class="line">        <span class="keyword">if</span> usernum == <span class="number">1</span>:</span><br><span class="line">            systemuseradd()</span><br><span class="line">        <span class="keyword">elif</span> usernum == <span class="number">2</span>:</span><br><span class="line">            systemuserdel()</span><br><span class="line">        <span class="keyword">elif</span> usernum == <span class="number">3</span>:</span><br><span class="line">            systemuserchangepassword()</span><br><span class="line">        <span class="keyword">elif</span> usernum == <span class="number">4</span>:</span><br><span class="line">            os.system(<span class="string">"net user"</span>)</span><br><span class="line">            <span class="built_in">input</span>(<span class="string">"按 Enter 继续..."</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">input</span>(<span class="string">"按 Enter 继续..."</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"输入不正确，请重新输入"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">systemuseradd</span>():</span><br><span class="line">    <span class="comment"># 系统账户创建</span></span><br><span class="line">    sysuser = <span class="built_in">input</span>(<span class="string">"请输入用户名:"</span>)</span><br><span class="line">    syspassword = <span class="built_in">input</span>(<span class="string">"请输入密码:"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"正在添加中,请稍后:"</span>)</span><br><span class="line">    os.system(<span class="string">"net user "</span>+sysuser+<span class="string">" "</span>+syspassword+<span class="string">" /add"</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">"是否给予管理员权限，1是 ,2否定："</span>)):</span><br><span class="line">        os.system(<span class="string">"net localgroup administrators "</span>+sysuser+<span class="string">" /add"</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"给予账户管理员权限成功"</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"你未给予账户管理员权限"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"账户创建命令执行成功"</span>)</span><br><span class="line">    <span class="built_in">input</span>(<span class="string">"按 Enter 继续..."</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">systemuserdel</span>():</span><br><span class="line">    <span class="comment"># 系统账户删除</span></span><br><span class="line">    sysuser = <span class="built_in">input</span>(<span class="string">"请输入用户名:"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"正在删除中,请稍后:"</span>)</span><br><span class="line">    os.system(<span class="string">"net user "</span>+sysuser+<span class="string">" /delete"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"账户删除命令执行成功"</span>)</span><br><span class="line">    <span class="built_in">input</span>(<span class="string">"按 Enter 继续..."</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">systemuserchangepassword</span>():</span><br><span class="line">    <span class="comment"># 系统账户密码修改</span></span><br><span class="line">    sysuser = <span class="built_in">input</span>(<span class="string">"请输入用户名:"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"正在修改中,请稍后:"</span>)</span><br><span class="line">    os.system(<span class="string">"net user "</span> + sysuser + <span class="string">" *"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"账户修改命令执行成功"</span>)</span><br><span class="line">    <span class="built_in">input</span>(<span class="string">"按 Enter 继续..."</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">jiyukill</span>():</span><br><span class="line">    <span class="comment"># 极域电子进程删除</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"正在删除极域电子进程"</span>)</span><br><span class="line">    os.system(<span class="string">"@echo off"</span>)</span><br><span class="line">    os.system(<span class="string">"sc stop tdnetfilter"</span>)</span><br><span class="line">    os.system(<span class="string">"sc stop tdfilefilter"</span>)</span><br><span class="line">    os.system(<span class="string">"taskkill /im StudentMain.exe /f"</span>)</span><br><span class="line">    os.system(<span class="string">"taskkill /im StudentEX.exe  /f"</span>)</span><br><span class="line">    os.system(<span class="string">"taskkill /im MasterHelper.exe /f"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"删除进程完毕"</span>)</span><br><span class="line">    <span class="built_in">input</span>(<span class="string">"按 Enter 继续..."</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">admin</span>():</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">return</span> ctypes.windll.shell32.IsUserAnAdmin()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="keyword">if</span> admin():</span><br><span class="line">        <span class="comment"># 设置窗口标题</span></span><br><span class="line">        os.system(<span class="string">"title 诺依阁的工具箱 网站:&lt;a href="</span>https://blog.nuoyis.net<span class="string">")"</span> title=<span class="string">"https://blog.nuoyis.net"</span>)<span class="string">"&gt;https://blog.nuoyis.net"</span>)&lt;/a&gt;</span><br><span class="line">        os.environ[<span class="string">'PYTHONIOENCODING'</span>] = <span class="string">'GBK'</span></span><br><span class="line">        a = b = c = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 主菜单样式</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>):</span><br><span class="line">            os.system(<span class="string">'cls'</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"---欢迎使用诺依阁工具箱---\n1.系统账号管理 2.删除极域电子 3.打开诺依阁的日记簿 4.关于工作箱 5.退出工具箱\n请注意:本软件仅供学习交流使用，任何违法违规行为自行承担"</span>)</span><br><span class="line">            d = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">"请输入1-5数字:"</span>))</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> d == <span class="number">5</span>:</span><br><span class="line">                exit()</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> d <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]:</span><br><span class="line">                <span class="keyword">if</span> d == <span class="number">1</span>:</span><br><span class="line">                    systemuser()</span><br><span class="line">                <span class="keyword">elif</span> d == <span class="number">2</span>:</span><br><span class="line">                    jiyukill()</span><br><span class="line">                <span class="keyword">elif</span> d == <span class="number">3</span>:</span><br><span class="line">                    os.system(<span class="string">"start &lt;a href="</span>https://blog.nuoyis.net<span class="string">")"</span> title=<span class="string">"https://blog.nuoyis.net"</span>)<span class="string">"&gt;https://blog.nuoyis.net"</span>)&lt;/a&gt;</span><br><span class="line">                <span class="keyword">elif</span> d == <span class="number">4</span>:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">"此新版本为Python构建，原由C语言编写构建"</span>)</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">"作者:诺依阁 新版编写时间:2023-09-30"</span>)</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">"工具箱只是作者的学习内容，不为违法者任何行为买单"</span>)</span><br><span class="line">                    <span class="built_in">input</span>(<span class="string">"按 Enter 继续..."</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">"输入错误，请重新输入"</span>)</span><br><span class="line">        time.sleep(<span class="number">300</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 以管理员权限重新运行程序</span></span><br><span class="line">        ctypes.windll.shell32.ShellExecuteW(<span class="literal">None</span>, <span class="string">"runas"</span>, sys.executable, <span class="string">""</span>, <span class="literal">None</span>, <span class="number">1</span>)</span><br></pre></td></tr></tbody></table></figure><p>如果您想加入功能，后续我将把最后一个序号改为else就可以完美解决<br>Python打包的是pyinstaller,如果未安装请按照下面指令安装:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyinstaller</span><br></pre></td></tr></tbody></table></figure><p>同时也写了个小cmd脚本，双击运行就可以直接生成</p><figure class="highlight cmd"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">chcp</span> <span class="number">65001</span></span><br><span class="line">pyinstaller -F -i main.ico main.py -n 诺依阁的工具箱</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></tbody></table></figure><p>放在主目录下，然后完成找到dist下的exe就行。<br>最后，放上成品各位体验<br>下载链接:<a href="https://static.nuoyis.net/lib/blog/download/%E8%AF%BA%E4%BE%9D%E9%98%81%E7%9A%84%E5%B7%A5%E5%85%B7%E7%AE%B1.exe">https://static.nuoyis.net/lib/blog/download/%E8%AF%BA%E4%BE%9D%E9%98%81%E7%9A%84%E5%B7%A5%E5%85%B7%E7%AE%B1.exe</a></p>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>使用Github作为静态库进行全球加速</title>
      <link href="/posts/c142.html"/>
      <url>/posts/c142.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>前言：自从群内很多群友oss，cos等这些云存储被刷NG或者NT，我就采用了Github作为源站静态库，cloudflare作为海外cdn缓存，如果你没有备案，国内可直接使用<a href="https://www.netlify.com/">netlify</a>进行国内加速</p></blockquote><p>#配置方法<br>Github作为源站好处:微软不倒，静态库不倒，如果实在用国内cdn扛不住，用本站cloudflare优选节点死扛到底(当然你的cdn如果能禁海外最好)<br>本站优选聚合域名:dns-server-cloudflare.nuoyis.net<br>备案后全球实际访问速度<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/09/2826680047.png" alt="static.nuoyis.net_多地区多线路HTTP测速.png"><br>cloudflare加速海外要用到Saas技术，可以查看<a href="https://blog.nuoyis.net/1002.html%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0">https://blog.nuoyis.net/1002.html这篇文章</a><br>国内采用<a href="https://www.netlify.com/">netlify</a>进行初次加速，如果备案后可以采用腾讯云edgeone等国内CDN进行基础加速。<br>打开Netlify官网(可能需要加速器进行加速访问)，点击右上角的Sign up注册账号，这里推荐Github账号注册，注册后进入Netlify的后台页面，点击New site from Git<br>选择网站源码托管的代码仓库类型，选择GitHub<br>然后会进入Github的认证授权页面，点击Authorize Netlify by Netlify<br>点击Only select repositories选择要授权的Github仓库，当然也可以直接选择授权所有仓库，这个授权在设置中可以改<br>授权完成回到Netlify后台页面，选择我们刚刚授权的Github仓库继续配置自定义域名，自定义域名前一定要解析到分配的这个域名上，等待txt验证完毕以及ssl配置完成，Netlify与Github就算绑定完成，可以通过自定义域名访问网站了。之后你每一次提交代码到Github，都会自动发布至Netlify。<br>如果国内备案后实在想白嫖，多吉云设置好峰值以及限速，以及CDN缓存和浏览器缓存后就行。每月送20G。即使20G不太够100G一年21元，1T105元<br>注册地址:<a href="https://www.dogecloud.com/?iuid=6807">点击这里</a><br>缓存配置如下<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/09/3411112956.png" alt="屏幕截图 2023-09-25 152849.png"><br>如果你原来静态内容错误，可以只刷新部分文件。当然大调改就需要全部刷新</p><p>#注意事项<br>1.DNS解析必须让cloudflare和netlify检测到，可以先解析cloudflare一条，然后暂停netlify的解析，再都done了后，再反过来操作。<br>2.国内cdn加速netlify只需要解析到分配的二级域名上即可，带宽非常大，而且无限带宽<br>3.DNS解析一般国内厂商都有默认和境外解析两种，这里提供我的通配符解析方法<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/09/646736529.png" alt="屏幕截图 2023-09-25 155713.png">  </p>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>在校园用4G路由器上网</title>
      <link href="/posts/6118.html"/>
      <url>/posts/6118.html</url>
      
        <content type="html"><![CDATA[<p>之前推荐了友猫随身WiFi，但是随身WiFi L100没有设备时是自动省电关机状态的，这不符合我上网的稳定性。每次启动又非常麻烦。学校的校园宽带100兆每月59，前提还得交400元当话费。而且听我老同学说，到了晚上11点后就会非常卡顿。所以，这期寝室4G路由器+磊科企业路由器来编写文章。<br>首先上总体图<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/09/3199467570.jpg" alt="IMG_20230920_082818.jpg"><br>这两个网络设备都是从咸鱼上购买，4G全网通路由器90回来的，路由器120回来的。路由器由于支持多wan口（最大支持4个），到时候有同学办了宽带貌似可以尝试再插个试试<br>4G华为路由器型号:B310As-852<br>磊科企业路由器型号:NB1200GC<br>这企业路由器内网不管是打游戏走内网服务器，还是ftp内网下载，都不会出现网络问题。尤其是企业路由控制的低延时，有些彪悍。</p><p>测速页面<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/09/328887810.png" alt="屏幕截图 2023-09-20 084734.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/09/1055017345.jpg" alt="Screenshot_20230918_091850_com.huawei.genexcloud..jpg"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/09/329128760.jpg" alt="Screenshot_20230918_091944_com.huawei.genexcloud.(1).jpg"></p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>关于一些学校事件提问的合集</title>
      <link href="/posts/fbda.html"/>
      <url>/posts/fbda.html</url>
      
        <content type="html"><![CDATA[<p>1.校园卡是什么东西，如何办理，什么时候到<br>校园信息卡就是费率低的电信电话卡，价格和套餐以及签字协议如下图所示。<br>卡主要套餐只有一个，39元每月，激活后送50元话费，每月有宽带50兆和校园网21兆<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/09/4216860568.jpg" alt="Screenshot_20230821_125433_com.tencent.mm.jpg"></p><p><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/09/3304133512.jpg" alt="Screenshot_20230821_125801_com.tencent.mm.jpg"></p><p><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/09/3099900834.jpg" alt="Screenshot_20230822_164559_com.tencent.mm.jpg"></p><p><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/09/1561408704.jpg" alt="Screenshot_20230822_164513_com.tencent.mm.jpg"></p><p><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/09/1210089429.jpg" alt="Screenshot_20230822_164408_com.tencent.mm.jpg"></p><p>校园信息卡10天内会发出(否则激活就来不及了，一般激活时间都是10天内),查询通道:华为智慧助手·今天(其他手机往左边滑，如果有负一屏看看是否有查询快递)<br>发出的快递是极兔速递</p><p>2.我把卡寄到家后不想要了，不激活能行吗<br>可以，不激活就是空卡，注意部分卡型可能存在拉黑现象</p><p>3.激活后不想要了怎么办<br>打10000人工客服注销卡，有个同学就可以了</p>]]></content>
      
      
      <categories>
          
          <category> guing </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>日记簿逐渐过渡到云计算方面</title>
      <link href="/posts/3299.html"/>
      <url>/posts/3299.html</url>
      
        <content type="html"><![CDATA[<p>距离大学报道还有11天，身为云计算的我不能丢了本命专业。linux系列和python未来将会专门分类，以及新创建的openstack。<br>很多人说openstack没有其他的弹性化虚拟化软件好用，但是我是认为教学方面使用肯定是有它的意义，况且考试也是需要用到的。<br>如果你也是云计算的大佬可以在我的评论区给我提出些建议，避免撞墙式学习<br>顺便送一首歌<br>​<audio id="audio" controls="" preload="none"><source id="mp3" src="https://images.nuoyis.net/blog/typecho/uploads/2023/09/825058692.mp3"></audio></p>]]></content>
      
      
      <categories>
          
          <category> guing </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>100篇文章里程碑</title>
      <link href="/posts/1367.html"/>
      <url>/posts/1367.html</url>
      
        <content type="html"><![CDATA[<p>终于到100篇文章了。之前还有很多兴趣去开发和编写很多内容并于大家分享。但是时间总是安排很紧迫，作为一个很早就玩过博客的人，数据丢失的部分很难再找回，也很心痛。之前域名也没有做引导，导致域名换的平凡而丢失了许多流量。<br>虽然100篇早就该到了，但是现在到也没什么，只要我想起之前写了什么，就逐渐恢复回来。<br>博客经过跌打误撞，还是建立好了。最初博客就是我的笔记本上的内容，早期丢失的文章在我的笔记本上几乎都存在些印子。一开始录入电子化还是纯手打，后来才是逐渐用的文字扫描。<br>到了100篇后，这个域名几乎就固定下来了。net也许能陪我跑几年，即使最后写不动文章就转成静态继续在互联网上奔跑。服务也比以前稳定了。你看到这两个月访问速度慢，那是因为换到net，net没有回国，所以就备不了案。9月10日本站开始对国内方向进行关站维护，维护完成后正式对100篇文章做纪念图片</p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>cloudflare saas接入 - 加速和抵抗海外攻击</title>
      <link href="/posts/43ca.html"/>
      <url>/posts/43ca.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>前情提示:本文章得有备案域名，没有就不要想着默认解析使用国内的了，直接解析我提供的访问还可以的cloudflare<br>本文章还得有一个嫖的顶级域名(后续文章)<br>海外(或未备案)域名解析地址:dns-server-cloudflare.nuoyis.net</p></blockquote><p>很多人说cloudflare是国内的减速器，但cloudflare可以反过来利用加速海外。cloudflare海外加速几乎都是1-10毫秒，少数像中国这样不支持的达到90-150毫秒。cloudflare大缓存技术可以使静态库在海外无惧攻击，github pages+cloudflare全缓存就是几乎无敌。这留在下一篇文章讲解静态库高速回国办法。<br>cloudflare缓存后硬抗如下<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/1625808904.png" alt="屏幕截图 2023-08-21 110327.png"><br>首先，得添加域名，就点击右上角的添加站点-&gt;输入顶级域名-&gt;下拉选择free-&gt;修改DNS为下面-&gt;等待完成</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">delilah.ns.cloudflare.com</span><br><span class="line">lamar.ns.cloudflare.com</span><br></pre></td></tr></tbody></table></figure><p>点击刚刚你添加的域名，先添加你要解析的域名，如 cloudflare 前缀 a解析到127.0.0.1<br>找到左侧SSL/TLS并展开，找到自定义主机名-&gt;添加回退源（如cloudflare.xxxxxxx.xxx) ，添加后将两个txt以及值分别解析到dns中。<br>境外解析如上域名，就可享受海外急速加速。博客也可以。</p><p>然后就是缓存，如果是静态库如下缓存<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/3169904810.png" alt="2023-08-21T03:14:24.png"><br>博客如下<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/1402592000.png" alt="2023-08-21T03:14:51.png"></p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>家用小主机3 - 内网映射并访问</title>
      <link href="/posts/547.html"/>
      <url>/posts/547.html</url>
      
        <content type="html"><![CDATA[<p>说起家用小主机，映射是必绕不开的话题。目前发现映射就那么几款，可以看我之前的那篇文章</p><p>frp映射：<a href="https://blog.nuoyis.net/posts/ce1f.html">https://blog.nuoyis.net/posts/ce1f.html</a></p><p>本地需要搭建好nginx，php-fpm，mysql5.6以上，如果配置及其麻烦可以使用宝塔代替安装(windows直接手搓，网上有教程)<br>映射的时候要把http隧道和https隧道分别输入一遍，然后确保本地防火墙开放80端口和443端口<br>上述搭建好了可以测试下frp，如果能访问做下面的事情<br>frp因为退出可能就运行结束了，这里采用系统注册的方式来确保frp不会杀掉<br>创建个frpc.service</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=frpc service</span><br><span class="line">After=network.target syslog.target</span><br><span class="line">Wants=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">Restart=on-failure</span><br><span class="line">RestartSec=5s</span><br><span class="line">ExecStart=/bin/bash -c '/usr/local/frp/frpc -c /usr/local/frp/frpc.ini'</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></tbody></table></figure><p>然后</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp frpc.service /etc/systemd/system</span><br></pre></td></tr></tbody></table></figure><p>再执行</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable frpc</span><br><span class="line">systemctl start frpc</span><br></pre></td></tr></tbody></table></figure><p>查看状态</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status frpc</span><br></pre></td></tr></tbody></table></figure><p>如果exit是配置文件错误(连接失败)，请修改配置文件</p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>家用小主机2 - 硬件改造与ubuntu安装</title>
      <link href="/posts/a278.html"/>
      <url>/posts/a278.html</url>
      
        <content type="html"><![CDATA[<p>之前的这个小主机目前网站重新移到云端后，小主机用来内网下载和直播录制以及直播回放。<br>但是有一个问题，小主机就30g，内存不够做更多这方面的内容。<br>所以，本期文章就出现了:改造我们小主机的存储内存。<br>好家伙，小主机的存储接口是msata的，在某宝上搜索，三星300多元的一块就把我吓得劝退。于是我就找到了这家店<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/3740030666.jpg" alt="Screenshot_20230811_105039_com.taobao.taobao.jpg"><br>这家可以把msata转sata,让我闲置的廉价且高质量的sata有了用场。<br>这里采用的是爱国者128G(S500),配件和硬盘截图如下<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/1138999.jpg" alt="IMG_20230809_105313.jpg"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/2034333085.jpg" alt="IMG_20230809_105325.jpg"><br>然后首先打开小主机的背板，然后把配件插进去对位，因为线有一根插上去很难拔下来<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/2342553711.jpg" alt="IMG_20230809_105528.jpg"><br>对位好后先将线排版好，不遮挡其他主要工作区域，装好后效果图<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/2420240448.jpg" alt="IMG_20230809_153944.jpg"><br>上盖，然后u盘装载镜像，去找个显示屏安装<br>这里由于当时没拍照截图，就用虚拟机展示下对比底下有没有绿色按钮,有就直接点就完事了，没有需要修改<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/2985625782.png" alt="{00151A3A-7C2B-4dc4-BBAF-725450B48767}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/931813565.png" alt="{B33FBE68-0CB7-481b-80B6-3FBE8BFBA395}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/4163279373.png" alt="{6B12557F-3BFF-4beb-8A10-FF4E750A875A}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/2010363333.png" alt="{669DF1BF-DD41-4a81-BDF8-091603880E37}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/877727979.png" alt="{3D5FBB77-D59C-4905-AF10-EBB490D80EC7}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/53535396.png" alt="{02D4136E-D20C-4d5c-AA17-F332D8E71C26}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/1304625918.png" alt="{57FFDD92-A7F3-42f1-B9F1-482837C4EEB3}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/1003239841.png" alt="{BBEE3B8E-B2AA-4685-A178-FA9398D1CA55}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/3209792368.png" alt="{7436B6FF-CFE5-42ad-B8E0-2D6998698D9B}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/496840674.png" alt="{61051C63-5238-43f2-99FF-6B8805833631}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/3191457542.png" alt="{3721B01C-E6E5-41f3-A0A8-314CBE09F78A}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/947116754.png" alt="{AA6B45C4-69CD-462f-870C-47A0FDE8CA74}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/1528954107.png" alt="{EE61EC13-FEE4-481e-9658-169FA51BB786}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/4127976584.png" alt="{825C3FE1-52C1-4f01-BE58-913FB11296E2}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/3892764151.png" alt="{825C3FE1-52C1-4f01-BE58-913FB11296E2}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/4193026396.png" alt="{708DE4DD-E9B9-4d8b-A325-414FC7718138}.png"><br>等待，然后出现reboot那个按钮点击，点击后出现这种情况就需要ctrl+c<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/266839298.png" alt="{774B22CA-0416-4550-B6B6-89D77F0D1C74}.png"></p><p>系统如果没有全部分配完，需要操作以下代码</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo lvextend -l +100%FREE /dev/mapper/ubuntu--vg-ubuntu--lv</span><br><span class="line">sudo resize2fs /dev/mapper/ubuntu--vg-ubuntu--lv</span><br></pre></td></tr></tbody></table></figure><p>ubuntu默认不允许root登陆，请查阅以下文章</p><blockquote><p><a href="https://www.nuoyis.net/969.html">https://www.nuoyis.net/969.html</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ubuntu一键配置ssh root登陆脚本</title>
      <link href="/posts/cb12.html"/>
      <url>/posts/cb12.html</url>
      
        <content type="html"><![CDATA[<p>这几天实在是没有什么灵感，不如来淦我的服务器吧。<br>我发现ubuntu一开始注册账户，或者使用账户，都类似管理员级别的账号，不进入到root就不能安装各种需要root的应用<br>宝塔就是这样，每次点击docker终端都会提示权限不足。每次进入ssh都要su root.为了解决以上困扰，我写了个小脚本<br>脚本如下:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">clear</span><br><span class="line">echo "欢迎使用ubuntu切换root登陆程序"</span><br><span class="line">echo "博客:&lt;a href="&lt;a href="&lt;a href="https://www.nuoyis.net"""" title="https://www.nuoyis.net""""&gt;https://www.nuoyis.net"""&lt;/a&gt; title="&lt;a href="https://www.nuoyis.net"""&gt;https://www.nuoyis.net""" title="https://www.nuoyis.net"""&gt;https://www.nuoyis.net"""&gt;https://www.nuoyis.net"""&gt;https://www.nuoyis.net""&lt;/a&gt;&lt;/a&gt; title="&lt;a href="&lt;a href="https://www.nuoyis.net""&gt;https://www.nuoyis.net""" title="https://www.nuoyis.net""&gt;https://www.nuoyis.net"""&gt;https://www.nuoyis.net""&gt;https://www.nuoyis.net""&lt;/a&gt; title="&lt;a href="https://www.nuoyis.net""&gt;https://www.nuoyis.net""&gt;https://www.nuoyis.net""&gt;https://www.nuoyis.net"" title="https://www.nuoyis.net""&gt;https://www.nuoyis.net""&gt;https://www.nuoyis.net""&gt;https://www.nuoyis.net""&gt;https://www.nuoyis.net""&gt;https://www.nuoyis.net""&gt;https://www.nuoyis.net""&gt;https://www.nuoyis.net"&lt;/a&gt;&lt;/a&gt;&lt;/a&gt;</span><br><span class="line">if [ "$(whoami)" != "root" ]; then</span><br><span class="line">echo -e "\033[31m 未切换root用户模式 \033[0m"</span><br><span class="line">echo -e "\033[34m 如果是第一次请先执行sudo passwd root ，然后执行su root\033[0m"</span><br><span class="line">else</span><br><span class="line">echo "开始执行，执行完成出现一个done"</span><br><span class="line">cd /etc/ssh</span><br><span class="line">echo "PermitRootLogin yes" &gt;&gt; sshd_config</span><br><span class="line">echo "PermitEmptyPasswords no" &gt;&gt; sshd_config</span><br><span class="line">echo -e "\033[32m done \033[0m"</span><br><span class="line">systemctl restart ssh</span><br><span class="line">fi</span><br></pre></td></tr></tbody></table></figure><p>网上去查了下，就两行代码添加到里面去就可以了，然后重启ssh就可以做到了。<br>这里也插入个直接运行脚本的方法</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -O rootstart.sh https://static.nuoyis.net/private/sh/rootstart.sh &amp;&amp; bash rootstart.sh</span><br></pre></td></tr></tbody></table></figure><p>重启连接的ssh，再尝试使用root直接登陆<br>宝塔内置修改方法(如下图)<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/4154087682.png" alt="{2EFEE706-0711-4bfb-8435-D532C060C00C}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/902665671.png" alt="{BD8D923B-651D-4126-B847-41B19E33C0CE}.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/2796809723.png" alt="{8E45140E-D916-4fd2-A908-375F75CFA976}.png"></p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>使用frp内网映射教程</title>
      <link href="/posts/ce1f.html"/>
      <url>/posts/ce1f.html</url>
      
        <content type="html"><![CDATA[<p>之前写过一篇，目前可能有部分丢失，现在重新写了一份。<br>frp是内网或者超大内网内的数据与资源映射到公网的一款软件，我们用它来完成家庭内部局域网的访问/网站搭建，目前能做到稳定内网映射的是下面三家</p><blockquote><p>openfrp地址:<a href="https://openfrp.net/">https://openfrp.net</a><br>SAKURA FRP地址:<a href="https://www.natfrp.com/">https://www.natfrp.com</a><br>花生壳地址:<a href="https://hsk.oray.com/">https://hsk.oray.com</a>  </p></blockquote><p>花生壳虽然较坑，域名得转入花生壳，还得忍受只有80端口的样子，流量就1到2g。<br>樱花frp听过没正式使用过，和我现用openfrp差不多的样子。<br>openfrp目前我觉得免费速度可以的是30 # 香港-5「CN2」 31 # 香港-6「CN2」,在可用不足前这两个可以做到国内一片绿。<br>付费就无脑选1和2就行了，速度和免费方面感觉没啥差别。</p><p>下面正式搭建<br>frps(服务器方面)<br>首先服务端下载frp的压缩包，如果你是linux 64位不是arm就选那个amd64，反之选386<br>下载地址:<a href="https://github.com/fatedier/frp/releases">https://github.com/fatedier/frp/releases</a><br>下载好后解压命令(记得文件夹内解压):</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /usr/local/frp</span><br><span class="line">cd /usr/local/frp &amp;&amp; tar -xzvf frp_0.51.2_linux_amd64.tar.gz</span><br></pre></td></tr></tbody></table></figure><p>修改frps.ini为以下内容</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[common]</span><br><span class="line">bind_port = 你的端口</span><br><span class="line">dashboard_port = 7500 //管理端口</span><br><span class="line">dashboard_user = username //管理面板用户名</span><br><span class="line">dashboard_pwd = password //管理面板密码</span><br><span class="line"></span><br><span class="line">token = token //对接token</span><br><span class="line">tcp_mux = true</span><br><span class="line"></span><br><span class="line">log_file = /usr/local/frp/frps.log //日志</span><br><span class="line">log_level = info</span><br><span class="line">log_max_days = 3</span><br></pre></td></tr></tbody></table></figure><p>frpc(客户端方面)</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[common]</span><br><span class="line">server_addr = 你的地址</span><br><span class="line">server_port = 你的端口</span><br><span class="line">token = nuosawea</span><br><span class="line">log_file = /usr/local/frp/frps.log</span><br><span class="line">log_level = info</span><br><span class="line">log_max_days = 3</span><br><span class="line"></span><br><span class="line">[webside]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 80</span><br><span class="line">remote_port = 80</span><br><span class="line"></span><br><span class="line">[webside_https]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 443</span><br><span class="line">remote_port = 443</span><br><span class="line"></span><br><span class="line">[bt]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 1024</span><br><span class="line">remote_port = 1024</span><br></pre></td></tr></tbody></table></figure><p>[note type=”warning flat”]映射的时候一定注意做好防护，对于站点的管理界面一定是采用内网管理方案，域名可以解析个内网ip[/note]</p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>突然发现生活被塞满了</title>
      <link href="/posts/1b2b.html"/>
      <url>/posts/1b2b.html</url>
      
        <content type="html"><![CDATA[<p>感觉最近文章灵感创作度降低了许多，不如日记簿多加入些生活气息。<br>为什么我的生活被塞满了？高三的生活刚结束，18岁交接大学期间不仅需要预测大学所学的内容，还得时不时访问网站是不是挂了。<br>另外有群友或者做大的企业客户都来问我很多搭建问题，我也是一一回复的。有时候晚上9点想睡觉的时候，一个求帮忙的消息就发过来了。然后忙活了大半个小时甚至几天，解决了他的问题。<br>最后就是撸代码，毕竟还是与大学计算机的云计算接轨的。暑假适当清清游戏任务就放一边，开始撸代码。<br>因为父母又给我报了驾校，有时候得很早起来练车，有时候下午练车，到了晚上快睡觉前还得刷刷科一。<br>然后今天科一过了，所以腾出了时间给博客写写文章。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/3987848432.jpg" alt="科一通过"><br>上次更新已经是4天前。本来昨天想要更新的，结果直接写文章写着发现docker有问题，就得重新生成。再就是看b站部分的测评，不知不觉就看了一下午。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/2880259866.png" alt="生成"><br>时间如白驹过隙,转瞬即逝。暑假很快也到了8月。距离上学还有23天的样子，抓紧研发和写出新的文章吧。<br>End</p>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>无人直播 - srs-cloud安装方法</title>
      <link href="/posts/1c94.html"/>
      <url>/posts/1c94.html</url>
      
        <content type="html"><![CDATA[<p>由于本博客之前编写过安装docker和宝塔的方法，所以我将安装docker教程和安装宝塔教程放在下面。  </p><blockquote><p>宝塔安装教程:<a href="https://www.nuoyis.net/244.html">https://www.nuoyis.net/244.html</a><br>docker安装教程:<a href="https://www.nuoyis.net/492.html">https://www.nuoyis.net/492.html</a></p></blockquote><p>这里用宝塔就会方便许多，直接插件内搜索 直播 就行了。找到SRS音视频服务器安装后点击启动。<br>如下图所示<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/470005383.png" alt="宝塔1"><br>看到安装完成即可<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/3092235857.png" alt="宝塔2"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/729303847.png" alt="宝塔3"></p><p>docker版本搭建方法：输入以下命令<br>官方库:<a href="https://github.com/ossrs/srs-cloud">https://github.com/ossrs/srs-cloud</a>  </p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm -it -p 2022:2022 -p 1935:1935/tcp -p 1985:1985/tcp \</span><br><span class="line">  -p 8080:8080/tcp -p 8000:8000/udp -p 10080:10080/udp --name srs-cloud \</span><br><span class="line">  -v $HOME/db:/data ossrs/srs-cloud:1</span><br></pre></td></tr></tbody></table></figure><p>搭建好后，直接如下图配置好(推流地址和密钥每个平台获取必须实名认证)<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/1808604671.png" alt="配置"><br>检查状态<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/708829982.png" alt="检查状态"><br>查看直播是否在播放(我的直播间:<a href="http://live.bilibili.com/22771547">http://live.bilibili.com/22771547</a>)<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/973339907.png" alt="直播生效"><br>如果你需要播放一些视频电影，必须找无版权的，不然等待封号或者法律诉讼</p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>家用小主机1 - 购买配置</title>
      <link href="/posts/7d7a.html"/>
      <url>/posts/7d7a.html</url>
      
        <content type="html"><![CDATA[<p>家用小主机，顾名思义，主机而又低功耗才是博客本地存储化的前提。<br>目前我看到有很多芯片的小主机。如果你有钱可以无脑冲i3,i5,i7的机器，这里不多赘述高配置高价格的主机。<br>我这里使用的是Intel(R) Celeron(R) CPU J1900,主频1.99GHz，功耗最大就12*3=36w.<br>当然也有功耗更低的Intel(R) Celeron(R) CPU N3150,和J1900比就性能损失10%,价格增长10元以上。<br>下图宝塔性能测试,硬盘速度可见就90兆。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/3534427506.png" alt="硬盘速度"><br>推荐以下卖我的商家，但是如果你有msata,请提前和店家讲，因为硬盘有点拉风，总价格是159.99元<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/2355344269.jpg" alt="商家页面"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/08/1319193606.jpg" alt="支付页面"><br>我选的配置如下:<br>4核心4GB内存30g硬盘存储，单网卡接口。内存采用了金泰克(tigo)家生产的内存条，硬盘不知道哪家生产的(真怕暴雷)<br>然后这家发的快递是中通，发过来时候包装严密，扯几层减震的东西注意拿稳。 </p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>本博客首次迁移至本地</title>
      <link href="/posts/e7be.html"/>
      <url>/posts/e7be.html</url>
      
        <content type="html"><![CDATA[<p>本博客首次将云计算项目迁移本地，但也面临一系列问题，比如系统加固，封闭危险端口等。<br>本地采用CPU为4核J1900处理器，4G某国产内存和30g某厂msata，如你所见映射后速度非常快，且配置ipv6后可以跑很多有趣的项目，这些会在后续编写。<br>数据我现在属于永久保存，但是稳定性还得用各种方法尝试，也在文章中编写。<br>下一篇文章关于如何低价购买小主机和刷机方法  </p>]]></content>
      
      
      <categories>
          
          <category> 公告 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>免费申请5年阿里云企业邮箱教程</title>
      <link href="/posts/47d8.html"/>
      <url>/posts/47d8.html</url>
      
        <content type="html"><![CDATA[<p>前不久写了个阿里云邮箱免备案的教程，但得先有阿里云免费邮箱，话不多说，直接开淦<br>首先你得有注册好的阿里云账号，随机平台注册的域名，如果没有点下面链接也可以<br>阿里云注册链接:<a href="https://common-buy.aliyun.com/?userCode=f9hg2fow?spm=5176.8071678.J_3365434990.1.22a55477TycNB9&amp;commodityCode=alimail&amp;specCode=lx_18482&amp;request=%7B%22ord_time%22:%225:Year%22,%22account_num%22:%225%22%7D#/buy">点击这里</a><br>链接申请图如下<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/2807818210.png" alt="申请图"><br>后续由于我很早就注册了，记得有个dns验证的东西<br>dns快速验证添加解析如下<br>| 主机记录 | 记录类型 | 优先级 | 记录值 |<br>| @ | MX | 5 | mx1.qiye.aliyun.com |<br>| @ | MX | 10 | mx2.qiye.aliyun.com |<br>| @ | MX | 15 | mx3.qiye.aliyun.com |<br>| imap | CNAME |  | imap.qiye.aliyun.com |<br>| pop3 | CNAME |  | pop3.qiye.aliyun.com |<br>| smtp | CNAME |  | smtp.qiye.aliyun.com |<br>| mail | CNAME |  | qiye.aliyun.com |<br>| @ | TXT |  | v=spf1 include:spf.qiye.aliyun.com -all |</p><p>解析成功后图片<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/4209936034.png" alt="解析"></p><p>然后进入邮箱后台访问啦，上面的mail的二级域名是需要在阿里云备案/接入备案的，由于是使用的阿里云服务器，所以即使网站没绑定也不会判定未使用阿里云服务器<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/3226388201.png" alt="解析访问"></p><p>如果你需要使用个性化头部，你需要登陆 postmaster@你的域名进去创建员工账号，随便填写姓名的然后不要勾选改密码和手机号验证就行</p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>玩客云折腾日记 - 配置环境并安装宝塔</title>
      <link href="/posts/8fcb.html"/>
      <url>/posts/8fcb.html</url>
      
        <content type="html"><![CDATA[<p>玩客云刷机，是网心云的一个pcdn的盒子，网上很多拆解分析的教程，这里拆机刷机就借用别人的图片和教程<br>刷机包的全家桶:<br>烧录好的图片<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/1336596068.png" alt="烧录"><br>然后插上网线，到路由器去找我们刷机后获取到的IP<br>输入密码1234后，进入linux，然后提示你改个密码，设置个账号密码，然后设置名字，y后等待进入命令行<br>然后换源网上找了很多都是404或者超时，这里提供了源站，供各位自行替换。替换方法:输入<code>nano /etc/apt/sources.list</code>进入nano编辑器，然后替换成下面内容则<code>ctrl+x</code>退出,然后输入y回车回车就行。</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy-updates main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy-updates main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy-backports main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy-backports main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy-security main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy-security main restricted universe multiverse</span></span><br></pre></td></tr></tbody></table></figure><p>然后输入经典的两行代码</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt upgrade</span><br></pre></td></tr></tbody></table></figure><p>等待更新完成后可以选择执行apt install vim，因为这个系统没有自带vim<br>接着又是熟悉的安装宝塔环节，安装宝塔的脚本如下</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate https://pan.wangsheng.cc/d/玩客云刷宝塔/77.sh</span><br><span class="line">bash 77.sh</span><br></pre></td></tr></tbody></table></figure><p>如果出现以下情况则需要执行下方脚本<br>情况</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ERROR: cannot verify pan.wangsheng.cc<span class="string">'s certificate, issued by ‘CN=TrustAsia ECC DV TLS CA G2,O=TrustAsia Technologies\\, Inc.,C=CN’:</span></span><br><span class="line"><span class="string">  Unable to locally verify the issuer'</span>s authority.</span><br><span class="line">To connect to pan.wangsheng.cc insecurely, use `--no-check-certificate<span class="string">'.</span></span><br></pre></td></tr></tbody></table></figure><p>脚本</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install ca-certificates</span><br></pre></td></tr></tbody></table></figure><p>如果出现请到论坛提交问题需要执行以下代码</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">btpip install gevent</span><br><span class="line">btpip install psutil</span><br><span class="line">btpip install --upgrade Pillow</span><br><span class="line">btpip install gevent-websocket==0.10.1</span><br><span class="line">wget https://pan.wangsheng.cc/d/%E7%8 ... i3-linux_armv7l.whl</span><br><span class="line">btpip install pycryptodome-3.14.1-cp35-abi3-linux_armv7l.whl</span><br><span class="line">btpip install cryptography==3.2</span><br><span class="line">btpip install pyOpenSSL==20.0.0</span><br><span class="line">btpip install flask</span><br><span class="line">btpip install requests==2.26.0</span><br><span class="line">bt 1</span><br><span class="line">/etc/init.d/bt default</span><br></pre></td></tr></tbody></table></figure><p>刷机资料参考:1.<a href="https://blog.csdn.net/u011382906/article/details/131015970">https://blog.csdn.net/u011382906/article/details/131015970</a><br>2.<a href="https://www.right.com.cn/forum/thread-4034810-1-1.html">https://www.right.com.cn/forum/thread-4034810-1-1.html</a><br>3.<a href="https://www.bilibili.com/read/cv21700714">https://www.bilibili.com/read/cv21700714</a></p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>如何在Google domains土区购买-转入低价域名</title>
      <link href="/posts/ce2b.html"/>
      <url>/posts/ce2b.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>可以找我代注册代续费，在扣除的美元上只需要给我5元作为手续费</p></blockquote><h2 id="购买Google-domains域名，需要注意"><a href="#购买Google-domains域名，需要注意" class="headerlink" title="购买Google domains域名，需要注意:"></a>购买Google domains域名，需要注意:</h2><p>1.如果你需要备案或者迁移到国内，需要等待60天时间，等待期过后即可迁出<br>迁出方式:管理-&gt;注册设置-&gt;转出(注意注册时间不得超过9年，且关闭网域锁定)<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/3833482251.png" alt="转出截图"><br>2.Google domains在60天内，你可以使用国内dns厂商来提供dns解析，以加快转入国内注册商的速度<br>3.检查域名是否有建站黑历史，便宜多买了很多年但是因为黑历史导致百度”嫌弃”（被k)</p><h2 id="注册方法"><a href="#注册方法" class="headerlink" title="注册方法"></a>注册方法</h2><p>1.首先准备一个谷歌账户，再准备一个万事达的储蓄卡/信用卡，然后提前准备好国内厂商dns的添加。这里准备了一张现在绝版的非人哉万事达借记卡。<br>2.准备好后，打开网址<a href="https://domains.google.com，查看区域是否是土耳其，然后点击获取新域名(如果你需要淘一个四位字母域名，可以通过[阿里云域名批量注册-高级版][2]来查询,并在百度搜索建站历史查询的站点查询域名是否有黑产类的历史)">https://domains.google.com，查看区域是否是土耳其，然后点击获取新域名(如果你需要淘一个四位字母域名，可以通过[阿里云域名批量注册-高级版][2]来查询,并在百度搜索建站历史查询的站点查询域名是否有黑产类的历史)</a><br>注册价格如下:<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/2327792516.png" alt="注册价格"><br>3.找到自己心仪的域名后，加入购物车，填写好whois(就填最真实的),然后关闭续订(看你自己愿不愿意),绑定自己事先准备好的万事达卡，这个万事达扣费是多扣的，只是为了稳定汇率(所以多准备1美元)<br>4.注册好后需要修改dns到国内看这一条，点击管理-&gt;DNS-&gt;自定义域名服务器-&gt;管理域名服务器-&gt;填写后点击上面dns切换的那个标语。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/3719657598.png" alt="dns切换"><br>以阿里云为例，阿里云的dns地址是:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ns1.alidns.com</span><br><span class="line">ns2.alidns.com</span><br></pre></td></tr></tbody></table></figure><p>阿里云dns添加地址:<a href="https://dns.console.aliyun.com/">https://dns.console.aliyun.com</a><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/1029961106.png" alt="阿里云dns添加"><br>输入域名确定等待就解析完成了。</p><h2 id="转入方法"><a href="#转入方法" class="headerlink" title="转入方法"></a>转入方法</h2><p>转入与注册大同小异，首先询问你的域名商，获取转移码后点击转移-&gt;输入转移域名-&gt;输入导入码-&gt;一键继续(如果配置whois就如实填写)-&gt;支付就完成转入</p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>本博客将在新域名完成备案后正式迁移</title>
      <link href="/posts/79ce.html"/>
      <url>/posts/79ce.html</url>
      
        <content type="html"><![CDATA[<p>这两天我测试了下新域名在香港的速度，实在不太行，于是取消重定向到新域名上面。<br>新域名的地址是:<a href="https://www.nuoyis.net/">https://www.nuoyis.net</a></p>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>LInux - Centos服务器搭建(网络配置)</title>
      <link href="/posts/6e8c.html"/>
      <url>/posts/6e8c.html</url>
      
        <content type="html"><![CDATA[<p>Centos下载地址:<a href="https://pan.nuoyis.com/">https://pan.nuoyis.com</a>  </p><p>指令和部分地区解释<br>IPADDR 地址<br>NETMASK 子网掩码<br>GATEWAY 网关<br>DNS、DNSI 公共DNS解析<br>yum 一次性下载PRM自动安装<br>Systemctl restart NetworkManger 使配置生效<br>nmcli c reload 重启网卡<br>nmcli c up end33 启用ens33网卡<br>nmcli networking off 关闭网络<br>nmcli networking on 开启网络<br>nmcli device now 显示网络的详细情况  </p><p>操作<br><strong>如果在Windows环境上使用VMware Workstation，请先进入-&gt;点击新建虚拟机-&gt;自定义-&gt;下一步-&gt;安装程序镜像文件再进入输密码阶段</strong>   </p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">cd /etc  </span><br><span class="line">cd sysconfig/  </span><br><span class="line">cd net-work-scripts/</span><br><span class="line">ls</span><br><span class="line">vim ifcfg-nes33</span><br><span class="line">/*增加以下内容</span><br><span class="line"></span><br><span class="line">IPADDR = 192.168.*.*(例如：192.168.1.5)</span><br><span class="line">NETMASK = 255.255.255.0</span><br><span class="line">GATEWAY = 192.168.*.1</span><br><span class="line">DNS1 = 8.8.8.8</span><br><span class="line"></span><br><span class="line">//esc键后输入wq退出</span><br><span class="line">(nmcli c up ens33) nmcli c reload ens33 ifconfig</span><br><span class="line"></span><br><span class="line">//ping测试下</span><br><span class="line">ping baidu.com</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux - DHCP配置</title>
      <link href="/posts/a640.html"/>
      <url>/posts/a640.html</url>
      
        <content type="html"><![CDATA[<p>参数列表</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">subnet #分配IP地址网段</span><br><span class="line">netmask #子网掩码</span><br><span class="line">range #分配IP地址范围</span><br><span class="line">option routers #client广播地址</span><br><span class="line">option broad-address #client广播地址</span><br><span class="line">default-lease-time #默认租约时间，单位为秒</span><br><span class="line">max-lease-time #最大租约时间</span><br></pre></td></tr></tbody></table></figure><p>设置实例</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">A slightly different configuration <span class="keyword">for</span> an internd subnet</span></span><br><span class="line">subnet 192.168.222.0 netmask 255.255.255.0{</span><br><span class="line">range 192.168.222.30 192.168.222.40;</span><br><span class="line">option domain-name-servers nsl.internal.example.org;</span><br><span class="line">option domain-name "internal.example.org";</span><br><span class="line">option routers 192.168.222.255;</span><br><span class="line">option broad-address 192.168.222.255;</span><br><span class="line">default-lease-time 1200;</span><br><span class="line">max-lease-time 360000;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux - DHCP 安装</title>
      <link href="/posts/50fb.html"/>
      <url>/posts/50fb.html</url>
      
        <content type="html"><![CDATA[<p>命令代码行 </p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">//编辑网卡文件  </span><br><span class="line"> vi etc / sysconfig / network - scripts / ifcfg -ens33  </span><br><span class="line">//添加或更改以下内容： </span><br><span class="line"></span><br><span class="line">IPADDR =192.168.222.137＃本机 IP 地址  </span><br><span class="line">NETMASK =255.255.255.0＃子网掩码  </span><br><span class="line">GATEWAY =192.168.222.2＃默认网关  </span><br><span class="line">BOOTPROTO = static /／设置IP为静态IP  </span><br><span class="line"></span><br><span class="line">//启用网络服务</span><br><span class="line">sistenctl start network</span><br><span class="line"></span><br><span class="line">//查看 IP</span><br><span class="line">ifonfig </span><br><span class="line"></span><br><span class="line">//临时关闭防火墙、 SELinux  </span><br><span class="line">iptables -f #临时关闭防火墙</span><br><span class="line">setenforce o #临时关闭SELinux</span><br><span class="line"></span><br><span class="line">//安装DHCP</span><br><span class="line">yum -y install dhcp</span><br><span class="line">mount /dev/src/mnt</span><br><span class="line">cd /etc/yum.repos.d</span><br><span class="line">mv Centos-Base.repo Centos-Base-repo.bak</span><br><span class="line"></span><br><span class="line">//修改配置文件</span><br><span class="line">locate dhcpd.conf (没有则用yum安装 yum -y install mlocate)</span><br><span class="line"></span><br><span class="line">vi /etc/dhcp/dhcpd/conf</span><br><span class="line">cp /usr/share/doc/dhcp*/dhcp.conf.example /etc/dhcp/dhcpd.conf</span><br><span class="line"></span><br><span class="line">systemctl dhcpd</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>随身WIFI折腾 - 改造成宝塔小主机</title>
      <link href="/posts/8690.html"/>
      <url>/posts/8690.html</url>
      
        <content type="html"><![CDATA[<p>首先先上个配置截图和购买截图<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/3110921041.png" alt="d71cc89861c78483bd8eaacf5050c0df.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/1286651712.jpg" alt="Screenshot_20230717_024342_com.taobao.taobao.jpg"></p><h1 id="下面大部分图片或者文章内容由B站大佬千牛不是牛和QQ好友分享的酷安大佬，我将两者文章和我的经历融合了一下"><a href="#下面大部分图片或者文章内容由B站大佬千牛不是牛和QQ好友分享的酷安大佬，我将两者文章和我的经历融合了一下" class="headerlink" title="下面大部分图片或者文章内容由B站大佬千牛不是牛和QQ好友分享的酷安大佬，我将两者文章和我的经历融合了一下"></a>下面大部分图片或者文章内容由B站大佬<a href="https://www.bilibili.com/video/BV1po4y1t7CY/?spm_id_from=333.999.0.0">千牛不是牛</a>和QQ好友分享的<a href="https://i7z73kxt0i.feishu.cn/docx/doxcnRO4mwUfI0odES7g5PLlNbh">酷安大佬</a>，我将两者文章和我的经历融合了一下</h1><p>首先确定你手里的棒子是高通的CPU，此方法安装的是纯净版，安装好后4G内存的棒子还剩2.4G,不像别人做好的刷机包，他里面安装了很多东西，有些我们根本用不到，对于棒子内存小来说就是浪费资源。</p><h2 id="第一、准备软件"><a href="#第一、准备软件" class="headerlink" title="第一、准备软件"></a>第一、准备软件</h2><blockquote><ul><li>9008免签名驱动</li><li>MiKo (备份固件，以免成砖块)</li><li>随身WiFi助手</li><li>Debian刷机包</li></ul></blockquote><p>这四个必须提前安装，并安装至同一目录下便于管理</p><h2 id="第二、下载Debian固件包"><a href="#第二、下载Debian固件包" class="headerlink" title="第二、下载Debian固件包"></a>第二、下载Debian固件包</h2><p>找你主板上等桶型号的固件包，如我的固件为UFI103S_v2,找UFI001C(都适配)的包，然后下载</p><h2 id="第三、备份固件"><a href="#第三、备份固件" class="headerlink" title="第三、备份固件"></a>第三、备份固件</h2><p>用miko进行备份,miko安装有个破解包,记得直接替换(鼠标右键图标跳转文件位置后复制名称删掉),然后拆下随身WiFi的外壳，按住随身WiFi的reset键并插入USB口，然后到设备管理器看是否是9008端口。然后点击read-&gt;Paetition Backup/Erase,点击Load Partition Structure。选个地址进行保存。</p><h2 id="第四、解压整理包"><a href="#第四、解压整理包" class="headerlink" title="第四、解压整理包"></a>第四、解压整理包</h2><p>将下载好的整理包解压，然后可以放置一边。</p><h2 id="第五、刷机"><a href="#第五、刷机" class="headerlink" title="第五、刷机"></a>第五、刷机</h2><p>备份好之后把棒子拔下来，重新插上。<br>一.打开ADB<br>鼠标右键随身WiFi助手<br>(如果打开power shell显示adb有问题,确保有adb.exe下可以直接使用./adb xxxxxx)<br>输入一下指令:<br>查看设备</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./adb devices</span><br></pre></td></tr></tbody></table></figure><p>如果下面多了一行则执行进入fastboot模式</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./adb reboot bootloader</span><br></pre></td></tr></tbody></table></figure><p>二.打开随身WiFi刷机助手<br>进入fastboot模式，打开随身wifi助手，输入K<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/3870304197.png" alt="202304272230381.png"></p><p>先刷base包：进入base目录，点击flash.bat<br>再刷debian包：进入固件包目录，点击flash.bat，并一顺回车。<br>刷机完成后，把棒子拔下来，重新插拔(如果刷机失败,请使用miko-&gt;Flash-&gt;emmc block0 flasher恢复)。</p><h2 id="第五、设置驱动和网络共享"><a href="#第五、设置驱动和网络共享" class="headerlink" title="第五、设置驱动和网络共享"></a>第五、设置驱动和网络共享</h2><h2 id="查看设备管理器中是否有NDIS，如果有直接跳过后面的操作，进入下面。"><a href="#查看设备管理器中是否有NDIS，如果有直接跳过后面的操作，进入下面。" class="headerlink" title="查看设备管理器中是否有NDIS，如果有直接跳过后面的操作，进入下面。"></a>查看设备管理器中是否有NDIS，如果有直接跳过后面的操作，进入下面。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/3058697286.png" alt="202304281110735.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/3463047828.png" alt="202304281110577.png"></h2><p>这里会有一个驱动异常的rndis设备，右键，选择更新驱动，浏览我的电脑，以查找驱动程序<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/805918896.png" alt="202304281119967.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/4151593293.png" alt="202304281121286.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/2212943341.png" alt="202304281121364.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/3407302322.png" alt="202304281121236.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/1050792005.png" alt="202304281122596.png"><br>找到Microsoft，然后选择基于RNDIS网络共享设备（不同的系统可能不一样，但大同小异）。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/1263337348.png" alt="202304281122177.png"></p><p>如果任务管理器是ADB模式，则需要按以下步骤操作:<br>1.卸载该驱动</p><p>安装完驱动设备就可以被正常识别了，然后打开ssh（xshell、WindTerm等等都可以）。</p><h2 id="第七、设置root账户"><a href="#第七、设置root账户" class="headerlink" title="第七、设置root账户"></a>第七、设置root账户</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#配置root用户密码 123456</span></span><br><span class="line"><span class="built_in">sudo</span> passwd root</span><br><span class="line"></span><br><span class="line"><span class="comment">#切换到root用户</span></span><br><span class="line"><span class="built_in">sudo</span> su -</span><br><span class="line"></span><br><span class="line"><span class="comment">#允许root用户远程登录，重启服务或系统后生效 </span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"PermitRootLogin yes"</span> &gt;&gt; /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line"><span class="comment">#重启设备</span></span><br><span class="line">reboot</span><br><span class="line"></span><br><span class="line"><span class="comment">#用root设备登录ssh(密码是刚才设置的123456)</span></span><br><span class="line">root---123456</span><br><span class="line"></span><br><span class="line"><span class="comment">#删掉已经没用的自带用户</span></span><br><span class="line">userdel -r user</span><br></pre></td></tr></tbody></table></figure><h2 id="第八、连接网络"><a href="#第八、连接网络" class="headerlink" title="第八、连接网络"></a>第八、连接网络</h2><p>在终端输入<code>nmtui</code>，点击<code>Activate a connection</code><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/990396467.png" alt="202304272242452.png"><br>如果你下面这个不是显示的WiFi，你需要退出并进入Edit a connection然后在bridge里面删掉带有WiFi的然后点击保存再退出，回来就行下面界面<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/137603513.png" alt="202304272243459.png"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/2737589279.png" alt="202304272245861.png"><br>在wifi名称前面带有*，就表示连接成功了。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/2426641172.png" alt="202304272246098.png"></p><h2 id="第九、安装软件-设定镜像源"><a href="#第九、安装软件-设定镜像源" class="headerlink" title="第九、安装软件+设定镜像源"></a>第九、安装软件+设定镜像源</h2><h3 id="a安装系统常用软件"><a href="#a安装系统常用软件" class="headerlink" title="a安装系统常用软件"></a>a安装系统常用软件</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#创建一个空mobian.list文件：</span></span><br><span class="line"><span class="literal">true</span> &gt; /etc/apt/sources.list.d/mobian.list</span><br><span class="line"></span><br><span class="line"><span class="comment">#更新APT软件包：</span></span><br><span class="line">apt-get update</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#安装常用的软件包</span></span><br><span class="line">apt-get install curl</span><br><span class="line">apt-get install -y wget</span><br><span class="line">apt update</span><br><span class="line">apt install vim git cron dnsutils unzip lrzsz fdisk gdisk exfat-fuse exfat-utils</span><br></pre></td></tr></tbody></table></figure><h3 id="b设定阿里镜像源"><a href="#b设定阿里镜像源" class="headerlink" title="b设定阿里镜像源"></a>b设定阿里镜像源</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#打开/etc/apt/sources.list文件</span></span><br><span class="line"><span class="built_in">sudo</span> vim /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#粘贴以下内容</span></span><br><span class="line">deb https://mirrors.aliyun.com/debian/ bullseye main non-free contrib</span><br><span class="line">deb-src https://mirrors.aliyun.com/debian/ bullseye main non-free contrib</span><br><span class="line">deb https://mirrors.aliyun.com/debian-security/ bullseye-security main</span><br><span class="line">deb-src https://mirrors.aliyun.com/debian-security/ bullseye-security main</span><br><span class="line">deb https://mirrors.aliyun.com/debian/ bullseye-updates main non-free contrib</span><br><span class="line">deb-src https://mirrors.aliyun.com/debian/ bullseye-updates main non-free contrib</span><br><span class="line">deb https://mirrors.aliyun.com/debian/ bullseye-backports main non-free contrib</span><br><span class="line">deb-src https://mirrors.aliyun.com/debian/ bullseye-backports main non-free contrib</span><br></pre></td></tr></tbody></table></figure><h3 id="设定镜像后再次更新APT软件包"><a href="#设定镜像后再次更新APT软件包" class="headerlink" title="设定镜像后再次更新APT软件包"></a>设定镜像后再次更新APT软件包</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">该命令会更新本地的软件包列表，会连接到远程软件源并检查可用的更新。</span></span><br><span class="line">sudo apt update</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这个命令会下载并安装系统中已经安装的软件包的最新版本，如果有新的依赖项则也会一并下载安装。</span></span><br><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></tbody></table></figure><h2 id="第十、配置系统时间"><a href="#第十、配置系统时间" class="headerlink" title="第十、配置系统时间"></a>第十、配置系统时间</h2><p><code>dpkg-reconfigure tzdata</code> 选6.然后选70（亚洲 上海）<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/3839553561.png" alt="202304272307023.png"></p><h2 id="第十一、把Debian-设置中文环境"><a href="#第十一、把Debian-设置中文环境" class="headerlink" title="第十一、把Debian 设置中文环境"></a>第十一、把Debian 设置中文环境</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">要支持区域设置，首先要安装locales软件包：</span><br><span class="line">apt-get install locales</span><br><span class="line"></span><br><span class="line">然后配置locales软件包：</span><br><span class="line">dpkg-reconfigure locales</span><br><span class="line"></span><br><span class="line">在界面中钩选487. zh_CN.UTF-8 UTF-8</span><br><span class="line">输入487</span><br><span class="line"></span><br><span class="line">然后输入3</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">重启设备</span></span><br><span class="line">reboot</span><br></pre></td></tr></tbody></table></figure><p><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/1687147262.png" alt="202304272310153.png"></p><p>设备重启后，再输入nmtui，就可以看到中文界面了：<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/4112690753.png" alt="202304272313849.png"></p><p>宝塔安装只需要输入以下指令，安装非常非常的慢</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if [ -f /usr/bin/curl ];then curl -sSO https://download.bt.cn/install/install_panel.sh;else wget -O install_panel.sh https://download.bt.cn/install/install_panel.sh;fi;bash install_panel.sh ed8484bec</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>底部标识插件正式开源啦</title>
      <link href="/posts/3f6.html"/>
      <url>/posts/3f6.html</url>
      
        <content type="html"><![CDATA[<p>有些主题没有备案标识，或者更换主题时让备案标识丢失?那就尝试使用下本插件，一次启用永久生效，无论是什么主题，都能不遮挡的显示给政府人员/核查人员。本插件和前一个插件一样保持开源，具体展示效果如下:<br>butterfly主题:<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/4248534123.png" alt="底部截图"></p><p>福利站使用的freewind<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/545999169.png" alt="freewind"></p><p>开源库:<a href="https://github.com/nuoyis/Typecho-Biaoshi-plugin">https://github.com/nuoyis/Typecho-Biaoshi-plugin</a></p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux - vsftpd 配置</title>
      <link href="/posts/42fd.html"/>
      <url>/posts/42fd.html</url>
      
        <content type="html"><![CDATA[<p>中文全名：网络文件存储服务器<br>ftp =＞文件传输协议<br>TFTP:简单文件传输协议<br>3种认证方式<br>匿名 anon<br>本地 local<br>虚拟 guest<br>PAM =＞可插拔认证模块<br>FTP 常用端口<br>20（数据传输）<br>21（接受数据）<br>工作模式：主动模式，被动模式<br>安装命令</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum - y install usftpd</span><br></pre></td></tr></tbody></table></figure><p>vsftpd 参数表</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">listen =[ YES | NO ]</span><br></pre></td></tr></tbody></table></figure><p>是否以独立运行的方式监听服务</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">listen_address =IP地址</span><br></pre></td></tr></tbody></table></figure><p>设置要监听的 IP 地址</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">listen_port =21</span><br></pre></td></tr></tbody></table></figure><p>设置 FTP 服务的监听端口</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">download_enable =[ YES | NO ]</span><br></pre></td></tr></tbody></table></figure><p>是否允许下载文件</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">userlist _ enable =[ YES | NO ]</span><br><span class="line">userlist - deny =[ YES | NO ]</span><br></pre></td></tr></tbody></table></figure><p>设置用户列表为”允许”还是”禁止”操作</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">max_clients =0</span><br></pre></td></tr></tbody></table></figure><p>最大客户端连接数，0为不限制</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">max_per_ip = o</span><br></pre></td></tr></tbody></table></figure><p>同一 IP 地址的最大连接数，0为不限制</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ancnymous_enable [ YES I NO ]</span><br></pre></td></tr></tbody></table></figure><p>是否允许匿名用户访问</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">anon _ upload _ enable =[ YES | No ]</span><br></pre></td></tr></tbody></table></figure><p>是否允许匿名用户上传文件</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">anon _ wnask =022</span><br></pre></td></tr></tbody></table></figure><p>匿名用户上传文件的 umark 值</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">anon _ root =/var/ftp</span><br></pre></td></tr></tbody></table></figure><p>匿名用户的 FTP 根目录</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">anon _ mkdir _ wribe _ enable =[ YES | NO ]</span><br></pre></td></tr></tbody></table></figure><p>是否允许匿名用户创建目录</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">anon _ other _ write _ enable =[ YES / NO ]</span><br></pre></td></tr></tbody></table></figure><p>是否开放匿名用户的其他写入权限</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">anon - max - rate = 0</span><br></pre></td></tr></tbody></table></figure><p>匿名用户的最大传输速率（字节／秒，0为不限制）</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">local _ enable =[ YES | No ]</span><br></pre></td></tr></tbody></table></figure><p>是否允许本地用户登录 FTP</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">local Umask =022</span><br></pre></td></tr></tbody></table></figure><p>本地用户上传文件的 umark 值</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">local bot =/ varlftp </span><br></pre></td></tr></tbody></table></figure><p>本地用户的 FTP 根目录</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chroot _ local _ user =[ YES | No ]</span><br></pre></td></tr></tbody></table></figure><p>是否将用户权限禁锢在 FTP 目录，以确保安全</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">local_max_rate = 0</span><br></pre></td></tr></tbody></table></figure><p>本地用户最大传输速率（字节1秒）,0为不限制<br>程序环境及配置<br>主程序目录：/usr/sbin/vsftpd<br>配置文件：/etc/vsftpd/vs/vsftpd.conf<br>数据跟目录：/var/ftp<br>rpm -9c vsftpd // vsftpd 配置文件<br>cat / etc / passwork / grep fip /／查看 f 印主机上用户的信息<br>yum install Iftp ftp /／在同一网络内的另一台主机安装 p</p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux - 我的世界服务器搭建</title>
      <link href="/posts/650.html"/>
      <url>/posts/650.html</url>
      
        <content type="html"><![CDATA[<p>下面环境基于Centos搭建，文章基于本子上内容恢复<br>#安装依赖包</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install git  //git安装</span><br><span class="line">sudo yum group install "Development Tools" // 构建mcrcon</span><br><span class="line">sudo yum install</span><br></pre></td></tr></tbody></table></figure><p>#创建我的世界账户(不用root权限执行我的世界)</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo useradd -r -m -u -d /opt/minecraft -s /bin/bash/minecraft</span><br><span class="line">madir -P /opt/minecraft/{backups,tools,server}</span><br></pre></td></tr></tbody></table></figure><p>#构建mcron软件包</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/minecraft/tools &amp;&amp; git clone https://gitee.com/whtrys/mcron.git</span><br><span class="line">gcc -std=gnull -pedantic -wall -wetra -O -S mcron /opt/minecraft/tools/mcrcon.c</span><br></pre></td></tr></tbody></table></figure><p>#运行我的世界包</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Java -Xmx1024M -Xms1024M -jar /opt/minecraft/server</span><br></pre></td></tr></tbody></table></figure><p>注:1.内存和CPU建议在4GB以上(最新版可能需要16G以上)<br>2.需禁用一些容易卡BUG的物品，避免炸服</p>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>诺依阁的个人介绍 - 开源通知</title>
      <link href="/posts/3a3d.html"/>
      <url>/posts/3a3d.html</url>
      
        <content type="html"><![CDATA[<p>诺依阁的个人介绍，打造于2022年，于现在正式开源推出。虽然没做后台模块(也不会开发后端),但基本完善数据库读写问题。<br>本诺依阁的个人介绍，采用了视频背景，运用了多种js美化并借鉴了多位大佬编写的页面。<br>当初忘记大佬们写的内容，本站很多都是深度优化与改良，如果看到你写的内容，本站经过审核后方可挂名  </p><blockquote><p>然后帮忙找找动态壁纸作者，我没有联系壁纸作者，如果知道我将挂名在这里<br>展示博客：<a href="https://aboutme.nuoyis.net/">https://aboutme.nuoyis.net</a><br>开源库：<a href="https://github.com/nuoyis/aboutme">https://github.com/nuoyis/aboutme</a></p></blockquote><p>加载页<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/520771487.png" alt="加载页"><br>主页面<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/110793500.png" alt="主页"><br>右键<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/3531337575.png" alt="右键"></p>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>部分文章丢失恢复通知</title>
      <link href="/posts/ebf5.html"/>
      <url>/posts/ebf5.html</url>
      
        <content type="html"><![CDATA[<p>部分文章可能因为本站架构重构问题，导致图片和原来文章丢失。<br>现在每日修复两篇文章，并修复配图无图和文章重复部分<br>目前修复丢失文章:阿里云备案 | 曾经备案的足迹<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/3090608727.png" alt="阿里云备案"></p>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>中国银行哔哩哔哩联名借记卡火热发行中</title>
      <link href="/posts/f5c9.html"/>
      <url>/posts/f5c9.html</url>
      
        <content type="html"><![CDATA[<p>昨天还是大前天看B站发现了这个联名卡，同样和诺天依、非人哉制作非常好看啊，这里放出申请流程，虽然我想申请，但我想着上次非人哉的那张手机号实名没改成我的，就差点无法绑上(趁柜员没注意的时候改回来了)<br>申请链接:<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/3952506179.png" alt="图片"></p>]]></content>
      
      
      <categories>
          
          <category> 生活类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>关于net在谷歌土区成为白菜价导致我com续费欲望降低的这件事</title>
      <link href="/posts/4869.html"/>
      <url>/posts/4869.html</url>
      
        <content type="html"><![CDATA[<p>com土区相当于土区net的2.3到2.4倍，而net转换成人民币仅需20元每月，于是本站新注册的nuoyis.net直接拿下了5年。虽然手续费众多，但一年少70还是很香的。<br>所以net后续可能小部分业务迁移过去，但是留下一些价值高的在com上</p>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Typecho编写的小插件 - htmltomd-批量快速从wordpress迁移后的html格式转成makedown模式</title>
      <link href="/posts/2f1c.html"/>
      <url>/posts/2f1c.html</url>
      
        <content type="html"><![CDATA[<p>Hallo大家好，我是咕咕咕的站长诺依阁，今天总算是把写的小插件搞出来了。<br>为什么说是小插件呢?首先makedown转换不是我写的，是大佬<a href="http://www.zjmainstay.cn/">Zjmainstay</a>写的，由于大佬网站没有评论系统，就在这里告诉是这位作者写的。<br>然后我憋屈了很久，虽然转换掉了html元素，但是仍然有部分需要手动调整(我也不知道继续是咋整)。<br>下面是代码开源库:<a href="https://github.com/nuoyis/Typecho-htmltomd">https://github.com/nuoyis/Typecho-htmltomd</a><br>展示图片<br>转换前：<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/3811601313.png" alt="屏幕截图 2023-07-05 221547.png"><br>转换后<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/07/4256334883.png" alt="屏幕截图 2023-07-05 221629.png"><br>版本目前定为1.0.0,如果有大佬更新列入下面列表中。</p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>typecho主题butterfly备案号-公安备案开发</title>
      <link href="/posts/c223.html"/>
      <url>/posts/c223.html</url>
      
        <content type="html"><![CDATA[<p>目前我修改和开发了两个页面。各位可以自己对应自己的情况进行修改。<br>以下是两个文件的开发<br>function.php</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br><span class="line">1408</span><br><span class="line">1409</span><br><span class="line">1410</span><br><span class="line">1411</span><br><span class="line">1412</span><br><span class="line">1413</span><br><span class="line">1414</span><br><span class="line">1415</span><br><span class="line">1416</span><br><span class="line">1417</span><br><span class="line">1418</span><br><span class="line">1419</span><br><span class="line">1420</span><br><span class="line">1421</span><br><span class="line">1422</span><br><span class="line">1423</span><br><span class="line">1424</span><br><span class="line">1425</span><br><span class="line">1426</span><br><span class="line">1427</span><br><span class="line">1428</span><br><span class="line">1429</span><br><span class="line">1430</span><br><span class="line">1431</span><br><span class="line">1432</span><br><span class="line">1433</span><br><span class="line">1434</span><br><span class="line">1435</span><br><span class="line">1436</span><br><span class="line">1437</span><br><span class="line">1438</span><br><span class="line">1439</span><br><span class="line">1440</span><br><span class="line">1441</span><br><span class="line">1442</span><br><span class="line">1443</span><br><span class="line">1444</span><br><span class="line">1445</span><br><span class="line">1446</span><br><span class="line">1447</span><br><span class="line">1448</span><br><span class="line">1449</span><br><span class="line">1450</span><br><span class="line">1451</span><br><span class="line">1452</span><br><span class="line">1453</span><br><span class="line">1454</span><br><span class="line">1455</span><br><span class="line">1456</span><br><span class="line">1457</span><br><span class="line">1458</span><br><span class="line">1459</span><br><span class="line">1460</span><br><span class="line">1461</span><br><span class="line">1462</span><br><span class="line">1463</span><br><span class="line">1464</span><br><span class="line">1465</span><br><span class="line">1466</span><br><span class="line">1467</span><br><span class="line">1468</span><br><span class="line">1469</span><br><span class="line">1470</span><br><span class="line">1471</span><br><span class="line">1472</span><br><span class="line">1473</span><br><span class="line">1474</span><br><span class="line">1475</span><br><span class="line">1476</span><br><span class="line">1477</span><br><span class="line">1478</span><br><span class="line">1479</span><br><span class="line">1480</span><br><span class="line">1481</span><br><span class="line">1482</span><br><span class="line">1483</span><br><span class="line">1484</span><br><span class="line">1485</span><br><span class="line">1486</span><br><span class="line">1487</span><br><span class="line">1488</span><br><span class="line">1489</span><br><span class="line">1490</span><br><span class="line">1491</span><br><span class="line">1492</span><br><span class="line">1493</span><br><span class="line">1494</span><br><span class="line">1495</span><br><span class="line">1496</span><br><span class="line">1497</span><br><span class="line">1498</span><br><span class="line">1499</span><br><span class="line">1500</span><br><span class="line">1501</span><br><span class="line">1502</span><br><span class="line">1503</span><br><span class="line">1504</span><br><span class="line">1505</span><br><span class="line">1506</span><br><span class="line">1507</span><br><span class="line">1508</span><br><span class="line">1509</span><br><span class="line">1510</span><br><span class="line">1511</span><br><span class="line">1512</span><br><span class="line">1513</span><br><span class="line">1514</span><br><span class="line">1515</span><br><span class="line">1516</span><br><span class="line">1517</span><br><span class="line">1518</span><br><span class="line">1519</span><br><span class="line">1520</span><br><span class="line">1521</span><br><span class="line">1522</span><br><span class="line">1523</span><br><span class="line">1524</span><br><span class="line">1525</span><br><span class="line">1526</span><br><span class="line">1527</span><br><span class="line">1528</span><br><span class="line">1529</span><br><span class="line">1530</span><br><span class="line">1531</span><br><span class="line">1532</span><br><span class="line">1533</span><br><span class="line">1534</span><br><span class="line">1535</span><br><span class="line">1536</span><br><span class="line">1537</span><br><span class="line">1538</span><br><span class="line">1539</span><br><span class="line">1540</span><br><span class="line">1541</span><br><span class="line">1542</span><br><span class="line">1543</span><br><span class="line">1544</span><br><span class="line">1545</span><br><span class="line">1546</span><br><span class="line">1547</span><br><span class="line">1548</span><br><span class="line">1549</span><br><span class="line">1550</span><br><span class="line">1551</span><br><span class="line">1552</span><br><span class="line">1553</span><br><span class="line">1554</span><br><span class="line">1555</span><br><span class="line">1556</span><br><span class="line">1557</span><br><span class="line">1558</span><br><span class="line">1559</span><br><span class="line">1560</span><br><span class="line">1561</span><br><span class="line">1562</span><br><span class="line">1563</span><br><span class="line">1564</span><br><span class="line">1565</span><br><span class="line">1566</span><br><span class="line">1567</span><br><span class="line">1568</span><br><span class="line">1569</span><br><span class="line">1570</span><br><span class="line">1571</span><br><span class="line">1572</span><br><span class="line">1573</span><br><span class="line">1574</span><br><span class="line">1575</span><br><span class="line">1576</span><br><span class="line">1577</span><br><span class="line">1578</span><br><span class="line">1579</span><br><span class="line">1580</span><br><span class="line">1581</span><br><span class="line">1582</span><br><span class="line">1583</span><br><span class="line">1584</span><br><span class="line">1585</span><br><span class="line">1586</span><br><span class="line">1587</span><br><span class="line">1588</span><br><span class="line">1589</span><br><span class="line">1590</span><br><span class="line">1591</span><br><span class="line">1592</span><br><span class="line">1593</span><br><span class="line">1594</span><br><span class="line">1595</span><br><span class="line">1596</span><br><span class="line">1597</span><br><span class="line">1598</span><br><span class="line">1599</span><br><span class="line">1600</span><br><span class="line">1601</span><br><span class="line">1602</span><br><span class="line">1603</span><br><span class="line">1604</span><br><span class="line">1605</span><br><span class="line">1606</span><br><span class="line">1607</span><br><span class="line">1608</span><br><span class="line">1609</span><br><span class="line">1610</span><br><span class="line">1611</span><br><span class="line">1612</span><br><span class="line">1613</span><br><span class="line">1614</span><br><span class="line">1615</span><br><span class="line">1616</span><br><span class="line">1617</span><br><span class="line">1618</span><br><span class="line">1619</span><br><span class="line">1620</span><br><span class="line">1621</span><br><span class="line">1622</span><br><span class="line">1623</span><br><span class="line">1624</span><br><span class="line">1625</span><br><span class="line">1626</span><br><span class="line">1627</span><br><span class="line">1628</span><br><span class="line">1629</span><br><span class="line">1630</span><br><span class="line">1631</span><br><span class="line">1632</span><br><span class="line">1633</span><br><span class="line">1634</span><br><span class="line">1635</span><br><span class="line">1636</span><br><span class="line">1637</span><br><span class="line">1638</span><br><span class="line">1639</span><br><span class="line">1640</span><br><span class="line">1641</span><br><span class="line">1642</span><br><span class="line">1643</span><br><span class="line">1644</span><br><span class="line">1645</span><br><span class="line">1646</span><br><span class="line">1647</span><br><span class="line">1648</span><br><span class="line">1649</span><br><span class="line">1650</span><br><span class="line">1651</span><br><span class="line">1652</span><br><span class="line">1653</span><br><span class="line">1654</span><br><span class="line">1655</span><br><span class="line">1656</span><br><span class="line">1657</span><br><span class="line">1658</span><br><span class="line">1659</span><br><span class="line">1660</span><br><span class="line">1661</span><br><span class="line">1662</span><br><span class="line">1663</span><br><span class="line">1664</span><br><span class="line">1665</span><br><span class="line">1666</span><br><span class="line">1667</span><br><span class="line">1668</span><br><span class="line">1669</span><br><span class="line">1670</span><br><span class="line">1671</span><br><span class="line">1672</span><br><span class="line">1673</span><br><span class="line">1674</span><br><span class="line">1675</span><br><span class="line">1676</span><br><span class="line">1677</span><br><span class="line">1678</span><br><span class="line">1679</span><br><span class="line">1680</span><br><span class="line">1681</span><br><span class="line">1682</span><br><span class="line">1683</span><br><span class="line">1684</span><br><span class="line">1685</span><br><span class="line">1686</span><br><span class="line">1687</span><br><span class="line">1688</span><br><span class="line">1689</span><br><span class="line">1690</span><br><span class="line">1691</span><br><span class="line">1692</span><br><span class="line">1693</span><br><span class="line">1694</span><br><span class="line">1695</span><br><span class="line">1696</span><br><span class="line">1697</span><br><span class="line">1698</span><br><span class="line">1699</span><br><span class="line">1700</span><br><span class="line">1701</span><br><span class="line">1702</span><br><span class="line">1703</span><br><span class="line">1704</span><br><span class="line">1705</span><br><span class="line">1706</span><br><span class="line">1707</span><br><span class="line">1708</span><br><span class="line">1709</span><br><span class="line">1710</span><br><span class="line">1711</span><br><span class="line">1712</span><br><span class="line">1713</span><br><span class="line">1714</span><br><span class="line">1715</span><br><span class="line">1716</span><br><span class="line">1717</span><br><span class="line">1718</span><br><span class="line">1719</span><br><span class="line">1720</span><br><span class="line">1721</span><br><span class="line">1722</span><br><span class="line">1723</span><br><span class="line">1724</span><br><span class="line">1725</span><br><span class="line">1726</span><br><span class="line">1727</span><br><span class="line">1728</span><br><span class="line">1729</span><br><span class="line">1730</span><br><span class="line">1731</span><br><span class="line">1732</span><br><span class="line">1733</span><br><span class="line">1734</span><br><span class="line">1735</span><br><span class="line">1736</span><br><span class="line">1737</span><br><span class="line">1738</span><br><span class="line">1739</span><br><span class="line">1740</span><br><span class="line">1741</span><br><span class="line">1742</span><br><span class="line">1743</span><br><span class="line">1744</span><br><span class="line">1745</span><br><span class="line">1746</span><br><span class="line">1747</span><br><span class="line">1748</span><br><span class="line">1749</span><br><span class="line">1750</span><br><span class="line">1751</span><br><span class="line">1752</span><br><span class="line">1753</span><br><span class="line">1754</span><br><span class="line">1755</span><br><span class="line">1756</span><br><span class="line">1757</span><br><span class="line">1758</span><br><span class="line">1759</span><br><span class="line">1760</span><br><span class="line">1761</span><br><span class="line">1762</span><br><span class="line">1763</span><br><span class="line">1764</span><br><span class="line">1765</span><br><span class="line">1766</span><br><span class="line">1767</span><br><span class="line">1768</span><br><span class="line">1769</span><br><span class="line">1770</span><br><span class="line">1771</span><br><span class="line">1772</span><br><span class="line">1773</span><br><span class="line">1774</span><br><span class="line">1775</span><br><span class="line">1776</span><br><span class="line">1777</span><br><span class="line">1778</span><br><span class="line">1779</span><br><span class="line">1780</span><br><span class="line">1781</span><br><span class="line">1782</span><br><span class="line">1783</span><br><span class="line">1784</span><br><span class="line">1785</span><br><span class="line">1786</span><br><span class="line">1787</span><br><span class="line">1788</span><br><span class="line">1789</span><br><span class="line">1790</span><br><span class="line">1791</span><br><span class="line">1792</span><br><span class="line">1793</span><br><span class="line">1794</span><br><span class="line">1795</span><br><span class="line">1796</span><br><span class="line">1797</span><br><span class="line">1798</span><br><span class="line">1799</span><br><span class="line">1800</span><br><span class="line">1801</span><br><span class="line">1802</span><br><span class="line">1803</span><br><span class="line">1804</span><br><span class="line">1805</span><br><span class="line">1806</span><br><span class="line">1807</span><br><span class="line">1808</span><br><span class="line">1809</span><br><span class="line">1810</span><br><span class="line">1811</span><br><span class="line">1812</span><br><span class="line">1813</span><br><span class="line">1814</span><br><span class="line">1815</span><br><span class="line">1816</span><br><span class="line">1817</span><br><span class="line">1818</span><br><span class="line">1819</span><br><span class="line">1820</span><br><span class="line">1821</span><br><span class="line">1822</span><br><span class="line">1823</span><br><span class="line">1824</span><br><span class="line">1825</span><br><span class="line">1826</span><br><span class="line">1827</span><br><span class="line">1828</span><br><span class="line">1829</span><br><span class="line">1830</span><br><span class="line">1831</span><br><span class="line">1832</span><br><span class="line">1833</span><br><span class="line">1834</span><br><span class="line">1835</span><br><span class="line">1836</span><br><span class="line">1837</span><br><span class="line">1838</span><br><span class="line">1839</span><br><span class="line">1840</span><br><span class="line">1841</span><br><span class="line">1842</span><br><span class="line">1843</span><br><span class="line">1844</span><br><span class="line">1845</span><br><span class="line">1846</span><br><span class="line">1847</span><br><span class="line">1848</span><br><span class="line">1849</span><br><span class="line">1850</span><br><span class="line">1851</span><br><span class="line">1852</span><br><span class="line">1853</span><br><span class="line">1854</span><br><span class="line">1855</span><br><span class="line">1856</span><br><span class="line">1857</span><br><span class="line">1858</span><br><span class="line">1859</span><br><span class="line">1860</span><br><span class="line">1861</span><br><span class="line">1862</span><br><span class="line">1863</span><br><span class="line">1864</span><br><span class="line">1865</span><br><span class="line">1866</span><br><span class="line">1867</span><br><span class="line">1868</span><br><span class="line">1869</span><br><span class="line">1870</span><br><span class="line">1871</span><br><span class="line">1872</span><br><span class="line">1873</span><br><span class="line">1874</span><br><span class="line">1875</span><br><span class="line">1876</span><br><span class="line">1877</span><br><span class="line">1878</span><br><span class="line">1879</span><br><span class="line">1880</span><br><span class="line">1881</span><br><span class="line">1882</span><br><span class="line">1883</span><br><span class="line">1884</span><br><span class="line">1885</span><br><span class="line">1886</span><br><span class="line">1887</span><br><span class="line">1888</span><br><span class="line">1889</span><br><span class="line">1890</span><br><span class="line">1891</span><br><span class="line">1892</span><br><span class="line">1893</span><br><span class="line">1894</span><br><span class="line">1895</span><br><span class="line">1896</span><br><span class="line">1897</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="title function_ invoke__">defined</span>(<span class="string">'__TYPECHO_ROOT_DIR__'</span>)) <span class="keyword">exit</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">themeConfig</span>(<span class="params"><span class="variable">$form</span></span>) </span>{</span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line">    &lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"&lt;?php Helper::options()-&gt;themeUrl('css/themedash.css?v1.5.3'); ?&gt;"</span>&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span>='<span class="title">set_toc</span>' &gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">div</span> <span class="title">class</span>='<span class="title">mtoc</span>'&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">a</span> <span class="title">href</span>='#<span class="title">themeBackup</span>'&gt;主题备份与还原&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">a</span> <span class="title">href</span>='#<span class="title">cids</span>'&gt;文章置顶及公共部分&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">a</span> <span class="title">href</span>='#<span class="title">pjax</span>'&gt;<span class="title">pjax</span>设置&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">a</span> <span class="title">href</span>='#<span class="title">friends</span>'&gt;友情链接设置&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">a</span> <span class="title">href</span>='#<span class="title">reward</span>'&gt;打赏功能&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">a</span> <span class="title">href</span>='#<span class="title">aside</span>'&gt;侧边栏显示设置&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">a</span> <span class="title">href</span>='#<span class="title">beautifyBlock</span>'&gt;美化选项&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">a</span> <span class="title">href</span>='#<span class="title">ShowLive2D</span>'&gt;<span class="title">Live2D</span>设置&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">a</span> <span class="title">href</span>='#<span class="title">otherCustom</span>'&gt;其他自定义内容&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">a</span> <span class="title">href</span>='#<span class="title">CustomColor</span>'&gt;自定义颜色&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">a</span> <span class="title">href</span>='#<span class="title">baidustatistics</span>'&gt;百度统计与谷歌广告&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">a</span> <span class="title">href</span>='#<span class="title">gxbeian</span>'&gt;备案填写&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">a</span> <span class="title">href</span>='#<span class="title">NULL</span>' <span class="title">id</span>='<span class="title">point</span>'&gt;返回上次保存设置时的锚点&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">div</span>&gt;&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">form</span> <span class="title">class</span>="<span class="title">protected</span>" <span class="title">action</span>="?<span class="title">butterflybf</span>" <span class="title">method</span>="<span class="title">post</span>" <span class="title">id</span>="<span class="title">themeBackup</span>"&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">input</span> <span class="title">type</span>="<span class="title">submit</span>" <span class="title">name</span>="<span class="title">type</span>" <span class="title">class</span>="<span class="title">btn</span> <span class="title">btn</span>-<span class="title">s</span>" <span class="title">value</span>="备份主题数据" /&gt;&amp;<span class="title">nbsp</span>;&amp;<span class="title">nbsp</span>;&lt;<span class="title">input</span> <span class="title">type</span>="<span class="title">submit</span>" <span class="title">name</span>="<span class="title">type</span>" <span class="title">class</span>="<span class="title">btn</span> <span class="title">btn</span>-<span class="title">s</span>" <span class="title">value</span>="还原主题数据" /&gt;&amp;<span class="title">nbsp</span>;&amp;<span class="title">nbsp</span>;&lt;<span class="title">input</span> <span class="title">type</span>="<span class="title">submit</span>" <span class="title">name</span>="<span class="title">type</span>" <span class="title">class</span>="<span class="title">btn</span> <span class="title">btn</span>-<span class="title">s</span>" <span class="title">value</span>="删除备份数据" /&gt;&lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">script</span> <span class="title">src</span>='<span class="title">https</span>://<span class="title">cdn</span>.<span class="title">staticfile</span>.<span class="title">org</span>/<span class="title">jquery</span>/1.10.2/<span class="title">jquery</span>.<span class="title">min</span>.<span class="title">js</span>'&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">script</span> <span class="title">src</span>="&lt;?<span class="title">php</span> <span class="title">Helper</span>::<span class="title">options</span>()-&gt;<span class="title">themeUrl</span>('<span class="title">js</span>/<span class="title">themecustom</span>.<span class="title">js</span>?<span class="title">v1</span>.5.3'); ?&gt;"&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">script</span> <span class="title">src</span>='<span class="title">https</span>://<span class="title">gcore</span>.<span class="title">jsdelivr</span>.<span class="title">net</span>/<span class="title">gh</span>/<span class="title">wehaox</span>/<span class="title">CDN</span>@<span class="title">main</span>/<span class="title">postdomai</span>.<span class="title">js</span>'&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">    $<span class="title">sticky_cids</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">sticky_cids</span>', <span class="title">NULL</span>, <span class="title">NULL</span>,'置顶文章的 <span class="title">cid</span>', '&lt;<span class="title">div</span> <span class="title">style</span>="<span class="title">font</span>-<span class="title">family</span>:<span class="title">arial</span>; <span class="title">background</span>:#<span class="title">E8EFD1</span>; <span class="title">padding</span>:8<span class="title">px</span>"&gt;按照排序输入, 请以半角逗号或空格分隔 <span class="title">cid</span>&lt;/<span class="title">div</span>&gt;');</span></span><br><span class="line"><span class="class">    $<span class="title">sticky_cids</span>-&gt;<span class="title">setAttribute</span>('<span class="title">id</span>', '<span class="title">cids</span>');</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">sticky_cids</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">slide_cids</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">slide_cids</span>', <span class="title">NULL</span>, <span class="title">NULL</span>,'主页轮播图文章的 <span class="title">cid</span>', '填入自动开启，填入方式同上，&lt;<span class="title">b</span> <span class="title">style</span>="<span class="title">color</span>:<span class="title">red</span>"&gt;注意：填入错误<span class="title">cid</span>会导致页面出错&lt;/<span class="title">b</span>&gt;');</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">slide_cids</span>);    </span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">StaticFile</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">StaticFile</span>',</span></span><br><span class="line"><span class="class">        <span class="title">array</span>(</span></span><br><span class="line"><span class="class">            '<span class="title">CDN</span>' =&gt; '<span class="title">CDN</span>加载(默认)',</span></span><br><span class="line"><span class="class">            '<span class="title">local</span>' =&gt; '本地加载',</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">CDN</span>',</span></span><br><span class="line"><span class="class">        '博客静态资源加载方式',</span></span><br><span class="line"><span class="class">        '介绍：无网络服务器或者<span class="title">CDN</span>炸了可开启此项&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">         将博客静态资源，如<span class="title">js</span>、<span class="title">css</span>、图片从服务器加载(会稍微增加服务器流量消耗)&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">         注意：你需要额外&lt;<span class="title">a</span> <span class="title">href</span>="<span class="title">https</span>://<span class="title">github</span>.<span class="title">com</span>/<span class="title">wehaox</span>/<span class="title">Typecho</span>-<span class="title">Butterfly</span>/<span class="title">releases</span>"&gt;下载&lt;/<span class="title">a</span>&gt;对应版本的静态资源放进主题根目录直接解压即可&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">         此文件与下方的自定义<span class="title">CDN</span>文件通用'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">StaticFile</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">CDNURL</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">CDNURL</span>',<span class="title">NULL</span>,<span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">    '自定义<span class="title">CDNURL</span>(由@<span class="title">origami</span>-<span class="title">tech</span>提供)',</span></span><br><span class="line"><span class="class">    '需要选择博客静态资源加载方式为<span class="title">CDN</span>加载 此项才会生效 且&lt;<span class="title">b</span>&gt;本地加载&gt;自定义<span class="title">CDNURL</span>&gt;<span class="title">jsdelivr</span>源&lt;/<span class="title">b</span>&gt;&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">    注意：你需要额外&lt;<span class="title">a</span> <span class="title">href</span>="<span class="title">https</span>://<span class="title">github</span>.<span class="title">com</span>/<span class="title">wehaox</span>/<span class="title">Typecho</span>-<span class="title">Butterfly</span>/<span class="title">releases</span>"&gt;下载&lt;/<span class="title">a</span>&gt;静态资源放<span class="title">CDN</span>解压&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">    链接填写规则：填写<span class="title">static</span>文件夹的父文件夹 无需最后的/ 例如 <span class="title">https</span>://<span class="title">pub</span>-<span class="title">gcdn</span>.<span class="title">starsdust</span>.<span class="title">cn</span>/<span class="title">libs</span>/<span class="title">butterfly</span> '</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">CDNURL</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">jsdelivrLink</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">jsdelivrLink</span>',</span></span><br><span class="line"><span class="class">        <span class="title">array</span>(</span></span><br><span class="line"><span class="class">            '<span class="title">cdn</span>.<span class="title">jsdelivr</span>.<span class="title">net</span>' =&gt; '官方默认源',</span></span><br><span class="line"><span class="class">            '<span class="title">gcore</span>.<span class="title">jsdelivr</span>.<span class="title">net</span>' =&gt; '<span class="title">gcore</span>源',</span></span><br><span class="line"><span class="class">            '<span class="title">fastly</span>.<span class="title">jsdelivr</span>.<span class="title">net</span>' =&gt; '<span class="title">fastly</span>源',</span></span><br><span class="line"><span class="class">            '<span class="title">raw</span>.<span class="title">fastgit</span>.<span class="title">org</span>' =&gt; '<span class="title">fastgit</span>源',</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">gcore</span>.<span class="title">jsdelivr</span>.<span class="title">net</span>',</span></span><br><span class="line"><span class="class">        '<span class="title">jsdelivr</span>提供的<span class="title">cdn</span>源切换(默认采用<span class="title">gcore</span>源)',</span></span><br><span class="line"><span class="class">        '需要开启上方的<span class="title">CDN</span>加载'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">jsdelivrLink</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">NewTabLink</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">NewTabLink</span>',</span></span><br><span class="line"><span class="class">        <span class="title">array</span>(</span></span><br><span class="line"><span class="class">            '<span class="title">on</span>' =&gt; '开启（默认）',</span></span><br><span class="line"><span class="class">            '<span class="title">off</span>' =&gt; '关闭',</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">on</span>',</span></span><br><span class="line"><span class="class">        '是否开启新标签打开外部链接',</span></span><br><span class="line"><span class="class">        '介绍：非站内链接在新标签打开'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">NewTabLink</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">showFramework</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">showFramework</span>',</span></span><br><span class="line"><span class="class">        <span class="title">array</span>(</span></span><br><span class="line"><span class="class">            '<span class="title">on</span>' =&gt; '开启（默认）',</span></span><br><span class="line"><span class="class">            '<span class="title">off</span>' =&gt; '关闭',</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">on</span>',</span></span><br><span class="line"><span class="class">        '是否显示底部博客框架和主题',</span></span><br><span class="line"><span class="class">        '介绍：如果你是小白自行修改主题名会导致侵权提示，你可以在这里关闭同时希望你可以&lt;<span class="title">b</span>&gt;尊重本主题&lt;/<span class="title">b</span>&gt;'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">showFramework</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">Defend</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">Defend</span>',</span></span><br><span class="line"><span class="class">        <span class="title">array</span>('<span class="title">off</span>' =&gt; '关闭（默认）', '<span class="title">on</span>' =&gt; '开启'),</span></span><br><span class="line"><span class="class">        '<span class="title">off</span>',</span></span><br><span class="line"><span class="class">        '是否开启网站维护或密码访问',</span></span><br><span class="line"><span class="class">        '介绍： 下方密码留空则显示网站维护否则显示输入密码访问，登录用户不受限制'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">Defend</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">ThemePassword</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">ThemePassword</span>', <span class="title">NULL</span>,<span class="title">NULL</span>, <span class="title">_t</span>('全站密码访问(非必填)'), <span class="title">_t</span>('输入访问网站的密码，&lt;<span class="title">b</span>&gt;需要在上方开启网站维护或密码访问&lt;/<span class="title">b</span>&gt;'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">ThemePassword</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">     $<span class="title">NoQQ</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">NoQQ</span>',</span></span><br><span class="line"><span class="class">        <span class="title">array</span>('<span class="title">off</span>' =&gt; '关闭（默认）', '<span class="title">on</span>' =&gt; '开启'),</span></span><br><span class="line"><span class="class">        '<span class="title">off</span>',</span></span><br><span class="line"><span class="class">        '是否开启网站禁止手机<span class="title">QQ</span>访问',</span></span><br><span class="line"><span class="class">        '介绍：烦人的<span class="title">QQ</span>'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">NoQQ</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">SiteLogo</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">SiteLogo</span>', <span class="title">NULL</span>, <span class="title">NULL</span>, <span class="title">_t</span>('站点名称设置为图片<span class="title">logo</span>(非必填)'), <span class="title">_t</span>('当设置此项时站点名称将不会在导航栏左上角显示,使用<span class="title">png</span>格式'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">SiteLogo</span>);    </span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">Sitefavicon</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">Sitefavicon</span>', <span class="title">NULL</span>, <span class="title">NULL</span>, <span class="title">_t</span>('网站图标'), <span class="title">_t</span>('网站图标，使用<span class="title">png</span>格式，大小建议不超过64<span class="title">x64</span>'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">Sitefavicon</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">logoUrl</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">logoUrl</span>', <span class="title">NULL</span>,<span class="title">_t</span>('#<span class="title">null</span>'), <span class="title">_t</span>('作者头像'), <span class="title">_t</span>('在这里填入图片地址，它会显示在右侧栏的作者头像'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">logoUrl</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">author_description</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">author_description</span>', <span class="title">NULL</span>, <span class="title">_t</span>('作者描述'), <span class="title">_t</span>('作者描述'), <span class="title">_t</span>('在这里填入站点描述，它会显示在右侧栏的作者信息'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">author_description</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">author_site_description</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">author_site_description</span>', <span class="title">NULL</span>,<span class="title">_t</span>('个人网站'), <span class="title">_t</span>('作者链接描述'), <span class="title">_t</span>('作者链接描述'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">author_site_description</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">author_site</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">author_site</span>', <span class="title">NULL</span>, <span class="title">_t</span>('#<span class="title">null</span>'), <span class="title">_t</span>('作者链接'), <span class="title">_t</span>('在这里填入作者链接，它会显示在右侧栏的作者信息的个人网站上'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">author_site</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">author_bottom</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Textarea</span>('<span class="title">author_bottom</span>', <span class="title">NULL</span>, <span class="title">_t</span>(''), <span class="title">_t</span>('侧栏作者信息最底部内容（非必填）'), <span class="title">_t</span>('这里填入<span class="title">html</span>代码,不会勿填'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">author_bottom</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">announcement</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Textarea</span>('<span class="title">announcement</span>', <span class="title">NULL</span>, <span class="title">_t</span>('这里是公告&lt;<span class="title">br</span>&gt;'), <span class="title">_t</span>('公告'), <span class="title">_t</span>('在这里填入公告，它会显示在右侧栏的公告上,采用<span class="title">html</span>写法'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">announcement</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">AD</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Textarea</span>('<span class="title">AD</span>', <span class="title">NULL</span>, <span class="title">NULL</span>, <span class="title">_t</span>('广告(由@<span class="title">yzl3014</span>提供)'), <span class="title">_t</span>('在这里填入广告，填入后自动显示在侧栏中公告栏的下方，支持<span class="title">html</span>'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">AD</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">headerimg</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">headerimg</span>', <span class="title">NULL</span>,<span class="title">_t</span>('<span class="title">https</span>://<span class="title">s2</span>.<span class="title">loli</span>.<span class="title">net</span>/2023/01/18/<span class="title">bIJTVaR3MLPzcZ7</span>.<span class="title">jpg</span>'), <span class="title">_t</span>('主页顶图(<span class="title">banner</span> <span class="title">image</span>)'), <span class="title">_t</span>('填入主页头图链接'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">headerimg</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">buildtime</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">buildtime</span>', <span class="title">NULL</span>,<span class="title">_t</span>('2021/04/05'), <span class="title">_t</span>('建站时间'), <span class="title">_t</span>('按照输入框内格式填写'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">buildtime</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">outoftime</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">outoftime</span>', <span class="title">NULL</span>,<span class="title">_t</span>('15'), <span class="title">_t</span>('文章过时提醒'), <span class="title">_t</span>('设置文章过时提醒最大天数，默认15天，可在文章管理单独设置是否显示过期提醒'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">outoftime</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">archivelink</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">archivelink</span>', <span class="title">NULL</span>,<span class="title">_t</span>('#<span class="title">null</span>'), <span class="title">_t</span>('侧栏文章(归档)链接'), <span class="title">_t</span>('需在独立页面创建并手动填入链接'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">archivelink</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">tagslink</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">tagslink</span>', <span class="title">NULL</span>,<span class="title">_t</span>('#<span class="title">null</span>'), <span class="title">_t</span>('侧栏标签链接'), <span class="title">_t</span>('需在独立页面创建并手动填入链接'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">tagslink</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">categorylink</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">categorylink</span>', <span class="title">NULL</span>,<span class="title">_t</span>('#<span class="title">null</span>'), <span class="title">_t</span>('侧栏分类链接'), <span class="title">_t</span>('需在独立页面创建并手动填入链接'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">categorylink</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">CloseComments</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">CloseComments</span>',</span></span><br><span class="line"><span class="class">    <span class="title">array</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">off</span>' =&gt; '关闭（默认）',</span></span><br><span class="line"><span class="class">        "<span class="title">on</span>" =&gt; '开启'</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">off</span>',</span></span><br><span class="line"><span class="class">        '全站关闭评论',</span></span><br><span class="line"><span class="class">        '介绍：开启后所有文章不能评论'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">CloseComments</span>-&gt;<span class="title">multiMode</span>());    </span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">EnableCommentsLogin</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">EnableCommentsLogin</span>',</span></span><br><span class="line"><span class="class">    <span class="title">array</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">off</span>' =&gt; '关闭（默认）',</span></span><br><span class="line"><span class="class">        "<span class="title">on</span>" =&gt; '开启'</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">off</span>',</span></span><br><span class="line"><span class="class">        '开启用户评论区登录',</span></span><br><span class="line"><span class="class">        '介绍：开启后在评论区会显示登录按钮</span></span><br><span class="line"><span class="class">        '</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">EnableCommentsLogin</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    $<span class="title">ShowRelatedPosts</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">ShowRelatedPosts</span>',</span></span><br><span class="line"><span class="class">        <span class="title">array</span>(</span></span><br><span class="line"><span class="class">            '<span class="title">off</span>' =&gt; '关闭（默认）',</span></span><br><span class="line"><span class="class">            '<span class="title">on</span>' =&gt; '开启',</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">off</span>',</span></span><br><span class="line"><span class="class">        '是否显示文章内相关推荐',</span></span><br><span class="line"><span class="class">        '介绍：开启后文章结束后会显示相关的推荐文章(根据文章标签推荐，不一定每篇文章都会显示)'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">ShowRelatedPosts</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">RelatedPostsNum</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">RelatedPostsNum</span>',</span></span><br><span class="line"><span class="class">        <span class="title">array</span>(</span></span><br><span class="line"><span class="class">            '3' =&gt; '3篇（默认）',</span></span><br><span class="line"><span class="class">            '6' =&gt; '6篇',</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '3',</span></span><br><span class="line"><span class="class">        '相关推荐显示数量',</span></span><br><span class="line"><span class="class">        '介绍：最多显示3篇或者6篇相关推荐文章'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">RelatedPostsNum</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">DefaultEncoding</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">DefaultEncoding</span>',</span></span><br><span class="line"><span class="class">        <span class="title">array</span>(</span></span><br><span class="line"><span class="class">            '2' =&gt; '简体（默认）',</span></span><br><span class="line"><span class="class">            '1' =&gt; '繁体',</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '2',</span></span><br><span class="line"><span class="class">        '博客默认字体',</span></span><br><span class="line"><span class="class">        '介绍：如果你使用繁体写文章请选择繁体'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">DefaultEncoding</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">GravatarSelect</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">GravatarSelect</span>',</span></span><br><span class="line"><span class="class">    <span class="title">array</span>(</span></span><br><span class="line"><span class="class">        "<span class="title">https</span>://<span class="title">gravatar</span>.<span class="title">loli</span>.<span class="title">net</span>/<span class="title">avatar</span>/" =&gt; '<span class="title">loli</span>（默认）',</span></span><br><span class="line"><span class="class">        '<span class="title">https</span>://<span class="title">gravatar</span>.<span class="title">helingqi</span>.<span class="title">com</span>/<span class="title">wavatar</span>/' =&gt; '禾令奇',</span></span><br><span class="line"><span class="class">        "<span class="title">https</span>://<span class="title">sdn</span>.<span class="title">geekzu</span>.<span class="title">org</span>/<span class="title">avatar</span>/" =&gt; '极客族',</span></span><br><span class="line"><span class="class">        "<span class="title">https</span>://<span class="title">cdn</span>.<span class="title">sep</span>.<span class="title">cc</span>/<span class="title">avatar</span>/" =&gt; '九月的风',</span></span><br><span class="line"><span class="class">        "<span class="title">https</span>://<span class="title">gravatar</span>.<span class="title">com</span>/<span class="title">avatar</span>/" =&gt; '官方源(被墙)',</span></span><br><span class="line"><span class="class">        "<span class="title">https</span>://<span class="title">cravatar</span>.<span class="title">cn</span>/<span class="title">avatar</span>/" =&gt; '中国官方源(推荐)',</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">loli</span>',</span></span><br><span class="line"><span class="class">        '<span class="title">gravatar</span>源选择',</span></span><br><span class="line"><span class="class">        '介绍：评论区头像<span class="title">gravatar</span>源'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">GravatarSelect</span>-&gt;<span class="title">setAttribute</span>('<span class="title">id</span>', '<span class="title">gravatarlist</span>');</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">GravatarSelect</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">baidustatistics</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">baidustatistics</span>', <span class="title">NULL</span>,<span class="title">_t</span>(''), <span class="title">_t</span>('百度统计'), <span class="title">_t</span>('仅需要<span class="title">https</span>://<span class="title">hm</span>.<span class="title">baidu</span>.<span class="title">com</span>/<span class="title">hm</span>.<span class="title">js</span>?<span class="title">xxxxxxxxxxxxxxxxxx</span>部分即可'));</span></span><br><span class="line"><span class="class">    $<span class="title">baidustatistics</span>-&gt;<span class="title">setAttribute</span>('<span class="title">id</span>', '<span class="title">baidustatistics</span>');</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">baidustatistics</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">googleadsense</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">googleadsense</span>', <span class="title">NULL</span>,<span class="title">_t</span>(''), <span class="title">_t</span>('谷歌广告'), <span class="title">_t</span>('仅需要<span class="title">https</span>://<span class="title">pagead2</span>.<span class="title">googlesyndication</span>.<span class="title">com</span>/<span class="title">pagead</span>/<span class="title">js</span>/<span class="title">adsbygoogle</span>.<span class="title">js</span>?<span class="title">xxxxxxxxx</span>部分即可'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">googleadsense</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">gxbeian</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">gxbeian</span>', <span class="title">NULL</span>,<span class="title">_t</span>(''), <span class="title">_t</span>('工信部备案'), <span class="title">_t</span>('仅填写备案号即可,除广东省地区其他地区必须带-(数字),如果还不懂请点击&lt;<span class="title">a</span> <span class="title">href</span>="<span class="title">https</span>://<span class="title">help</span>.<span class="title">aliyun</span>.<span class="title">com</span>/<span class="title">document_detail</span>/137270.<span class="title">htm</span>"&gt;这里&lt;/<span class="title">a</span>&gt;'));</span></span><br><span class="line"><span class="class">    $<span class="title">gxbeian</span>-&gt;<span class="title">setAttribute</span>('<span class="title">id</span>', '<span class="title">gxbeian</span>');</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">gxbeian</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">gabeian</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">gabeian</span>', <span class="title">NULL</span>,<span class="title">_t</span>(''), <span class="title">_t</span>('公安备案'), <span class="title">_t</span>('仅填写备案号即可不懂请点击&lt;<span class="title">a</span> <span class="title">href</span>="<span class="title">http</span>://<span class="title">wap</span>.<span class="title">qianfanyun</span>.<span class="title">com</span>/<span class="title">help</span>/1397"&gt;这里&lt;/<span class="title">a</span>&gt;'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">gabeian</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">moebeian</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">moebeian</span>', <span class="title">NULL</span>,<span class="title">_t</span>(''), <span class="title">_t</span>('萌国备案'), <span class="title">_t</span>('娱乐使用，申请点击&lt;<span class="title">a</span> <span class="title">href</span>="<span class="title">https</span>://<span class="title">icp</span>.<span class="title">gov</span>.<span class="title">moe</span>/"&gt;这里&lt;/<span class="title">a</span>&gt;'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">moebeian</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">EnablePjax</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">EnablePjax</span>',</span></span><br><span class="line"><span class="class">    <span class="title">array</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">off</span>' =&gt; '关闭（默认）',</span></span><br><span class="line"><span class="class">        "<span class="title">on</span>" =&gt; '开启'</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">off</span>',</span></span><br><span class="line"><span class="class">        '开启<span class="title">PJAX</span>',</span></span><br><span class="line"><span class="class">        '介绍：页面无刷新加载,有效提高页面加载速度&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">         请先查看&lt;<span class="title">a</span> <span class="title">href</span>="<span class="title">https</span>://<span class="title">blog</span>.<span class="title">wehaox</span>.<span class="title">com</span>/<span class="title">archives</span>/<span class="title">typecho</span>-<span class="title">butterfly</span>.<span class="title">html</span>#<span class="title">cl</span>-13"&gt;使用文档&lt;/<span class="title">a</span>&gt;'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">EnablePjax</span>-&gt;<span class="title">setAttribute</span>('<span class="title">id</span>', '<span class="title">pjax</span>');    </span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">EnablePjax</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">PjaxCallBack</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Textarea</span>('<span class="title">PjaxCallBack</span>',<span class="title">NULL</span>,<span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        '<span class="title">Pjax</span>回调函数（非必填）',</span></span><br><span class="line"><span class="class">        '用于解决开启<span class="title">pjax</span>导致<span class="title">js</span>丢失问题'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">PjaxCallBack</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    /* 友链设置 */</span></span><br><span class="line"><span class="class">    $<span class="title">friendset</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">friendset</span>',</span></span><br><span class="line"><span class="class">        <span class="title">array</span>(</span></span><br><span class="line"><span class="class">            '1' =&gt; '插件模式',</span></span><br><span class="line"><span class="class">            '2' =&gt; '主题模式',</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '2',</span></span><br><span class="line"><span class="class">        '是否使用<span class="title">Link</span>插件进行友链(需点击&lt;<span class="title">a</span> <span class="title">href</span>="<span class="title">https</span>://<span class="title">github</span>.<span class="title">com</span>/<span class="title">JoyNop</span>/<span class="title">Typecho</span>-<span class="title">Links</span>"&gt;这里&lt;/<span class="title">a</span>&gt;下载)',</span></span><br><span class="line"><span class="class">        '介绍：新手和手残党极其友好,默认从主题读取防止报错'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">friendset</span>-&gt;<span class="title">setAttribute</span>('<span class="title">id</span>', '<span class="title">friendset</span>');</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">friendset</span>);</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    $<span class="title">Friends</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Textarea</span>('<span class="title">Friends</span>',<span class="title">NULL</span>,<span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        '友情链接（非必填）',</span></span><br><span class="line"><span class="class">        '介绍：用于填写友情链接 &lt;<span class="title">br</span> /&gt;</span></span><br><span class="line"><span class="class">         注意：需在独立页面创建友链，该项才会生效 &lt;<span class="title">br</span> /&gt;</span></span><br><span class="line"><span class="class">         格式：博客名称 || 博客地址 || 博客头像 || 博客简介 &lt;<span class="title">br</span> /&gt;</span></span><br><span class="line"><span class="class">         其他：一行一个，一行代表一个友链'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">Friends</span>-&gt;<span class="title">setAttribute</span>('<span class="title">id</span>', '<span class="title">friends</span>');</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">Friends</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">LazyLoad</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">LazyLoad</span>',</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        '全局懒加载图（非必填）',</span></span><br><span class="line"><span class="class">        '介绍：用于修改懒加载图片 格式：<span class="title">base64</span> 或者 图片<span class="title">url</span>'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">LazyLoad</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    $<span class="title">ShowGlobalReward</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">ShowGlobalReward</span>',</span></span><br><span class="line"><span class="class">        <span class="title">array</span>(</span></span><br><span class="line"><span class="class">            '<span class="title">off</span>' =&gt; '关闭（默认）',</span></span><br><span class="line"><span class="class">            '<span class="title">show</span>' =&gt; '开启打赏',</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">off</span>',</span></span><br><span class="line"><span class="class">        '是否开启全局文章打赏',</span></span><br><span class="line"><span class="class">        '介绍：开启此功能所有文章将显示打赏'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">ShowGlobalReward</span>-&gt;<span class="title">setAttribute</span>('<span class="title">id</span>', '<span class="title">reward</span>');</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">ShowGlobalReward</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    /* 打赏设置 */</span></span><br><span class="line"><span class="class">    $<span class="title">RewardInfo</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Textarea</span>('<span class="title">RewardInfo</span>',<span class="title">NULL</span>,<span class="title">_t</span>('微信 || <span class="title">https</span>://<span class="title">cdn</span>.<span class="title">jsdelivr</span>.<span class="title">net</span>/<span class="title">gh</span>/<span class="title">wehaox</span>/<span class="title">CDN</span>@<span class="title">main</span>/<span class="title">reward</span>/<span class="title">wechat</span>.<span class="title">jpg</span></span></span><br><span class="line"><span class="class">支付宝 || <span class="title">https</span>://<span class="title">cdn</span>.<span class="title">jsdelivr</span>.<span class="title">net</span>/<span class="title">gh</span>/<span class="title">wehaox</span>/<span class="title">CDN</span>@<span class="title">main</span>/<span class="title">reward</span>/<span class="title">alipay</span>.<span class="title">jpg</span>'),</span></span><br><span class="line"><span class="class">        '打赏信息（非必填）',</span></span><br><span class="line"><span class="class">        '注意：需在开启打赏功能，该项才会显示 &lt;<span class="title">br</span> /&gt;</span></span><br><span class="line"><span class="class">         格式：打赏名称 || 图片地址 &lt;<span class="title">br</span> /&gt;一行一个'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">RewardInfo</span>);</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    $<span class="title">sidebarBlock</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Checkbox</span>('<span class="title">sidebarBlock</span>', </span></span><br><span class="line"><span class="class">    <span class="title">array</span>(</span></span><br><span class="line"><span class="class">    '<span class="title">ShowAuthorInfo</span>' =&gt; <span class="title">_t</span>('显示作者信息'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowAnnounce</span>' =&gt; <span class="title">_t</span>('显示公告'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowRecentPosts</span>' =&gt; <span class="title">_t</span>('显示最新文章'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowRecentComments</span>' =&gt; <span class="title">_t</span>('显示最近回复'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowCategory</span>' =&gt; <span class="title">_t</span>('显示分类'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowTag</span>' =&gt; <span class="title">_t</span>('显示标签'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowArchive</span>' =&gt; <span class="title">_t</span>('显示归档'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowWebinfo</span>' =&gt; <span class="title">_t</span>('显示网站资讯'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowOther</span>' =&gt; <span class="title">_t</span>('显示其它杂项'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowMobileSide</span>' =&gt; <span class="title">_t</span>('手机端显示侧栏'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowWeiboHot</span>' =&gt; <span class="title">_t</span>('显示微博热搜')</span></span><br><span class="line"><span class="class">    ),</span></span><br><span class="line"><span class="class">    <span class="title">array</span>('<span class="title">ShowAuthorInfo</span>','<span class="title">ShowAnnounce</span>','<span class="title">ShowRecentPosts</span>', '<span class="title">ShowRecentComments</span>', '<span class="title">ShowCategory</span>','<span class="title">ShowTag</span>', '<span class="title">ShowArchive</span>', '<span class="title">ShowWebinfo</span>', '<span class="title">ShowOther</span>','<span class="title">ShowMobileSide</span>'), <span class="title">_t</span>('侧边栏显示'));</span></span><br><span class="line"><span class="class">    $<span class="title">sidebarBlock</span>-&gt;<span class="title">setAttribute</span>('<span class="title">id</span>', '<span class="title">aside</span>');</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">sidebarBlock</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    // 在线人数显示</span></span><br><span class="line"><span class="class">    $<span class="title">ShowOnlinePeople</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">ShowOnlinePeople</span>',</span></span><br><span class="line"><span class="class">        <span class="title">array</span>(</span></span><br><span class="line"><span class="class">            '<span class="title">on</span>' =&gt; '开启',</span></span><br><span class="line"><span class="class">            '<span class="title">off</span>' =&gt; '关闭（默认）',</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">off</span>',</span></span><br><span class="line"><span class="class">        '是否显示在线人数',</span></span><br><span class="line"><span class="class">        '介绍：侧栏网站咨询模块在线人数统计,防止某些虚拟主机无法开启导致500错误'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">ShowOnlinePeople</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">sidderArchiveNum</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">sidderArchiveNum</span>', <span class="title">NULL</span>, <span class="title">_t</span>('5'),  <span class="title">_t</span>('侧栏归档显示行数'),<span class="title">_t</span>('默认为5'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">sidderArchiveNum</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    // 文章侧边栏设置</span></span><br><span class="line"><span class="class">    $<span class="title">PostSidebarBlock</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Checkbox</span>('<span class="title">PostSidebarBlock</span>', </span></span><br><span class="line"><span class="class">    <span class="title">array</span>(</span></span><br><span class="line"><span class="class">    '<span class="title">ShowAuthorInfo</span>' =&gt; <span class="title">_t</span>('显示作者信息'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowAnnounce</span>' =&gt; <span class="title">_t</span>('显示公告'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowRecentPosts</span>' =&gt; <span class="title">_t</span>('显示最新文章'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowWebinfo</span>' =&gt; <span class="title">_t</span>('显示网站咨询'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowOther</span>' =&gt; <span class="title">_t</span>('显示其它杂项'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowWeiboHot</span>' =&gt; <span class="title">_t</span>('显示微博热搜')</span></span><br><span class="line"><span class="class">    ),</span></span><br><span class="line"><span class="class">    <span class="title">array</span>('<span class="title">ShowAuthorInfo</span>','<span class="title">ShowAnnounce</span>','<span class="title">ShowRecentPosts</span>', '<span class="title">ShowWebinfo</span>', '<span class="title">ShowOther</span>'), <span class="title">_t</span>('文章侧边栏显示'),<span class="title">_t</span>('说明:单独设置文章内侧栏'));</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">PostSidebarBlock</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">// 美化选项</span></span><br><span class="line"><span class="class">    $<span class="title">beautifyBlock</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Checkbox</span>('<span class="title">beautifyBlock</span>', </span></span><br><span class="line"><span class="class">    <span class="title">array</span>(</span></span><br><span class="line"><span class="class">    '<span class="title">ShowBeautifyChange</span>' =&gt; <span class="title">_t</span>('是否开启美化(基于<span class="title">butterfly</span>小康的魔改)'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowColorTags</span>' =&gt; <span class="title">_t</span>('是否开启彩色标签云'),</span></span><br><span class="line"><span class="class">    '<span class="title">ShowTopimg</span>' =&gt; <span class="title">_t</span>('是否显示主页顶图'),</span></span><br><span class="line"><span class="class">    '<span class="title">PostShowTopimg</span>' =&gt; <span class="title">_t</span>('是否显示文章示顶图'),</span></span><br><span class="line"><span class="class">    '<span class="title">PageShowTopimg</span>' =&gt; <span class="title">_t</span>('是否显示独立页面顶图'),</span></span><br><span class="line"><span class="class">    '<span class="title">showLineNumber</span>' =&gt; <span class="title">_t</span>('是否显示代码块行号'),</span></span><br><span class="line"><span class="class">    '<span class="title">showSnackbar</span>' =&gt; <span class="title">_t</span>('是否显示主题以及简繁切换弹窗'),</span></span><br><span class="line"><span class="class">    '<span class="title">showLazyloadBlur</span>' =&gt; <span class="title">_t</span>('是否开启懒加载模糊效果'),</span></span><br><span class="line"><span class="class">    '<span class="title">showButterflyClock</span>' =&gt; <span class="title">_t</span>('是否开启侧栏显示时钟(需要在下方填写和风和高德<span class="title">key</span>)'),</span></span><br><span class="line"><span class="class">    ),</span></span><br><span class="line"><span class="class">    <span class="title">array</span>('<span class="title">ShowTopimg</span>','<span class="title">PostShowTopimg</span>','<span class="title">PageShowTopimg</span>','<span class="title">showLineNumber</span>','<span class="title">showSnackbar</span>','<span class="title">showLazyloadBlur</span>'), <span class="title">_t</span>('美化选项'));</span></span><br><span class="line"><span class="class">    $<span class="title">beautifyBlock</span>-&gt;<span class="title">setAttribute</span>('<span class="title">id</span>', '<span class="title">beautifyBlock</span>');</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">beautifyBlock</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    // 封面位置</span></span><br><span class="line"><span class="class">    $<span class="title">coverPosition</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">coverPosition</span>',</span></span><br><span class="line"><span class="class">        <span class="title">array</span>(</span></span><br><span class="line"><span class="class">            '<span class="title">left</span>' =&gt; '靠左',</span></span><br><span class="line"><span class="class">            '<span class="title">cross</span>' =&gt; '交叉(默认)',</span></span><br><span class="line"><span class="class">            '<span class="title">right</span>' =&gt; '靠右',</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">cross</span>',</span></span><br><span class="line"><span class="class">        '主页文章列表封面显示位置',</span></span><br><span class="line"><span class="class">        '个人还是还是觉得交叉好看'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">coverPosition</span>-&gt;<span class="title">multiMode</span>());    </span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">qweather_key</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">qweather_key</span>', <span class="title">NULL</span>, <span class="title">null</span>,  <span class="title">_t</span>('时钟和风天气<span class="title">key</span>'),<span class="title">_t</span>('&lt;<span class="title">a</span> <span class="title">href</span>="<span class="title">https</span>://<span class="title">github</span>.<span class="title">com</span>/<span class="title">anzhiyu</span>-<span class="title">c</span>/<span class="title">hexo</span>-<span class="title">butterfly</span>-<span class="title">clock</span>-<span class="title">anzhiyu</span>/#安装"&gt;按照教程获取<span class="title">key</span>&lt;/<span class="title">a</span>&gt;'));</span></span><br><span class="line"><span class="class">    $<span class="title">gaud_map_key</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">gaud_map_key</span>', <span class="title">NULL</span>, <span class="title">null</span>,  <span class="title">_t</span>('时钟高得地图<span class="title">web</span>服务<span class="title">key</span>'), <span class="title">_t</span>('侧栏显示时钟用到的<span class="title">key</span>，同上'));</span></span><br><span class="line"><span class="class">$<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">qweather_key</span>);</span></span><br><span class="line"><span class="class">$<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">gaud_map_key</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">ShowLive2D</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">ShowLive2D</span>',</span></span><br><span class="line"><span class="class">    <span class="title">array</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">off</span>' =&gt; '关闭（默认）',</span></span><br><span class="line"><span class="class">        "<span class="title">on</span>" =&gt; '开启（<span class="title">GitHub</span>默认）'</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">off</span>',</span></span><br><span class="line"><span class="class">        '开启<span class="title">Live2D</span>人物模型（仅通过<span class="title">GitHub</span>默认样式且不会在手机显示）',</span></span><br><span class="line"><span class="class">        '介绍：开启后会在右下角显示一个小人，该功能采用远程调用不会消耗性能'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">ShowLive2D</span>-&gt;<span class="title">setAttribute</span>('<span class="title">id</span>', '<span class="title">ShowLive2D</span>');</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">ShowLive2D</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    // 弹窗提示</span></span><br><span class="line"><span class="class">    $<span class="title">SnackbarPosition</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">SnackbarPosition</span>',</span></span><br><span class="line"><span class="class">        <span class="title">array</span>(</span></span><br><span class="line"><span class="class">            '<span class="title">top</span>-<span class="title">left</span>' =&gt; '左上(默认)',</span></span><br><span class="line"><span class="class">            '<span class="title">top</span>-<span class="title">center</span>' =&gt; '上中',</span></span><br><span class="line"><span class="class">            '<span class="title">top</span>-<span class="title">right</span>' =&gt; '右上',</span></span><br><span class="line"><span class="class">            '<span class="title">bottom</span>-<span class="title">left</span>' =&gt; '左下',</span></span><br><span class="line"><span class="class">            '<span class="title">bottom</span>-<span class="title">center</span>' =&gt; '下中',</span></span><br><span class="line"><span class="class">            '<span class="title">bottom</span>-<span class="title">right</span>' =&gt; '右下',</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">top</span>-<span class="title">left</span>',</span></span><br><span class="line"><span class="class">        '主题以及简繁切换弹窗位置',</span></span><br><span class="line"><span class="class">        '选择其中一个,需要开启是否显示主题以及简繁切换弹窗 '</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">SnackbarPosition</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    $<span class="title">CursorEffects</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">CursorEffects</span>',</span></span><br><span class="line"><span class="class">        <span class="title">array</span>(</span></span><br><span class="line"><span class="class">            '<span class="title">off</span>' =&gt; '关闭（默认）',</span></span><br><span class="line"><span class="class">            '<span class="title">heart</span>' =&gt; '鼠标点击效果:爱心',</span></span><br><span class="line"><span class="class">            '<span class="title">fireworks</span>' =&gt; '烟火效果',</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">off</span>',</span></span><br><span class="line"><span class="class">        '选择鼠标点击特效',</span></span><br><span class="line"><span class="class">        '介绍：用于切换鼠标点击特效 '</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">CursorEffects</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">     // 自定义<span class="title">subtitle</span></span></span><br><span class="line"><span class="class">    $<span class="title">CustomSubtitle</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">CustomSubtitle</span>',</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        '自定义主页副标题/<span class="title">subtitle</span>（非必填）',</span></span><br><span class="line"><span class="class">        '介绍：不填则使用默认的一言<span class="title">api</span>。'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">CustomSubtitle</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">SubtitleLoop</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">SubtitleLoop</span>',</span></span><br><span class="line"><span class="class">    <span class="title">array</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">true</span>' =&gt; '开启循环打字（默认）',</span></span><br><span class="line"><span class="class">        "<span class="title">false</span>" =&gt; '关闭循环打字'</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">true</span>',</span></span><br><span class="line"><span class="class">        '副标题循环打字',</span></span><br><span class="line"><span class="class">        '介绍：开启后主页副标题循环打字'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">SubtitleLoop</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">EnableAutoHeaderLink</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">EnableAutoHeaderLink</span>',</span></span><br><span class="line"><span class="class">    <span class="title">array</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">on</span>' =&gt; '开启（默认）',</span></span><br><span class="line"><span class="class">        "<span class="title">off</span>" =&gt; '关闭'</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">on</span>',</span></span><br><span class="line"><span class="class">        '自动生成导航栏独立页面链接',</span></span><br><span class="line"><span class="class">        '介绍：如果你要自定义导航栏链接部分,你可以选择关闭此项'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">EnableAutoHeaderLink</span>-&gt;<span class="title">multiMode</span>());    </span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">     // 自定义导航栏链接</span></span><br><span class="line"><span class="class">    $<span class="title">CustomHeaderLink</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Textarea</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">CustomHeaderLink</span>',</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        '自定义导航栏链接',</span></span><br><span class="line"><span class="class">        '介绍：目前使用<span class="title">html</span>写法 &lt;<span class="title">b</span> <span class="title">style</span>="<span class="title">color</span>:<span class="title">red</span>"&gt;完全自定义链接记得关闭上方选项&lt;/<span class="title">b</span>&gt;'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">CustomHeaderLink</span>-&gt;<span class="title">setAttribute</span>('<span class="title">id</span>', '<span class="title">otherCustom</span>');</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">CustomHeaderLink</span>);        </span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    // 自定义认证用户</span></span><br><span class="line"><span class="class">    $<span class="title">CustomAuthenticated</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Textarea</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">CustomAuthenticated</span>',</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        '自定义认证用户',</span></span><br><span class="line"><span class="class">        '介绍：评论区认证用户专属头衔&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">         格式：邮箱||认证头衔 如:&lt;<span class="title">br</span>&gt; <span class="title">xxx</span>@<span class="title">xxx</span>.<span class="title">com</span>||<span class="title">xxx</span>认证&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">        (一行一个)'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">CustomAuthenticated</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">     // 自定义<span class="title">css</span>和<span class="title">js</span></span></span><br><span class="line"><span class="class">    $<span class="title">CustomCSS</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Textarea</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">CustomCSS</span>',</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        '自定义<span class="title">CSS</span>样式（非必填）',</span></span><br><span class="line"><span class="class">        '介绍：请填写自定义<span class="title">CSS</span>内容，填写时无需填写<span class="title">style</span>标签。'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">CustomCSS</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">CustomScript</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Textarea</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">CustomScript</span>',</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        '自定义<span class="title">JS</span>代码（非必填，请看下方介绍）',</span></span><br><span class="line"><span class="class">        '介绍：请填写自定义<span class="title">JS</span>内容，填写时无需填写<span class="title">script</span>标签。&lt;<span class="title">br</span> /&gt;</span></span><br><span class="line"><span class="class">         非专业人士请勿填写！'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">CustomScript</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">CustomHead</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Textarea</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">CustomHead</span>',</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        '自定义<span class="title">head</span>标签内位置内容',</span></span><br><span class="line"><span class="class">        '介绍：填写如<span class="title">cdn</span>的&amp;<span class="title">lt</span>;<span class="title">link</span>&amp;<span class="title">gt</span>;标签、百度统计代码等等'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">CustomHead</span>);</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    $<span class="title">CustomBodyEnd</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Textarea</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">CustomBodyEnd</span>',</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        '自定义<span class="title">body</span>标签末尾位置内容',</span></span><br><span class="line"><span class="class">        '介绍：填写如<span class="title">cdn</span>的&amp;<span class="title">lt</span>;<span class="title">script</span>&amp;<span class="title">gt</span>;&amp;<span class="title">lt</span>;/<span class="title">script</span>&amp;<span class="title">gt</span>;标签等等'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">CustomBodyEnd</span>);</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    $<span class="title">Customfooter</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Textarea</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">Customfooter</span>',</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        '自定义<span class="title">Footer</span>内容',</span></span><br><span class="line"><span class="class">        '介绍：网页底部的信息，如备案号等等(可使用<span class="title">html</span>)'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">Customfooter</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    //自定义颜色    </span></span><br><span class="line"><span class="class">    $<span class="title">EnableCustomColor</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Select</span>('<span class="title">EnableCustomColor</span>',</span></span><br><span class="line"><span class="class">    <span class="title">array</span>(</span></span><br><span class="line"><span class="class">        "<span class="title">false</span>" =&gt; '关闭（默认）',</span></span><br><span class="line"><span class="class">        '<span class="title">true</span>' =&gt; '开启'</span></span><br><span class="line"><span class="class">        ),</span></span><br><span class="line"><span class="class">        '<span class="title">false</span>',</span></span><br><span class="line"><span class="class">        '开启主题自定义颜色(实验性功能)',</span></span><br><span class="line"><span class="class">        '介绍：需要开启此选项下面的自定义颜色才能生效，且下面关于颜色的必填'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">EnableCustomColor</span>-&gt;<span class="title">setAttribute</span>('<span class="title">id</span>', '<span class="title">CustomColor</span>');    </span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">EnableCustomColor</span>-&gt;<span class="title">multiMode</span>());</span></span><br><span class="line"><span class="class"> </span></span><br><span class="line"><span class="class">    $<span class="title">CustomColorMain</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">CustomColorMain</span>',</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        <span class="title">_t</span>('#49<span class="title">b1f5</span>'),</span></span><br><span class="line"><span class="class">        '自定主题主要颜色',</span></span><br><span class="line"><span class="class">        '介绍：使用<span class="title">hex</span>格式或者颜色英文，如#<span class="title">fff</span>、<span class="title">white</span>'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">CustomColorMain</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">CustomColorButtonBG</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">CustomColorButtonBG</span>',</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        <span class="title">_t</span>('#49<span class="title">b1f5</span>'),</span></span><br><span class="line"><span class="class">        '自定按钮颜色',</span></span><br><span class="line"><span class="class">        '介绍：同上'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">CustomColorButtonBG</span>);        </span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">CustomColorButtonHover</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">CustomColorButtonHover</span>',</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        <span class="title">_t</span>('#<span class="title">ff7242</span>'),</span></span><br><span class="line"><span class="class">        '自定按钮悬停色',</span></span><br><span class="line"><span class="class">        '介绍：同上'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">CustomColorButtonHover</span>);</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">CustomColorSelection</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>(</span></span><br><span class="line"><span class="class">        '<span class="title">CustomColorSelection</span>',</span></span><br><span class="line"><span class="class">        <span class="title">NULL</span>,</span></span><br><span class="line"><span class="class">        <span class="title">_t</span>('#00<span class="title">c4b6</span>'),</span></span><br><span class="line"><span class="class">        '自定文本选择色',</span></span><br><span class="line"><span class="class">        '介绍：同上'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">CustomColorSelection</span>);    </span></span><br><span class="line"><span class="class">    //自定义颜色<span class="title">end</span></span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">siteKey</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">siteKey</span>', </span></span><br><span class="line"><span class="class">    <span class="title">NULL</span>, </span></span><br><span class="line"><span class="class">    <span class="title">null</span>,</span></span><br><span class="line"><span class="class">    '评论区谷歌验证码 &lt;<span class="title">br</span>&gt; <span class="title">Site</span> <span class="title">Key</span> <span class="title">for</span> <span class="title">reCAPTCHAv2</span>:',</span></span><br><span class="line"><span class="class">    '&lt;<span class="title">a</span> <span class="title">href</span>="<span class="title">https</span>://<span class="title">www</span>.<span class="title">google</span>.<span class="title">com</span>/<span class="title">recaptcha</span>/<span class="title">admin</span>/<span class="title">create</span>"&gt;点击获取密钥&lt;/<span class="title">a</span>&gt;'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">secretKey</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">secretKey</span>', <span class="title">NULL</span>, <span class="title">null</span>, <span class="title">_t</span>('<span class="title">Serect</span> <span class="title">Key</span> <span class="title">for</span> <span class="title">reCAPTCHAv2</span>:'), <span class="title">_t</span>('填写两处密钥评论区自动开启谷歌验证码'));</span></span><br><span class="line"><span class="class">$<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">siteKey</span>);</span></span><br><span class="line"><span class="class">$<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">secretKey</span>);</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    $<span class="title">hcaptchaSecretKey</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">hcaptchaSecretKey</span>', </span></span><br><span class="line"><span class="class">    <span class="title">NULL</span>, </span></span><br><span class="line"><span class="class">    <span class="title">null</span>,</span></span><br><span class="line"><span class="class">    '&lt;<span class="title">hr</span>&gt; 评论区<span class="title">hcaptch</span>人机验证 &lt;<span class="title">br</span>&gt; 密钥(<span class="title">sietkey</span>)- 使用它作为 <span class="title">secret</span> 来检查用户令牌:',</span></span><br><span class="line"><span class="class">    '&lt;<span class="title">a</span> <span class="title">href</span>="<span class="title">https</span>://<span class="title">dashboard</span>.<span class="title">hcaptcha</span>.<span class="title">com</span>/<span class="title">welcome</span>"&gt;点击获取密钥&lt;/<span class="title">a</span>&gt;'</span></span><br><span class="line"><span class="class">    );</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">hcaptchaAPIKey</span> = <span class="title">new</span> <span class="title">Typecho_Widget_Helper_Form_Element_Text</span>('<span class="title">hcaptchaAPIKey</span>', <span class="title">NULL</span>, <span class="title">null</span>, <span class="title">_t</span>('<span class="title">API</span> 密钥:'), <span class="title">_t</span>('填写两处密钥评论区自动开启<span class="title">hcaptch</span>人机验证'));</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    $<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">hcaptchaSecretKey</span>);</span></span><br><span class="line"><span class="class">$<span class="title">form</span>-&gt;<span class="title">addInput</span>($<span class="title">hcaptchaAPIKey</span>);</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">$<span class="title">db</span> = <span class="title">Typecho_Db</span>::<span class="title">get</span>();</span></span><br><span class="line"><span class="class">$<span class="title">sjdq</span>=$<span class="title">db</span>-&gt;<span class="title">fetchRow</span>($<span class="title">db</span>-&gt;<span class="title">select</span>()-&gt;<span class="title">from</span> ('<span class="title">table</span>.<span class="title">options</span>')-&gt;<span class="title">where</span> ('<span class="title">name</span> = ?', '<span class="title">theme</span>:<span class="title">butterfly</span>'));</span></span><br><span class="line"><span class="class">$<span class="title">ysj</span> = $<span class="title">sjdq</span>['<span class="title">value</span>'];</span></span><br><span class="line"><span class="class"><span class="title">if</span>(<span class="title">isset</span>($<span class="title">_POST</span>['<span class="title">type</span>']))</span></span><br><span class="line"><span class="class"></span>{ </span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$_POST</span>[<span class="string">"type"</span>]==<span class="string">"备份主题数据"</span>){</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>()-&gt;<span class="keyword">from</span> (<span class="string">'table.options'</span>)-&gt;<span class="title function_ invoke__">where</span> (<span class="string">'name = ?'</span>, <span class="string">'theme:butterflybf'</span>))){</span><br><span class="line"><span class="variable">$update</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">update</span>(<span class="string">'table.options'</span>)-&gt;<span class="title function_ invoke__">rows</span>(<span class="keyword">array</span>(<span class="string">'value'</span>=&gt;<span class="variable">$ysj</span>))-&gt;<span class="title function_ invoke__">where</span>(<span class="string">'name = ?'</span>, <span class="string">'theme:butterflybf'</span>);</span><br><span class="line"><span class="variable">$updateRows</span>= <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="variable">$update</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;div class="tongzhi"&gt;备份已更新，请等待自动刷新！如果等不到请点击'</span>;</span><br><span class="line"><span class="meta">?&gt;</span>    </span><br><span class="line">&lt;a href=<span class="string">"&lt;?php Helper::options()-&gt;adminUrl('options-theme.php'); ?&gt;"</span>&gt;这里&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">&lt;script language=<span class="string">"JavaScript"</span>&gt;window.<span class="title function_ invoke__">setTimeout</span>(<span class="string">"location=\'&lt;?php Helper::options()-&gt;adminUrl('options-theme.php'); ?&gt;\'"</span>, <span class="number">2500</span>);&lt;/script&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">}<span class="keyword">else</span>{</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$ysj</span>){</span><br><span class="line">     <span class="variable">$insert</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">insert</span>(<span class="string">'table.options'</span>)-&gt;<span class="title function_ invoke__">rows</span>(<span class="keyword">array</span>(<span class="string">'name'</span> =&gt; <span class="string">'theme:butterflybf'</span>,<span class="string">'user'</span> =&gt; <span class="string">'0'</span>,<span class="string">'value'</span> =&gt; <span class="variable">$ysj</span>));</span><br><span class="line">     <span class="variable">$insertId</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="variable">$insert</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;div class="tongzhi"&gt;备份完成，请等待自动刷新！如果等不到请点击'</span>;</span><br><span class="line"><span class="meta">?&gt;</span>    </span><br><span class="line">&lt;a href=<span class="string">"&lt;?php Helper::options()-&gt;adminUrl('options-theme.php'); ?&gt;"</span>&gt;这里&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">&lt;script language=<span class="string">"JavaScript"</span>&gt;window.<span class="title function_ invoke__">setTimeout</span>(<span class="string">"location=\'&lt;?php Helper::options()-&gt;adminUrl('options-theme.php'); ?&gt;\'"</span>, <span class="number">2500</span>);&lt;/script&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line">        }</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$_POST</span>[<span class="string">"type"</span>]==<span class="string">"还原主题数据"</span>){</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>()-&gt;<span class="keyword">from</span> (<span class="string">'table.options'</span>)-&gt;<span class="title function_ invoke__">where</span> (<span class="string">'name = ?'</span>, <span class="string">'theme:butterflybf'</span>))){</span><br><span class="line"><span class="variable">$sjdub</span>=<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>()-&gt;<span class="keyword">from</span> (<span class="string">'table.options'</span>)-&gt;<span class="title function_ invoke__">where</span> (<span class="string">'name = ?'</span>, <span class="string">'theme:butterflybf'</span>));</span><br><span class="line"><span class="variable">$bsj</span> = <span class="variable">$sjdub</span>[<span class="string">'value'</span>];</span><br><span class="line"><span class="variable">$update</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">update</span>(<span class="string">'table.options'</span>)-&gt;<span class="title function_ invoke__">rows</span>(<span class="keyword">array</span>(<span class="string">'value'</span>=&gt;<span class="variable">$bsj</span>))-&gt;<span class="title function_ invoke__">where</span>(<span class="string">'name = ?'</span>, <span class="string">'theme:butterfly'</span>);</span><br><span class="line"><span class="variable">$updateRows</span>= <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="variable">$update</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;div class="tongzhi"&gt;检测到主题备份数据，恢复完成，请等待自动刷新！如果等不到请点击'</span>;</span><br><span class="line"><span class="meta">?&gt;</span>    </span><br><span class="line">&lt;a href=<span class="string">"&lt;?php Helper::options()-&gt;adminUrl('options-theme.php'); ?&gt;"</span>&gt;这里&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">&lt;script language=<span class="string">"JavaScript"</span>&gt;window.<span class="title function_ invoke__">setTimeout</span>(<span class="string">"location=\'&lt;?php Helper::options()-&gt;adminUrl('options-theme.php'); ?&gt;\'"</span>, <span class="number">2000</span>);&lt;/script&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">}<span class="keyword">else</span>{</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;div class="tongzhi"&gt;没有主题备份数据，恢复不了哦！&lt;/div&gt;'</span>;</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$_POST</span>[<span class="string">"type"</span>]==<span class="string">"删除备份数据"</span>){</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>()-&gt;<span class="keyword">from</span> (<span class="string">'table.options'</span>)-&gt;<span class="title function_ invoke__">where</span> (<span class="string">'name = ?'</span>, <span class="string">'theme:butterflybf'</span>))){</span><br><span class="line"><span class="variable">$delete</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">delete</span>(<span class="string">'table.options'</span>)-&gt;<span class="title function_ invoke__">where</span> (<span class="string">'name = ?'</span>, <span class="string">'theme:butterflybf'</span>);</span><br><span class="line"><span class="variable">$deletedRows</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="variable">$delete</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;div class="tongzhi"&gt;删除成功，请等待自动刷新，如果等不到请点击'</span>;</span><br><span class="line"><span class="meta">?&gt;</span>    </span><br><span class="line">&lt;a href=<span class="string">"&lt;?php Helper::options()-&gt;adminUrl('options-theme.php'); ?&gt;"</span>&gt;这里&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">&lt;script language=<span class="string">"JavaScript"</span>&gt;window.<span class="title function_ invoke__">setTimeout</span>(<span class="string">"location=\'&lt;?php Helper::options()-&gt;adminUrl('options-theme.php'); ?&gt;\'"</span>, <span class="number">2500</span>);&lt;/script&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">}<span class="keyword">else</span>{</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;div class="tongzhi"&gt;不用删了！备份不存在！！！&lt;/div&gt;'</span>;</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line">    }</span><br><span class="line"><span class="comment">// 结束</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">themeFields</span>(<span class="params"><span class="variable">$layout</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$thumb</span> = <span class="keyword">new</span> <span class="title class_">Typecho_Widget_Helper_Form_Element_Text</span>(</span><br><span class="line">        <span class="string">'thumb'</span>,</span><br><span class="line">        <span class="literal">NULL</span>,</span><br><span class="line">        <span class="literal">NULL</span>,</span><br><span class="line">        <span class="string">'自定义文章缩略图'</span>,</span><br><span class="line">        <span class="string">'填写时：将会显示填写的文章缩略图 &lt;br&gt;不填写时采用默认图片'</span></span><br><span class="line">    );</span><br><span class="line">    <span class="variable">$layout</span>-&gt;<span class="title function_ invoke__">addItem</span>(<span class="variable">$thumb</span>);</span><br><span class="line"></span><br><span class="line">    <span class="variable">$desc</span> = <span class="keyword">new</span> <span class="title class_">Typecho_Widget_Helper_Form_Element_Text</span>(</span><br><span class="line">        <span class="string">'desc'</span>,</span><br><span class="line">        <span class="literal">NULL</span>,</span><br><span class="line">        <span class="literal">NULL</span>,</span><br><span class="line">        <span class="string">'SEO描述'</span>,</span><br><span class="line">        <span class="string">'用于填写文章或独立页面的SEO描述，如果不填写则没有'</span></span><br><span class="line">    );</span><br><span class="line">    <span class="variable">$layout</span>-&gt;<span class="title function_ invoke__">addItem</span>(<span class="variable">$desc</span>);</span><br><span class="line"></span><br><span class="line">    <span class="variable">$keywords</span> = <span class="keyword">new</span> <span class="title class_">Typecho_Widget_Helper_Form_Element_Text</span>(</span><br><span class="line">        <span class="string">'keywords'</span>,</span><br><span class="line">        <span class="literal">NULL</span>,</span><br><span class="line">        <span class="literal">NULL</span>,</span><br><span class="line">        <span class="string">'SEO关键词'</span>,</span><br><span class="line">        <span class="string">'用于填写文章或独立页面的SEO关键词，如果不填写则没有'</span></span><br><span class="line">    );</span><br><span class="line">    <span class="variable">$layout</span>-&gt;<span class="title function_ invoke__">addItem</span>(<span class="variable">$keywords</span>);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="variable">$showTimeWarning</span> = <span class="keyword">new</span> <span class="title class_">Typecho_Widget_Helper_Form_Element_Select</span>(</span><br><span class="line">        <span class="string">'showTimeWarning'</span>,</span><br><span class="line">        <span class="keyword">array</span>(</span><br><span class="line">            <span class="string">'on'</span> =&gt; <span class="string">'开启（默认）'</span>,</span><br><span class="line">            <span class="string">'off'</span> =&gt; <span class="string">'关闭'</span></span><br><span class="line">        ),</span><br><span class="line">        <span class="string">'on'</span>,</span><br><span class="line">        <span class="string">'是否开启当前页面的文章过期警告'</span>,</span><br><span class="line">        <span class="string">'用于单独设置当前文章的过期警告 &lt;br /&gt; &lt;b&gt;仅在文章内作用,独立页面无需改动&lt;/b&gt; &lt;br /&gt;'</span></span><br><span class="line">    );</span><br><span class="line">    <span class="variable">$layout</span>-&gt;<span class="title function_ invoke__">addItem</span>(<span class="variable">$showTimeWarning</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="variable">$ShowReward</span> = <span class="keyword">new</span> <span class="title class_">Typecho_Widget_Helper_Form_Element_Select</span>(<span class="string">'ShowReward'</span>,</span><br><span class="line">        <span class="keyword">array</span>(</span><br><span class="line">            <span class="string">'off'</span> =&gt; <span class="string">'关闭（默认）'</span>,</span><br><span class="line">            <span class="string">'show'</span> =&gt; <span class="string">'开启打赏'</span>,</span><br><span class="line">        ),</span><br><span class="line">        <span class="string">'off'</span>,</span><br><span class="line">        <span class="string">'是否开启文章打赏'</span>,</span><br><span class="line">        <span class="string">'介绍：开启此功能需要在主题设置中添加二维码图片'</span></span><br><span class="line">    );</span><br><span class="line">    <span class="variable">$layout</span>-&gt;<span class="title function_ invoke__">addItem</span>(<span class="variable">$ShowReward</span>);</span><br><span class="line">    <span class="variable">$ShowToc</span> = <span class="keyword">new</span> <span class="title class_">Typecho_Widget_Helper_Form_Element_Select</span>(<span class="string">'ShowToc'</span>,</span><br><span class="line">        <span class="keyword">array</span>(</span><br><span class="line">            <span class="string">'show'</span> =&gt; <span class="string">'开启（默认）'</span>,</span><br><span class="line">            <span class="string">'off'</span> =&gt; <span class="string">'关闭'</span>,</span><br><span class="line">        ),</span><br><span class="line">        <span class="string">'show'</span>,</span><br><span class="line">        <span class="string">'是否显示文章目录'</span>,</span><br><span class="line">        <span class="string">'介绍：或许有的文章不需要目录功能,默认是开启的,一般不需要设置'</span></span><br><span class="line">    );</span><br><span class="line">    <span class="variable">$layout</span>-&gt;<span class="title function_ invoke__">addItem</span>(<span class="variable">$ShowToc</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="variable">$CopyRight</span> = <span class="keyword">new</span> <span class="title class_">Typecho_Widget_Helper_Form_Element_Select</span>(<span class="string">'CopyRight'</span>,</span><br><span class="line">        <span class="keyword">array</span>(</span><br><span class="line">            <span class="string">'on'</span> =&gt; <span class="string">' CC BY-NC-SA 4.0（默认）'</span>,</span><br><span class="line">            <span class="string">'off'</span> =&gt; <span class="string">'禁止转载'</span>,</span><br><span class="line">        ),</span><br><span class="line">        <span class="string">'on'</span>,</span><br><span class="line">        <span class="string">'文章版权说明'</span>,</span><br><span class="line">        <span class="string">'介绍：默认为CC BY-NC-SA 4.0'</span></span><br><span class="line">    );</span><br><span class="line">    <span class="variable">$layout</span>-&gt;<span class="title function_ invoke__">addItem</span>(<span class="variable">$CopyRight</span>);    </span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"><span class="comment">// 新文章缩略图</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_ArticleThumbnail</span>(<span class="params"><span class="variable">$widget</span></span>)</span>{</span><br><span class="line">  <span class="comment">// 当文章无图片时的随机缩略图</span></span><br><span class="line"><span class="comment">//   $rand = mt_rand(1, 26); // 随机 1-9 张缩略图</span></span><br><span class="line"><span class="comment">//   // 缩略图加速</span></span><br><span class="line"><span class="comment">//   $rand_url;</span></span><br><span class="line"><span class="comment">//   if(!empty(Helper::options()-&gt;articleImgSpeed)){</span></span><br><span class="line"><span class="comment">//     $rand_url = Helper::options()-&gt;articleImgSpeed;</span></span><br><span class="line"><span class="comment">//   }else {</span></span><br><span class="line"><span class="comment">//     $rand_url = $widget-&gt;widget('Widget_Options')-&gt;themeUrl . '/images/articles/';</span></span><br><span class="line"><span class="comment">//   }</span></span><br><span class="line"><span class="comment">//   $random =  $rand_url . $rand . '.jpg'; // 随机缩略图路径</span></span><br><span class="line"><span class="comment">//   $random =  'https://static01.imgkr.com/temp/517e5d14c312427dbf93304563869279.png';</span></span><br><span class="line"><span class="comment">//   $attach = $widget-&gt;attachments(1)-&gt;attachment;</span></span><br><span class="line">  <span class="variable">$random</span> =  <span class="string">'/usr/themes/butterfly/img/DefualtThumbnail.jpg'</span>;</span><br><span class="line">  <span class="variable">$pattern</span> = <span class="string">'/\&lt;img.*?src\=\"(.*?)\"[^&gt;]*&gt;/i'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//如果有自定义缩略图</span></span><br><span class="line">  <span class="keyword">if</span>(<span class="variable">$widget</span>-&gt;fields-&gt;thumb) {</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$widget</span>-&gt;fields-&gt;thumb;</span><br><span class="line">  }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match_all</span>(<span class="variable">$pattern</span>, <span class="variable">$widget</span>-&gt;content, <span class="variable">$thumbUrl</span>) &amp;&amp; <span class="title function_ invoke__">strlen</span>(<span class="variable">$thumbUrl</span>[<span class="number">1</span>][<span class="number">0</span>]) &gt; <span class="number">7</span>) {</span><br><span class="line">      <span class="keyword">return</span> <span class="variable">$thumbUrl</span>[<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">  }<span class="keyword">else</span> {</span><br><span class="line">      <span class="keyword">return</span> <span class="variable">$random</span>;</span><br><span class="line">  }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 主页文章缩略图</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetRandomThumbnail</span>(<span class="params"><span class="variable">$widget</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// $random = 'https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg';</span></span><br><span class="line">    <span class="variable">$random</span> = <span class="string">'/usr/themes/butterfly/img/DefualtThumbnail.jpg'</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;futureRandom) {</span><br><span class="line">        <span class="variable">$moszu</span> = <span class="title function_ invoke__">explode</span>(<span class="string">"\r\n"</span>, <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;futureRandom);</span><br><span class="line">        <span class="variable">$random</span> = <span class="variable">$moszu</span>[<span class="title function_ invoke__">array_rand</span>(<span class="variable">$moszu</span>, <span class="number">1</span>)] . <span class="string">"?futureRandom="</span> . <span class="title function_ invoke__">mt_rand</span>(<span class="number">0</span>, <span class="number">1000000</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="variable">$pattern</span> = <span class="string">'/\&lt;img.*?src\=\"(.*?)\"[^&gt;]*&gt;/i'</span>;</span><br><span class="line">    <span class="variable">$patternMD</span> = <span class="string">'/\!\[.*?\]\((http(s)?:\/\/.*?(jpg|jpeg|gif|png|webp))/i'</span>;</span><br><span class="line">    <span class="variable">$patternMDfoot</span> = <span class="string">'/\[.*?\]:\s*(http(s)?:\/\/.*?(jpg|jpeg|gif|png|webp))/i'</span>;</span><br><span class="line">    <span class="variable">$t</span> = <span class="title function_ invoke__">preg_match_all</span>(<span class="variable">$pattern</span>, <span class="variable">$widget</span>-&gt;content, <span class="variable">$thumbUrl</span>);</span><br><span class="line">    <span class="variable">$img</span> = <span class="variable">$random</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$widget</span>-&gt;fields-&gt;thumb) {</span><br><span class="line">        <span class="variable">$img</span> = <span class="variable">$widget</span>-&gt;fields-&gt;thumb;</span><br><span class="line">    } <span class="keyword">elseif</span> (<span class="variable">$t</span>) {</span><br><span class="line">        <span class="variable">$img</span> = <span class="variable">$thumbUrl</span>[<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    } <span class="keyword">elseif</span> (<span class="title function_ invoke__">preg_match_all</span>(<span class="variable">$patternMD</span>, <span class="variable">$widget</span>-&gt;content, <span class="variable">$thumbUrl</span>)) {</span><br><span class="line">        <span class="variable">$img</span> = <span class="variable">$thumbUrl</span>[<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    } <span class="keyword">elseif</span> (<span class="title function_ invoke__">preg_match_all</span>(<span class="variable">$patternMDfoot</span>, <span class="variable">$widget</span>-&gt;content, <span class="variable">$thumbUrl</span>)) {</span><br><span class="line">        <span class="variable">$img</span> = <span class="variable">$thumbUrl</span>[<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$img</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 文章封面缩略图</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetRandomThumbnailPost</span>(<span class="params"><span class="variable">$widget</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$widget</span>-&gt;fields-&gt;thumb&amp;&amp;<span class="variable">$widget</span>-&gt;fields-&gt;thumb!=<span class="string">" "</span>) {</span><br><span class="line">        <span class="variable">$img</span> = <span class="variable">$widget</span>-&gt;fields-&gt;thumb;</span><br><span class="line">    }<span class="keyword">else</span>{</span><br><span class="line">        <span class="variable">$img</span> = <span class="string">"https://api.nuoyis.com/yu-api/acg?yasuo=1"</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$img</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 文章字数统计</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>  <span class="title">art_count</span> (<span class="params"><span class="variable">$cid</span></span>)</span>{</span><br><span class="line"><span class="variable">$db</span>=<span class="title class_">Typecho_Db</span>::<span class="variable constant_">get</span> ();</span><br><span class="line"><span class="variable">$rs</span>=<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span> (<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span> (<span class="string">'table.contents.text'</span>)-&gt;<span class="keyword">from</span> (<span class="string">'table.contents'</span>)-&gt;<span class="title function_ invoke__">where</span> (<span class="string">'table.contents.cid=?'</span>,<span class="variable">$cid</span>)-&gt;<span class="title function_ invoke__">order</span> (<span class="string">'table.contents.cid'</span>,<span class="title class_">Typecho_Db</span>::<span class="variable constant_">SORT_ASC</span>)-&gt;<span class="title function_ invoke__">limit</span> (<span class="number">1</span>));</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">mb_strlen</span>(<span class="variable">$rs</span>[<span class="string">'text'</span>], <span class="string">'UTF-8'</span>);</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 文章字数统计2</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">charactersNum</span>(<span class="params"><span class="variable">$archive</span></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">mb_strlen</span>(<span class="variable">$archive</span>-&gt;text,<span class="string">'UTF-8'</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 全站字数统计</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">allOfCharacters</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="variable">$showPrivate</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="variable">$chars</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="variable">$db</span> = <span class="title class_">Typecho_Db</span>::<span class="title function_ invoke__">get</span>();</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable">$showPrivate</span> == <span class="number">0</span>){</span><br><span class="line">            <span class="variable">$select</span> = <span class="variable">$db</span> -&gt;<span class="title function_ invoke__">select</span>(<span class="string">'text'</span>)-&gt;<span class="keyword">from</span>(<span class="string">'table.contents'</span>)-&gt;<span class="title function_ invoke__">where</span>(<span class="string">'table.contents.status = ?'</span>,<span class="string">'publish'</span>);</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            <span class="variable">$select</span> = <span class="variable">$db</span> -&gt;<span class="title function_ invoke__">select</span>(<span class="string">'text'</span>)-&gt;<span class="keyword">from</span>(<span class="string">'table.contents'</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="variable">$rows</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchAll</span>(<span class="variable">$select</span>);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="variable">$rows</span> <span class="keyword">as</span> <span class="variable">$row</span>){</span><br><span class="line">        <span class="variable">$chars</span> += <span class="title function_ invoke__">mb_strlen</span>(<span class="variable">$row</span>[<span class="string">'text'</span>], <span class="string">'UTF-8'</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="variable">$unit</span> = <span class="string">''</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable">$chars</span> &gt;= <span class="number">10000</span>) {</span><br><span class="line">            <span class="variable">$chars</span> /= <span class="number">10000</span>;</span><br><span class="line">            <span class="variable">$unit</span> = <span class="string">'W'</span>;</span><br><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable">$chars</span> &gt;= <span class="number">1000</span>) {</span><br><span class="line">            <span class="variable">$chars</span> /= <span class="number">1000</span>;</span><br><span class="line">            <span class="variable">$unit</span> = <span class="string">'K'</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="variable">$out</span> = <span class="title function_ invoke__">sprintf</span>(<span class="string">'%.2lf %s'</span>,<span class="variable">$chars</span>, <span class="variable">$unit</span>);</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable">$out</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">thumb</span>(<span class="params"><span class="variable">$cid</span></span>) </span>{</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$imgurl</span>)) {</span><br><span class="line"><span class="variable">$rand_num</span> = <span class="number">10</span>; <span class="comment">//随机图片数量，根据图片目录中图片实际数量设置</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$rand_num</span> == <span class="number">0</span>) {</span><br><span class="line"><span class="variable">$imgurl</span> = <span class="string">"img/0.jpg"</span>;</span><br><span class="line"><span class="comment">//如果$rand_num = 0,则显示默认图片，须命名为"0.jpg"，注意是绝对地址</span></span><br><span class="line">    }<span class="keyword">else</span>{</span><br><span class="line"><span class="variable">$imgurl</span> = <span class="string">"img/"</span>.<span class="title function_ invoke__">rand</span>(<span class="number">1</span>,<span class="variable">$rand_num</span>).<span class="string">".jpg"</span>;</span><br><span class="line"><span class="comment">//随机图片，须按"1.jpg","2.jpg","3.jpg"...的顺序命名，注意是绝对地址</span></span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"> <span class="variable">$db</span> = <span class="title class_">Typecho_Db</span>::<span class="title function_ invoke__">get</span>();</span><br><span class="line"> <span class="variable">$rs</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>(<span class="string">'table.contents.text'</span>)</span><br><span class="line">    -&gt;<span class="keyword">from</span>(<span class="string">'table.contents'</span>)</span><br><span class="line">    -&gt;<span class="title function_ invoke__">where</span>(<span class="string">'table.contents.type = ?'</span>, <span class="string">'attachment'</span>)</span><br><span class="line">    -&gt;<span class="title function_ invoke__">where</span>(<span class="string">'table.contents.parent= ?'</span>, <span class="variable">$cid</span>)</span><br><span class="line">    -&gt;<span class="title function_ invoke__">order</span>(<span class="string">'table.contents.cid'</span>, <span class="title class_">Typecho_Db</span>::<span class="variable constant_">SORT_ASC</span>)</span><br><span class="line">    -&gt;<span class="title function_ invoke__">limit</span>(<span class="number">1</span>));</span><br><span class="line"><span class="variable">$img</span> = <span class="title function_ invoke__">unserialize</span>(<span class="variable">$rs</span>[<span class="string">'text'</span>]);</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$img</span>)){</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$imgurl</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">else</span>{</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'你的博客地址'</span>.<span class="variable">$img</span>[<span class="string">'path'</span>];</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 评论时间</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timesince</span>(<span class="params"><span class="variable">$older_date</span>,<span class="variable">$comment_date</span> = <span class="literal">false</span></span>) </span>{</span><br><span class="line"><span class="variable">$chunks</span> = <span class="keyword">array</span>(</span><br><span class="line"><span class="keyword">array</span>(<span class="number">86400</span> , <span class="string">'天'</span>),</span><br><span class="line"><span class="keyword">array</span>(<span class="number">3600</span> , <span class="string">'小时'</span>),</span><br><span class="line"><span class="keyword">array</span>(<span class="number">60</span> , <span class="string">'分'</span>),</span><br><span class="line"><span class="keyword">array</span>(<span class="number">1</span> , <span class="string">'秒'</span>),</span><br><span class="line">);</span><br><span class="line"><span class="variable">$newer_date</span> = <span class="title function_ invoke__">time</span>();</span><br><span class="line"><span class="variable">$since</span> = <span class="title function_ invoke__">abs</span>(<span class="variable">$newer_date</span> - <span class="variable">$older_date</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$since</span> &lt; <span class="number">2592000</span>){</span><br><span class="line"><span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>, <span class="variable">$j</span> = <span class="title function_ invoke__">count</span>(<span class="variable">$chunks</span>); <span class="variable">$i</span> &lt; <span class="variable">$j</span>; <span class="variable">$i</span>++){</span><br><span class="line"><span class="variable">$seconds</span> = <span class="variable">$chunks</span>[<span class="variable">$i</span>][<span class="number">0</span>];</span><br><span class="line"><span class="variable">$name</span> = <span class="variable">$chunks</span>[<span class="variable">$i</span>][<span class="number">1</span>];</span><br><span class="line"><span class="keyword">if</span> ((<span class="variable">$count</span> = <span class="title function_ invoke__">floor</span>(<span class="variable">$since</span> / <span class="variable">$seconds</span>)) != <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">}</span><br><span class="line"><span class="variable">$output</span> = <span class="variable">$count</span>.<span class="variable">$name</span>.<span class="string">'前'</span>;</span><br><span class="line">}<span class="keyword">else</span>{</span><br><span class="line"><span class="variable">$output</span> = !<span class="variable">$comment_date</span> ? (<span class="title function_ invoke__">date</span>(<span class="string">'Y-m-j G:i'</span>, <span class="variable">$older_date</span>)) : (<span class="title function_ invoke__">date</span>(<span class="string">'Y-m-j'</span>, <span class="variable">$older_date</span>));</span><br><span class="line">}</span><br><span class="line"><span class="keyword">return</span> <span class="variable">$output</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 文章内获取第一张图做封面</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPostImg</span>(<span class="params"><span class="variable">$archive</span></span>) </span>{</span><br><span class="line">    <span class="variable">$img</span> = <span class="keyword">array</span>();</span><br><span class="line">    <span class="comment">//  匹配 img 的 src 的正则表达式</span></span><br><span class="line">    <span class="title function_ invoke__">preg_match_all</span>(<span class="string">"/&lt;img.*?src=\"(.*?)\".*?\/?&gt;/i"</span>, <span class="variable">$archive</span>-&gt;content, <span class="variable">$img</span>);</span><br><span class="line">    <span class="comment">//  判断是否匹配到图片</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">count</span>(<span class="variable">$img</span>) &gt; <span class="number">0</span> &amp;&amp; <span class="title function_ invoke__">count</span>(<span class="variable">$img</span>[<span class="number">0</span>]) &gt; <span class="number">0</span>) {</span><br><span class="line">        <span class="comment">//  返回图片</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$img</span>[<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="comment">//  如果没有匹配到就返回 none</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'none'</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCatalog</span>(<span class="params"><span class="variable">$obj</span></span>) </span>{    <span class="comment">//为文章标题添加锚点</span></span><br><span class="line">    <span class="keyword">global</span> <span class="variable">$catalog</span>;</span><br><span class="line">    <span class="keyword">global</span> <span class="variable">$catalog_count</span>;</span><br><span class="line">    <span class="variable">$catalog</span> = <span class="keyword">array</span>();</span><br><span class="line">    <span class="variable">$catalog_count</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="variable">$obj</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/&lt;h([1-6])(.*?)&gt;(.*?)&lt;\/h\1&gt;/i'</span>, function(<span class="variable">$obj</span>) {</span><br><span class="line">        <span class="keyword">global</span> <span class="variable">$catalog</span>;</span><br><span class="line">        <span class="keyword">global</span> <span class="variable">$catalog_count</span>;</span><br><span class="line">        <span class="variable">$catalog_count</span> ++;</span><br><span class="line">        <span class="variable">$catalog</span>[] = <span class="keyword">array</span>(<span class="string">'text'</span> =&gt; <span class="title function_ invoke__">trim</span>(<span class="title function_ invoke__">strip_tags</span>(<span class="variable">$obj</span>[<span class="number">3</span>])), <span class="string">'depth'</span> =&gt; <span class="variable">$obj</span>[<span class="number">1</span>], <span class="string">'count'</span> =&gt; <span class="variable">$catalog_count</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;h'</span>.<span class="variable">$obj</span>[<span class="number">1</span>].<span class="variable">$obj</span>[<span class="number">2</span>].<span class="string">' id="cl-'</span>.<span class="variable">$catalog_count</span>.<span class="string">'"&gt;&lt;a class="markdownIt-Anchor" href="#cl-'</span>.<span class="variable">$catalog_count</span>.<span class="string">'"&gt;&lt;/a&gt;'</span>.<span class="variable">$obj</span>[<span class="number">3</span>].<span class="string">'&lt;/h'</span>.<span class="variable">$obj</span>[<span class="number">1</span>].<span class="string">'&gt;'</span>;</span><br><span class="line">    }, <span class="variable">$obj</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$obj</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 目录树</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCatalog</span>(<span class="params"></span>) </span>{    <span class="comment">//输出文章目录容器</span></span><br><span class="line">    <span class="keyword">global</span> <span class="variable">$catalog</span>;</span><br><span class="line">    <span class="variable">$index</span> = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$catalog</span>) {</span><br><span class="line">        <span class="variable">$prev_depth</span> = <span class="string">''</span>;</span><br><span class="line">        <span class="variable">$to_depth</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">foreach</span>(<span class="variable">$catalog</span> <span class="keyword">as</span> <span class="variable">$catalog_item</span>) {</span><br><span class="line">            <span class="variable">$catalog_depth</span> = <span class="variable">$catalog_item</span>[<span class="string">'depth'</span>];</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$prev_depth</span>) {</span><br><span class="line">                <span class="keyword">if</span> (<span class="variable">$catalog_depth</span> == <span class="variable">$prev_depth</span>) {</span><br><span class="line">                    <span class="variable">$index</span> .= <span class="string">'&lt;/li &gt;'</span>.<span class="string">"\n"</span>;</span><br><span class="line">                } <span class="keyword">elseif</span> (<span class="variable">$catalog_depth</span> &gt; <span class="variable">$prev_depth</span>) {</span><br><span class="line">                    <span class="variable">$to_depth</span>++;</span><br><span class="line">                    <span class="variable">$index</span> .= <span class="string">'&lt;ol class="toc-child"&gt;'</span>.<span class="string">"\n"</span>;</span><br><span class="line">                } <span class="keyword">else</span> {</span><br><span class="line">                    <span class="variable">$to_depth2</span> = (<span class="variable">$to_depth</span> &gt; (<span class="variable">$prev_depth</span> - <span class="variable">$catalog_depth</span>)) ? (<span class="variable">$prev_depth</span> - <span class="variable">$catalog_depth</span>) : <span class="variable">$to_depth</span>;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="variable">$to_depth2</span>) {</span><br><span class="line">                        <span class="keyword">for</span> (<span class="variable">$i</span>=<span class="number">0</span>; <span class="variable">$i</span>&lt;<span class="variable">$to_depth2</span>; <span class="variable">$i</span>++) {</span><br><span class="line">                            <span class="variable">$index</span> .= <span class="string">'&lt;/li&gt;'</span>.<span class="string">"\n"</span>.<span class="string">'&lt;/ol&gt;'</span>.<span class="string">"\n"</span>;</span><br><span class="line">                            <span class="variable">$to_depth</span>--;</span><br><span class="line">                        }</span><br><span class="line">                    }</span><br><span class="line">                    <span class="variable">$index</span> .= <span class="string">'&lt;/li&gt;'</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            <span class="variable">$index</span> .= <span class="string">'&lt;li class="toc-item"&gt;</span></span><br><span class="line"><span class="string">            &lt;a class="toc-link" href="#cl-'</span>.<span class="variable">$catalog_item</span>[<span class="string">'count'</span>].<span class="string">'"&gt;</span></span><br><span class="line"><span class="string">            &lt;span class="toc-number"&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">            &lt;span class="toc-text"&gt;'</span>.<span class="variable">$catalog_item</span>[<span class="string">'text'</span>].<span class="string">'&lt;/span&gt;</span></span><br><span class="line"><span class="string">            &lt;/a&gt;'</span>;</span><br><span class="line">            <span class="variable">$prev_depth</span> = <span class="variable">$catalog_item</span>[<span class="string">'depth'</span>];</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span> (<span class="variable">$i</span>=<span class="number">0</span>; <span class="variable">$i</span>&lt;=<span class="variable">$to_depth</span>; <span class="variable">$i</span>++) {</span><br><span class="line">            <span class="variable">$index</span> .= <span class="string">'&lt;/li&gt;'</span>.<span class="string">"\n"</span>;</span><br><span class="line">        }</span><br><span class="line">    <span class="comment">// $index = '&lt;div &gt;'."\n".'&lt;div &gt;'."\n"."\n".$index.'&lt;/div&gt;'."\n".'&lt;/div&gt;'."\n";</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$index</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 获取懒加载图片 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetLazyLoad</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;LazyLoad) {</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;LazyLoad;</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">       <span class="keyword">return</span> <span class="string">"data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs="</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 格式化标签 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ParseCode</span>(<span class="params"><span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">Short_Tabs</span>(<span class="variable">$text</span>);</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">Note_Fsm</span>(<span class="variable">$text</span>);</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">Note_Ico</span>(<span class="variable">$text</span>);</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">Hide_Lnline</span>(<span class="variable">$text</span>);</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">Hide_Block</span>(<span class="variable">$text</span>);</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">Hide_Toggle</span>(<span class="variable">$text</span>);</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">Button</span>(<span class="variable">$text</span>);</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">Cheak_Box</span>(<span class="variable">$text</span>);</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">inline_Tag</span>(<span class="variable">$text</span>);</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">Bf_Radio</span>(<span class="variable">$text</span>);</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">Bf_Mark</span>(<span class="variable">$text</span>);</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">Font</span>(<span class="variable">$text</span>);</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">ArtPlayer</span>(<span class="variable">$text</span>);    </span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">PostImage</span>(<span class="variable">$text</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 标签外挂-Tabs</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Short_Tabs</span>(<span class="params"><span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/&lt;p&gt;\[tabs\](.*?)\[\/tabs\]&lt;\/p&gt;/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'[tabs]'</span> . <span class="variable">$text</span>[<span class="number">1</span>] . <span class="string">'[/tabs]'</span>;</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/\[tabs\](.*?)\[\/tabs\]/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">preg_replace</span>(<span class="string">'~&lt;br.*?&gt;~'</span>, <span class="string">''</span>, <span class="variable">$text</span>[<span class="number">0</span>]);</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/\[tabs\](.*?)\[\/tabs\]/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">        <span class="variable">$tabname</span> = <span class="string">''</span>;</span><br><span class="line">        <span class="title function_ invoke__">preg_match_all</span>(<span class="string">'/label=\"(.*?)\"\]/i'</span>, <span class="variable">$text</span>[<span class="number">1</span>], <span class="variable">$tabnamearr</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="title function_ invoke__">count</span>(<span class="variable">$tabnamearr</span>[<span class="number">1</span>]); <span class="variable">$i</span>++) {</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$i</span> === <span class="number">0</span>) {</span><br><span class="line">                <span class="variable">$tabname</span> .= <span class="string">'&lt;li class="tab active"&gt;&lt;button type="button" data-href="'</span> . <span class="variable">$i</span> . <span class="string">'"&gt;'</span> . <span class="variable">$tabnamearr</span>[<span class="number">1</span>][<span class="variable">$i</span>] . <span class="string">'&lt;/button&gt;&lt;/li&gt;'</span>;</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                <span class="variable">$tabname</span> .= <span class="string">'&lt;li class="tab"  data-href="'</span> . <span class="variable">$i</span> . <span class="string">'"&gt;&lt;button type="button" data-href="'</span> . <span class="variable">$i</span> . <span class="string">'"&gt;'</span> . <span class="variable">$tabnamearr</span>[<span class="number">1</span>][<span class="variable">$i</span>] . <span class="string">'&lt;/button&gt;&lt;/li&gt;'</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="variable">$tabcon</span> = <span class="string">''</span>;</span><br><span class="line">        <span class="title function_ invoke__">preg_match_all</span>(<span class="string">'/"\](.*?)\[\//i'</span>, <span class="variable">$text</span>[<span class="number">1</span>], <span class="variable">$tabconarr</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="title function_ invoke__">count</span>(<span class="variable">$tabconarr</span>[<span class="number">1</span>]); <span class="variable">$i</span>++) {</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$i</span> === <span class="number">0</span>) {</span><br><span class="line">                <span class="variable">$tabcon</span> .= <span class="string">'&lt;div class="tab-item-content active" id="'</span> . <span class="variable">$i</span> . <span class="string">'"&gt;'</span> . <span class="variable">$tabconarr</span>[<span class="number">1</span>][<span class="variable">$i</span>] . <span class="string">' &lt;button type="button" class="tab-to-top" aria-label="scroll to top"&gt;&lt;i class="fas fa-arrow-up"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;'</span>;</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                <span class="variable">$tabcon</span> .= <span class="string">'&lt;div class="tab-item-content" id="'</span> . <span class="variable">$i</span> . <span class="string">'"&gt;'</span> . <span class="variable">$tabconarr</span>[<span class="number">1</span>][<span class="variable">$i</span>] . <span class="string">'&lt;button type="button" class="tab-to-top" aria-label="scroll to top"&gt;&lt;i class="fas fa-arrow-up"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;'</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'</span></span><br><span class="line"><span class="string">        &lt;div class="tabs" id="tags"&gt;&lt;ul class="nav-tabs"&gt;'</span> . <span class="variable">$tabname</span> . <span class="string">'&lt;/ul&gt;&lt;div class="tab-contents"&gt;'</span> . <span class="variable">$tabcon</span> . <span class="string">'&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 标签外挂-btn</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Button</span>(<span class="params"><span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/\[btn href=\"(.*?)\" type=\"(.*?)\".*?\ ico=\"(.*?)\"](.*?)\[\/btn\]/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;a href="'</span> . <span class="variable">$text</span>[<span class="number">1</span>] . <span class="string">'" class="btn-beautify button--animated '</span> . <span class="variable">$text</span>[<span class="number">2</span>] . <span class="string">'"&gt;</span></span><br><span class="line"><span class="string">        &lt;i class=" '</span> . <span class="variable">$text</span>[<span class="number">3</span>] . <span class="string">'"&gt;&lt;/i&gt;&lt;span&gt;'</span> . <span class="variable">$text</span>[<span class="number">4</span>] . <span class="string">'&lt;/span&gt;&lt;/a&gt;'</span>;</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 标签外挂-note</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Note_Fsm</span>(<span class="params"><span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/\[note type=\"(.*?)\".*?\](.*?)\[\/note\]/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;div class="note '</span> . <span class="variable">$text</span>[<span class="number">1</span>] . <span class="string">'"&gt; &lt;p&gt;'</span> . <span class="variable">$text</span>[<span class="number">2</span>] . <span class="string">'&lt;/p&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 标签外挂-note_ico</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Note_Ico</span>(<span class="params"><span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/\[note-ico type=\"(.*?)\".*?\ ico=\"(.*?)\"](.*?)\[\/note-ico\]/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;div class="note '</span> . <span class="variable">$text</span>[<span class="number">1</span>] . <span class="string">'"&gt;&lt;i class="'</span> . <span class="variable">$text</span>[<span class="number">2</span>] . <span class="string">'"&gt;&lt;/i&gt;&lt;p&gt;'</span> . <span class="variable">$text</span>[<span class="number">3</span>] . <span class="string">'&lt;/p&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// hide-inline</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hide_Lnline</span>(<span class="params"><span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/\[hide-inline name=\"(.*?)\".*?\](.*?)\[\/hide-inline\]/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;span class="hide-inline"&gt;&lt;button type="button" class="hide-button button--animated"&gt;'</span> . <span class="variable">$text</span>[<span class="number">1</span>] . <span class="string">'&lt;/button&gt;&lt;span class="hide-content"&gt;'</span> . <span class="variable">$text</span>[<span class="number">2</span>] . <span class="string">'&lt;/span&gt;&lt;/span&gt;'</span>;</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// hide-block</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hide_Block</span>(<span class="params"><span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/\[hide-block name=\"(.*?)\".*?\](.*?)\[\/hide-block\]/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;div class="hide-block"&gt;&lt;button type="button" class="hide-button button--animated"&gt;'</span> . <span class="variable">$text</span>[<span class="number">1</span>] . <span class="string">'&lt;/button&gt;&lt;div class="hide-content"&gt;'</span> . <span class="variable">$text</span>[<span class="number">2</span>] . <span class="string">'&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// hide-toggle</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hide_Toggle</span>(<span class="params"><span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/\[hide-toggle name=\"(.*?)\".*?\](.*?)\[\/hide-toggle\]/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;details class="toggle"&gt;&lt;summary class="toggle-button"&gt;'</span> . <span class="variable">$text</span>[<span class="number">1</span>] . <span class="string">'&lt;/summary&gt;&lt;div class="toggle-content"&gt;'</span> . <span class="variable">$text</span>[<span class="number">2</span>] . <span class="string">'&lt;/div&gt;&lt;/details&gt;'</span>;</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 复选框</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cheak_Box</span>(<span class="params"><span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/\[cb type=\"(.*?)\".*?\ checked=\"(.*?)"\](.*?)\[\/cb\]/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;div class="checkbox '</span>. <span class="variable">$text</span>[<span class="number">1</span>] .<span class="string">' checked"&gt;&lt;input type="checkbox" '</span>. <span class="variable">$text</span>[<span class="number">2</span>] .<span class="string">'&gt;'</span>. <span class="variable">$text</span>[<span class="number">3</span>] .<span class="string">'&lt;/div&gt;'</span>;</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 行内标签</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inline_Tag</span>(<span class="params"><span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/\[in-tag color=\"(.*?)\"](.*?)\[\/in-tag\]/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;span class="inline-tag '</span>. <span class="variable">$text</span>[<span class="number">1</span>] .<span class="string">'"&gt;'</span>. <span class="variable">$text</span>[<span class="number">2</span>] .<span class="string">'&lt;/span&gt;'</span>;</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 单选框-radio</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Bf_Radio</span>(<span class="params"><span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/\[radio color=\"(.*?)\".*?\ checked=\"(.*?)"\](.*?)\[\/radio\]/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">       <span class="keyword">return</span> <span class="string">'&lt;div class="checkbox '</span>. <span class="variable">$text</span>[<span class="number">1</span>] .<span class="string">' checked"&gt;&lt;input type="radio" '</span>. <span class="variable">$text</span>[<span class="number">2</span>] .<span class="string">'&gt;'</span>. <span class="variable">$text</span>[<span class="number">3</span>] .<span class="string">'&lt;/div&gt;'</span>;</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Bf_Mark</span>(<span class="params"><span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/\[label color=\"(.*?)\".*?\](.*?)\[\/label\]/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">       <span class="keyword">return</span> <span class="string">'&lt;mark class="hl-label '</span>. <span class="variable">$text</span>[<span class="number">1</span>] .<span class="string">'"&gt;'</span>. <span class="variable">$text</span>[<span class="number">2</span>] .<span class="string">'&lt;/mark&gt;'</span>;</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Font</span>(<span class="params"><span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/\[font size=\"(.*?)"\ color=\"(.*?)"\](.*?)\[\/font\]/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">       <span class="keyword">return</span> <span class="string">'&lt;font style="font-size: '</span>. <span class="variable">$text</span>[<span class="number">1</span>] .<span class="string">'px;color:'</span>. <span class="variable">$text</span>[<span class="number">2</span>] .<span class="string">'"&gt;'</span>. <span class="variable">$text</span>[<span class="number">3</span>] .<span class="string">'&lt;/font&gt;'</span>;</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ArtPlayer</span>(<span class="params"><span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/\[video title=\"(.*?)"\ url=\"(.*?)"\ container=\"(.*?)"\ subtitle=\"(.*?)"\ poster=\"(.*?)"\](.*?)\[\/video\]/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">            <span class="variable">$t</span> = <span class="title function_ invoke__">explode</span>(<span class="string">"&lt;br&gt;"</span>, <span class="variable">$text</span>[<span class="number">6</span>]);</span><br><span class="line">            <span class="keyword">for</span>(<span class="variable">$i</span>=<span class="number">0</span>;<span class="variable">$i</span>&lt;<span class="title function_ invoke__">count</span>(<span class="variable">$t</span>);<span class="variable">$i</span>++){</span><br><span class="line">        <span class="variable">$a</span>[] =  <span class="title function_ invoke__">explode</span>(<span class="string">"|"</span>, <span class="variable">$t</span>[<span class="variable">$i</span>]);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">for</span>(<span class="variable">$i</span>=<span class="number">0</span>;<span class="variable">$i</span>&lt;<span class="title function_ invoke__">count</span>(<span class="variable">$a</span>);<span class="variable">$i</span>++){</span><br><span class="line">        <span class="variable">$c</span>[<span class="variable">$i</span>][<span class="string">'time'</span>]=<span class="variable">$a</span>[<span class="variable">$i</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="variable">$c</span>[<span class="variable">$i</span>][<span class="string">'text'</span>]=<span class="variable">$a</span>[<span class="variable">$i</span>][<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">unset</span>(<span class="variable">$c</span>[<span class="variable">$i</span>][<span class="number">0</span>]);</span><br><span class="line">        <span class="keyword">unset</span>(<span class="variable">$c</span>[<span class="variable">$i</span>][<span class="number">3</span>]);</span><br><span class="line">        }</span><br><span class="line">        <span class="variable">$c</span>[<span class="number">0</span>][<span class="string">'text'</span>]==<span class="literal">null</span> ? <span class="variable">$highlight</span> = <span class="string">'[]'</span> : <span class="variable">$highlight</span> = <span class="title function_ invoke__">json_encode</span>(<span class="variable">$c</span>,JSON_NUMERIC_CHECK);</span><br><span class="line">        <span class="variable">$text</span>[<span class="number">4</span>] == <span class="string">' '</span>?<span class="variable">$tooltip</span> = <span class="string">'无字幕'</span> : <span class="variable">$tooltip</span> = <span class="string">'默认字幕'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'</span></span><br><span class="line"><span class="string">    &lt;div class="iframe_video artplayer artplayer-'</span>.<span class="variable">$text</span>[<span class="number">3</span>].<span class="string">'"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;script&gt;</span></span><br><span class="line"><span class="string">        var '</span>.<span class="variable">$text</span>[<span class="number">3</span>].<span class="string">' = new Artplayer({</span></span><br><span class="line"><span class="string">            container: ".artplayer-'</span>.<span class="variable">$text</span>[<span class="number">3</span>].<span class="string">'",</span></span><br><span class="line"><span class="string">            url: "'</span>.<span class="variable">$text</span>[<span class="number">2</span>].<span class="string">'",</span></span><br><span class="line"><span class="string">            title: "'</span>.<span class="variable">$text</span>[<span class="number">1</span>].<span class="string">'",</span></span><br><span class="line"><span class="string">            poster: "'</span>.<span class="variable">$text</span>[<span class="number">5</span>].<span class="string">'",</span></span><br><span class="line"><span class="string">            subtitle: {</span></span><br><span class="line"><span class="string">                url: "'</span>.<span class="variable">$text</span>[<span class="number">4</span>].<span class="string">'",</span></span><br><span class="line"><span class="string">            },            </span></span><br><span class="line"><span class="string">            volume: 0.5,</span></span><br><span class="line"><span class="string">            muted: false,</span></span><br><span class="line"><span class="string">            autoplay: false,</span></span><br><span class="line"><span class="string">            pip: true,</span></span><br><span class="line"><span class="string">            autoSize: true,</span></span><br><span class="line"><span class="string">            autoMini: false,</span></span><br><span class="line"><span class="string">            screenshot: true,</span></span><br><span class="line"><span class="string">            setting: true,</span></span><br><span class="line"><span class="string">            loop: true,</span></span><br><span class="line"><span class="string">            flip: true,</span></span><br><span class="line"><span class="string">            playbackRate: true,</span></span><br><span class="line"><span class="string">            aspectRatio: true,</span></span><br><span class="line"><span class="string">            fullscreen: true,</span></span><br><span class="line"><span class="string">            fullscreenWeb: true,</span></span><br><span class="line"><span class="string">            subtitleOffset: true,</span></span><br><span class="line"><span class="string">            miniProgressBar: true,</span></span><br><span class="line"><span class="string">            mutex: true,</span></span><br><span class="line"><span class="string">            backdrop: true,</span></span><br><span class="line"><span class="string">            playsInline: true,</span></span><br><span class="line"><span class="string">            autoPlayback: true,</span></span><br><span class="line"><span class="string">            theme: "#23ade5",</span></span><br><span class="line"><span class="string">            lang: navigator.language.toLowerCase(),</span></span><br><span class="line"><span class="string">            whitelist: ["*"],</span></span><br><span class="line"><span class="string">            moreVideoAttr: {</span></span><br><span class="line"><span class="string">                crossOrigin: "anonymous",</span></span><br><span class="line"><span class="string">            },</span></span><br><span class="line"><span class="string">            settings: [{</span></span><br><span class="line"><span class="string">                width: 200,</span></span><br><span class="line"><span class="string">                html: "字幕",</span></span><br><span class="line"><span class="string">                tooltip: "'</span>.<span class="variable">$tooltip</span>.<span class="string">'",</span></span><br><span class="line"><span class="string">                selector: [{</span></span><br><span class="line"><span class="string">                    html: "Display",</span></span><br><span class="line"><span class="string">                    tooltip: "显示",</span></span><br><span class="line"><span class="string">                    switch: true,</span></span><br><span class="line"><span class="string">                    onSwitch: function (item) {</span></span><br><span class="line"><span class="string">                        item.tooltip = item.switch ? "关闭" : "显示";</span></span><br><span class="line"><span class="string">                        '</span>.<span class="variable">$text</span>[<span class="number">3</span>].<span class="string">'.subtitle.show = !item.switch;</span></span><br><span class="line"><span class="string">                        return !item.switch;</span></span><br><span class="line"><span class="string">                    },</span></span><br><span class="line"><span class="string">                }],</span></span><br><span class="line"><span class="string">                onSelect: function(item) {</span></span><br><span class="line"><span class="string">                    art.subtitle.switch(item.url, {</span></span><br><span class="line"><span class="string">                        name: item.html,</span></span><br><span class="line"><span class="string">                    });</span></span><br><span class="line"><span class="string">                    return item.html;</span></span><br><span class="line"><span class="string">                },</span></span><br><span class="line"><span class="string">            }, ],</span></span><br><span class="line"><span class="string">            highlight: '</span>.<span class="variable">$highlight</span>.<span class="string">'</span></span><br><span class="line"><span class="string">        });</span></span><br><span class="line"><span class="string">    &lt;/script&gt;'</span>;</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 重写文章图片加载</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PostImage</span>(<span class="params"><span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace_callback</span>(<span class="string">'/&lt;img src=\"(.*?)"\ alt=\"(.*?)"\&gt;/ism'</span>, function (<span class="variable">$text</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;img title="'</span>.<span class="variable">$text</span>[<span class="number">2</span>].<span class="string">'" alt="'</span>.<span class="variable">$text</span>[<span class="number">2</span>].<span class="string">'" data-lazy-src="'</span>.<span class="variable">$text</span>[<span class="number">1</span>].<span class="string">'" src="'</span>.<span class="title function_ invoke__">GetLazyLoad</span>().<span class="string">'" /&gt;'</span>;</span><br><span class="line">    }, <span class="variable">$text</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">themeInit</span>(<span class="params"><span class="variable">$archive</span></span>) </span>{</span><br><span class="line">    <span class="keyword">if</span>(<span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;EnablePjax == <span class="string">"on"</span>){</span><br><span class="line">    <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;commentsAntiSpam = <span class="literal">false</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$archive</span>-&gt;<span class="title function_ invoke__">is</span>(<span class="string">'single'</span>)) {</span><br><span class="line">        <span class="variable">$archive</span>-&gt;content = <span class="title function_ invoke__">createCatalog</span>(<span class="variable">$archive</span>-&gt;content);</span><br><span class="line">        <span class="variable">$archive</span>-&gt;content = <span class="title function_ invoke__">ParseCode</span>(<span class="variable">$archive</span>-&gt;content);</span><br><span class="line">    }</span><br><span class="line">    <span class="variable">$loginStatus</span> = <span class="variable">$archive</span>-&gt;<span class="title function_ invoke__">widget</span>(<span class="string">'Widget_User'</span>)-&gt;<span class="title function_ invoke__">hasLogin</span>();</span><br><span class="line">    <span class="keyword">if</span>(<span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;siteKey !== <span class="string">""</span> &amp;&amp; <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;secretKey !==<span class="string">""</span> &amp;&amp; !<span class="variable">$loginStatus</span>){</span><br><span class="line">        <span class="title function_ invoke__">comments_filter</span>(<span class="variable">$archive</span>); </span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;hcaptchaSecretKey !== <span class="string">""</span> &amp;&amp; <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;hcaptchaAPIKey !== <span class="string">""</span> &amp;&amp; !<span class="variable">$loginStatus</span>) {</span><br><span class="line">        <span class="title function_ invoke__">hcaptcha_filter</span>(<span class="variable">$archive</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$archive</span>-&gt;<span class="title function_ invoke__">is</span>(<span class="string">'index'</span>)) {</span><br><span class="line">        <span class="comment">// echo '&lt;script src="'..'"&gt;&lt;/script&gt;';        </span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 判断时间区间</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 使用方法  if(timeZone($this-&gt;date-&gt;timeStamp)) echo 'ok';</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeZone</span>(<span class="params"><span class="variable">$from</span></span>)</span>{</span><br><span class="line"><span class="variable">$now</span> = <span class="keyword">new</span> <span class="title class_">Typecho_Date</span>(<span class="title class_">Typecho_Date</span>::<span class="title function_ invoke__">gmtTime</span>());</span><br><span class="line"><span class="keyword">return</span> <span class="variable">$now</span>-&gt;timeStamp - <span class="variable">$from</span> &lt; <span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 获取标签数目</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* 语法: &lt;?php echo tagsNum(); ?&gt;</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> integer</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tagsNum</span>(<span class="params"><span class="variable">$display</span> = <span class="literal">true</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$db</span> = <span class="title class_">Typecho_Db</span>::<span class="title function_ invoke__">get</span>();</span><br><span class="line">        <span class="variable">$total_tags</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchObject</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>(<span class="keyword">array</span>(<span class="string">'COUNT(mid)'</span> =&gt; <span class="string">'num'</span>))</span><br><span class="line">              -&gt;<span class="keyword">from</span>(<span class="string">'table.metas'</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">where</span>(<span class="string">'table.metas.type = ?'</span>, <span class="string">'tag'</span>))-&gt;num;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable">$display</span>) {</span><br><span class="line">            <span class="keyword">echo</span> <span class="variable">$total_tags</span>;</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">return</span> <span class="variable">$total_tags</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//获取Gravatar头像 QQ邮箱取用qq头像</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getGravatar</span>(<span class="params"><span class="variable">$email</span>,<span class="variable">$name</span>, <span class="variable">$comments_a</span>,<span class="variable">$s</span> = <span class="number">96</span>, <span class="variable">$d</span> = <span class="string">'mp'</span>, <span class="variable">$r</span> = <span class="string">'g'</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="title function_ invoke__">preg_match_all</span>(<span class="string">'/((\d)*)@qq.com/'</span>, <span class="variable">$email</span>, <span class="variable">$vai</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$vai</span>[<span class="string">'1'</span>][<span class="string">'0'</span>])) {</span><br><span class="line">    <span class="comment">// $hasGravatar = hasGravatar($email);</span></span><br><span class="line">    <span class="comment">// if($hasGravatar){</span></span><br><span class="line">        <span class="comment">// $url = 'https://gravatar.loli.net/avatar/';</span></span><br><span class="line">        <span class="variable">$url</span> = <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;GravatarSelect;</span><br><span class="line">        <span class="variable">$url</span> .= <span class="title function_ invoke__">md5</span>(<span class="title function_ invoke__">strtolower</span>(<span class="title function_ invoke__">trim</span>(<span class="variable">$email</span>)));</span><br><span class="line">        <span class="variable">$url</span> .= <span class="string">"?s=<span class="subst">$s</span>&amp;d=<span class="subst">$d</span>&amp;r=<span class="subst">$r</span>"</span>;</span><br><span class="line">        <span class="variable">$imga</span> = <span class="string">'&lt;img '</span>.<span class="variable">$comments_a</span>.<span class="string">' src="'</span>.<span class="title function_ invoke__">GetLazyLoad</span>().<span class="string">'" data-lazy-src="'</span>.<span class="variable">$url</span>.<span class="string">'" &gt;'</span>;</span><br><span class="line">    <span class="comment">// }else{</span></span><br><span class="line">    <span class="comment">//     $imga = '&lt;img avatar="'.$name.'" color '.$comments_a.'&gt;';</span></span><br><span class="line">    <span class="comment">//     }</span></span><br><span class="line">}<span class="keyword">else</span>{</span><br><span class="line">    <span class="variable">$qquser</span> = <span class="variable">$vai</span>[<span class="string">'1'</span>][<span class="string">'0'</span>];</span><br><span class="line">    <span class="variable">$db</span>=<span class="title class_">Typecho_Db</span>::<span class="title function_ invoke__">get</span>();</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title function_ invoke__">array_key_exists</span>(<span class="string">'qqk'</span>, <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>()-&gt;<span class="keyword">from</span>(<span class="string">'table.comments'</span>)))) {</span><br><span class="line">        <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="string">'ALTER TABLE `'</span>.<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">getPrefix</span>().<span class="string">'comments` ADD `qqk` varchar(64) DEFAULT NULL;'</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="variable">$dbk</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>(<span class="string">'qqk'</span>)-&gt;<span class="keyword">from</span>(<span class="string">'table.comments'</span>)-&gt;<span class="title function_ invoke__">where</span>(<span class="string">'mail=?'</span>,<span class="variable">$email</span>))[<span class="string">'qqk'</span>];</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$dbk</span> == <span class="literal">NULL</span>){</span><br><span class="line">        <span class="variable">$geturl</span> = <span class="string">'https://ptlogin2.qq.com/getface?&amp;imgtype=1&amp;uin='</span>.<span class="variable">$qquser</span>;</span><br><span class="line">        <span class="variable">$qqurl</span> = <span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$geturl</span>);</span><br><span class="line">        <span class="variable">$str1</span> = <span class="title function_ invoke__">explode</span>(<span class="string">'sdk&amp;k='</span>, <span class="variable">$qqurl</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$str1</span>[<span class="number">1</span>])){</span><br><span class="line">            <span class="variable">$str2</span> = <span class="title function_ invoke__">explode</span>(<span class="string">'&amp;t='</span>,<span class="variable">$str1</span>[<span class="number">1</span>]);</span><br><span class="line">            <span class="variable">$k</span> = <span class="variable">$str2</span>[<span class="number">0</span>];</span><br><span class="line">            <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">update</span>(<span class="string">'table.comments'</span>)-&gt;<span class="title function_ invoke__">rows</span>(<span class="keyword">array</span>(<span class="string">'qqk'</span> =&gt; <span class="variable">$k</span>))-&gt;<span class="title function_ invoke__">where</span>(<span class="string">'mail=?'</span>,<span class="variable">$email</span>));</span><br><span class="line">        }</span><br><span class="line">        <span class="variable">$url</span> = <span class="string">'https://q1.qlogo.cn/headimg_dl?dst_uin='</span>.<span class="variable">$qquser</span>.<span class="string">'&amp;spec=100'</span>;</span><br><span class="line">    }<span class="keyword">else</span>{</span><br><span class="line">        <span class="variable">$url</span> = <span class="string">'https://q1.qlogo.cn/g?b=qq&amp;k='</span>.<span class="variable">$dbk</span>.<span class="string">'&amp;s=100'</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="variable">$imga</span> = <span class="string">'&lt;img '</span>.<span class="variable">$comments_a</span>.<span class="string">' src="'</span>.<span class="title function_ invoke__">GetLazyLoad</span>().<span class="string">'" data-lazy-src="'</span>.<span class="variable">$url</span>.<span class="string">'" &gt;'</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">return</span>  <span class="variable">$imga</span>;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 获取浏览器信息</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBrowser</span>(<span class="params"><span class="variable">$agent</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/MSIE\s([^\s|;]+)/i'</span>, <span class="variable">$agent</span>, <span class="variable">$regs</span>)) {</span><br><span class="line">        <span class="variable">$outputer</span> = <span class="string">'&lt;i class="fab fa-internet-explorer"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Internet Explore'</span>;</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/FireFox\/([^\s]+)/i'</span>, <span class="variable">$agent</span>, <span class="variable">$regs</span>)) {</span><br><span class="line">      <span class="variable">$str1</span> = <span class="title function_ invoke__">explode</span>(<span class="string">'Firefox/'</span>, <span class="variable">$regs</span>[<span class="number">0</span>]);</span><br><span class="line">        <span class="variable">$outputer</span> = <span class="string">'&lt;i class="fab fa-firefox-browser"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;FireFox'</span>;</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/Maxthon([\d]*)\/([^\s]+)/i'</span>, <span class="variable">$agent</span>, <span class="variable">$regs</span>)) {</span><br><span class="line">      <span class="variable">$str1</span> = <span class="title function_ invoke__">explode</span>(<span class="string">'Maxthon/'</span>, <span class="variable">$agent</span>);</span><br><span class="line">        <span class="variable">$outputer</span> = <span class="string">'&lt;i class="iconfont icon-maxthon"&gt;&lt;/i&gt;&amp;nbsp遨游'</span>;</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'#360([a-zA-Z0-9.]+)#i'</span>, <span class="variable">$agent</span>, <span class="variable">$regs</span>)) {</span><br><span class="line"><span class="variable">$outputer</span> = <span class="string">'&lt;i class="iconfont icon-chrome"&gt;&lt;/i&gt;&amp;nbsp;360极速浏览器'</span>;</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/Edg([\d]*)\/([^\s]+)/i'</span>, <span class="variable">$agent</span>, <span class="variable">$regs</span>)) {</span><br><span class="line">        <span class="variable">$str1</span> = <span class="title function_ invoke__">explode</span>(<span class="string">'Edge/'</span>, <span class="variable">$regs</span>[<span class="number">0</span>]);</span><br><span class="line">        <span class="variable">$outputer</span> = <span class="string">'&lt;i class="fab fa-edge"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;MicroSoft Edge'</span>;</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/UC/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">              <span class="variable">$str1</span> = <span class="title function_ invoke__">explode</span>(<span class="string">'rowser/'</span>,  <span class="variable">$agent</span>);</span><br><span class="line">        <span class="variable">$outputer</span> = <span class="string">'&lt;i class="iconfont icon-UCliulanqi"&gt;&lt;/i&gt;&amp;nbsp;UC浏览器'</span>;</span><br><span class="line">    }  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/QQ/i'</span>, <span class="variable">$agent</span>, <span class="variable">$regs</span>)||<span class="title function_ invoke__">preg_match</span>(<span class="string">'/QQBrowser\/([^\s]+)/i'</span>, <span class="variable">$agent</span>, <span class="variable">$regs</span>)) {</span><br><span class="line">                  <span class="variable">$str1</span> = <span class="title function_ invoke__">explode</span>(<span class="string">'rowser/'</span>,  <span class="variable">$agent</span>);</span><br><span class="line">        <span class="variable">$outputer</span> = <span class="string">'&lt;i class="iconfont icon-QQliulanqi"&gt;&lt;/i&gt;&amp;nbsp;QQ浏览器'</span>;</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/UBrowser/i'</span>, <span class="variable">$agent</span>, <span class="variable">$regs</span>)) {</span><br><span class="line">              <span class="variable">$str1</span> = <span class="title function_ invoke__">explode</span>(<span class="string">'rowser/'</span>,  <span class="variable">$agent</span>);</span><br><span class="line">        <span class="variable">$outputer</span> = <span class="string">'&lt;i class="iconfont icon-UCliulanqi"&gt;&lt;/i&gt;&amp;nbsp;UC浏览器'</span>;</span><br><span class="line">    }  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/Opera[\s|\/]([^\s]+)|OPR/i'</span>, <span class="variable">$agent</span>, <span class="variable">$regs</span>)) {</span><br><span class="line">        <span class="variable">$outputer</span> = <span class="string">'&lt;i class="fab fa-opera"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Opera'</span>;</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/YaBrowser/i'</span>, <span class="variable">$agent</span>, <span class="variable">$regs</span>)) {</span><br><span class="line">         <span class="variable">$str1</span> = <span class="title function_ invoke__">explode</span>(<span class="string">'Version/'</span>,  <span class="variable">$agent</span>);</span><br><span class="line">        <span class="variable">$outputer</span> = <span class="string">'&lt;i class="fab fa-yandex-international"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Yandex'</span>;</span><br><span class="line">    }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/Quark/i'</span>, <span class="variable">$agent</span>, <span class="variable">$regs</span>)) {</span><br><span class="line">         <span class="variable">$str1</span> = <span class="title function_ invoke__">explode</span>(<span class="string">'Version/'</span>,  <span class="variable">$agent</span>);</span><br><span class="line">        <span class="variable">$outputer</span> = <span class="string">'&lt;i class="iconfont icon-quark"&gt;&lt;/i&gt;&amp;nbsp;Quark'</span>;</span><br><span class="line">    }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/XiaoMi/i'</span>, <span class="variable">$agent</span>, <span class="variable">$regs</span>)) {</span><br><span class="line"><span class="variable">$outputer</span> = <span class="string">'&lt;i class="iconfont icon-XiaoMi"&gt;&lt;/i&gt;&amp;nbsp;小米浏览器'</span>;}</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/Chrome([\d]*)\/([^\s]+)/i'</span>, <span class="variable">$agent</span>, <span class="variable">$regs</span>)) {</span><br><span class="line"><span class="variable">$str1</span> = <span class="title function_ invoke__">explode</span>(<span class="string">'Chrome/'</span>, <span class="variable">$agent</span>);</span><br><span class="line">        <span class="variable">$outputer</span> = <span class="string">'&lt;i class="fab fa-chrome""&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Google Chrome'</span>;</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/safari\/([^\s]+)/i'</span>, <span class="variable">$agent</span>, <span class="variable">$regs</span>)) {</span><br><span class="line">         <span class="variable">$str1</span> = <span class="title function_ invoke__">explode</span>(<span class="string">'Version/'</span>,  <span class="variable">$agent</span>);</span><br><span class="line">        <span class="variable">$outputer</span> = <span class="string">'&lt;i class="fab fa-safari"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Safari'</span>;</span><br><span class="line">    } </span><br><span class="line">    <span class="keyword">else</span>{</span><br><span class="line">        <span class="variable">$outputer</span> = <span class="string">'&lt;i class="fab fa-chrome"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Google Chrome'</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$outputer</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 获取操作系统信息</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getOs</span>(<span class="params"><span class="variable">$agent</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$os</span> = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/win/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/nt 6.0/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="iconfont icon-windows"&gt;&lt;/i&gt;&amp;nbsp;Windows Vista&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/nt 6.1/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="iconfont icon-windows"&gt;&lt;/i&gt;&amp;nbsp;Windows 7&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/nt 6.2/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-windows"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Windows 8&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span>(<span class="title function_ invoke__">preg_match</span>(<span class="string">'/nt 6.3/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-windows"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Windows 8.1&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span>(<span class="title function_ invoke__">preg_match</span>(<span class="string">'/nt 5.1/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="iconfont icon-windows"&gt;&lt;/i&gt;&amp;nbsp;Windows XP&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/nt 10.0/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-windows"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Windows 10&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/nt 11.0/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-windows"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Windows 11&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        }<span class="keyword">else</span>{</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-windows"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Windows X64&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        }</span><br><span class="line">    } </span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/android/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/android 9/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-android"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Android Pie&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/android 4/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-android"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Android ICS&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/android 5/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-android"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Android Lollipop&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/android 6/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-android"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Android M&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/android 7/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-android"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Android Nougat&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/android 8/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-android"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Android Oreo&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/android 10/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-android"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Android Q&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/android 11/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-android"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Android 11&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/android 12/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-android"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Android 12&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/android 13/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-android"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Android 13&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">        }        </span><br><span class="line">        <span class="keyword">else</span>{</span><br><span class="line">            <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-android"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Android&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">    }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/ubuntu/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">        <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-ubuntu"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Ubuntu&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">    }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/Arch/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">        <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="iconfont icon-Arch-Linux"&gt;&lt;/i&gt;&amp;nbsp;Arch Linux&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">    }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/manjaro/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">        <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="iconfont icon-manjaro"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Manjaro&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">    }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/debian/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">        <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="iconfont icon-debianos"&gt;&lt;/i&gt;&amp;nbsp;Debian&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">    }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/linux/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">        <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-linux"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Linux&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">    }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/iPad/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">        <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-apple"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;iOS(iPad)&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">    }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/iPhone/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">        <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-apple"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;iOS(iPhone)&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">    }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/mac/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">        <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-apple"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;MacOS&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">    }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/fusion/i'</span>, <span class="variable">$agent</span>)) {</span><br><span class="line">        <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-android"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Android&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="variable">$os</span> = <span class="string">'&amp;nbsp;&amp;nbsp;&lt;i class="fab fa-linux"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;Linux&amp;nbsp;/&amp;nbsp;'</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$os</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">commentRank</span>(<span class="params"><span class="variable">$widget</span>, <span class="variable">$email</span> = <span class="literal">NULL</span></span>)      </span></span><br><span class="line"><span class="function"></span>{      </span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$email</span>)) <span class="keyword">return</span>;      </span><br><span class="line">    <span class="variable">$txt</span> = <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;CustomAuthenticated;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$txt</span> == <span class="string">""</span>){</span><br><span class="line">        <span class="variable">$txt</span> = <span class="string">'x||x'</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="variable">$string_arr</span> = <span class="title function_ invoke__">explode</span>(<span class="string">"\r\n"</span>, <span class="variable">$txt</span>);</span><br><span class="line">    <span class="variable">$long</span> = <span class="title function_ invoke__">count</span>(<span class="variable">$string_arr</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="variable">$long</span>; <span class="variable">$i</span>++) {</span><br><span class="line">        <span class="variable">$mailList</span>[] =  <span class="title function_ invoke__">explode</span>(<span class="string">"||"</span>, <span class="variable">$string_arr</span>[<span class="variable">$i</span>])[<span class="number">0</span>];</span><br><span class="line">        <span class="variable">$authList</span>[] =  <span class="title function_ invoke__">explode</span>(<span class="string">"||"</span>, <span class="variable">$string_arr</span>[<span class="variable">$i</span>])[<span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line">    <span class="variable">$all</span> = <span class="title function_ invoke__">array_combine</span>(<span class="variable">$mailList</span>,<span class="variable">$authList</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$widget</span>-&gt;authorId == <span class="variable">$widget</span>-&gt;ownerId) {</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;span class="vtag vmaster"&gt;博主&lt;/span&gt;'</span>;      </span><br><span class="line">    } </span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">in_array</span>(<span class="variable">$email</span>, <span class="variable">$mailList</span>)) {</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;span class="vtag vauth"&gt;'</span>.<span class="variable">$all</span>[<span class="variable">$email</span>].<span class="string">'&lt;/span&gt;'</span>;</span><br><span class="line">      </span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;span class="vtag vvisitor"&gt;访客&lt;/span&gt;'</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取评论的锚点链接</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_comment_at</span>(<span class="params"><span class="variable">$coid</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$db</span>   = <span class="title class_">Typecho_Db</span>::<span class="title function_ invoke__">get</span>();</span><br><span class="line">    <span class="variable">$prow</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>(<span class="string">'parent,status'</span>)-&gt;<span class="keyword">from</span>(<span class="string">'table.comments'</span>)</span><br><span class="line">        -&gt;<span class="title function_ invoke__">where</span>(<span class="string">'coid = ?'</span>, <span class="variable">$coid</span>));<span class="comment">//当前评论</span></span><br><span class="line">    <span class="variable">$mail</span> = <span class="string">""</span>;</span><br><span class="line">    <span class="variable">$parent</span> = @<span class="variable">$prow</span>[<span class="string">'parent'</span>];</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$parent</span> != <span class="string">"0"</span>) {<span class="comment">//子评论</span></span><br><span class="line">        <span class="variable">$arow</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>(<span class="string">'author,status,mail'</span>)-&gt;<span class="keyword">from</span>(<span class="string">'table.comments'</span>)</span><br><span class="line">            -&gt;<span class="title function_ invoke__">where</span>(<span class="string">'coid = ?'</span>, <span class="variable">$parent</span>));<span class="comment">//查询该条评论的父评论的信息</span></span><br><span class="line">        @<span class="variable">$author</span> = @<span class="variable">$arow</span>[<span class="string">'author'</span>];<span class="comment">//作者名称</span></span><br><span class="line">        <span class="variable">$mail</span> = @<span class="variable">$arow</span>[<span class="string">'mail'</span>];</span><br><span class="line">        <span class="keyword">if</span>(@<span class="variable">$author</span> &amp;&amp; <span class="variable">$arow</span>[<span class="string">'status'</span>] == <span class="string">"approved"</span>){<span class="comment">//父评论作者存在且父评论已经审核通过</span></span><br><span class="line">            <span class="keyword">if</span> (@<span class="variable">$prow</span>[<span class="string">'status'</span>] == <span class="string">"waiting"</span>){</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">'&lt;p class="commentReview"&gt;（评论审核中）)&lt;/p&gt;'</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">'&lt;a onclick="b(this);return false;" href="#comment-'</span> . <span class="variable">$parent</span> . <span class="string">'"&gt;@'</span> . <span class="variable">$author</span> . <span class="string">'&lt;/a&gt;'</span>;</span><br><span class="line">        }<span class="keyword">else</span>{<span class="comment">//父评论作者不存在或者父评论没有审核通过</span></span><br><span class="line">            <span class="keyword">if</span> (@<span class="variable">$prow</span>[<span class="string">'status'</span>] == <span class="string">"waiting"</span>){</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">'&lt;p class="commentReview"&gt;（评论审核中）)&lt;/p&gt;'</span>;</span><br><span class="line">            }<span class="keyword">else</span>{</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">''</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    } <span class="keyword">else</span> {<span class="comment">//母评论，无需输出锚点链接</span></span><br><span class="line">        <span class="keyword">if</span> (@<span class="variable">$prow</span>[<span class="string">'status'</span>] == <span class="string">"waiting"</span>){</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">'&lt;p class="commentReview"&gt;（评论审核中）)&lt;/p&gt;'</span>;</span><br><span class="line">        }<span class="keyword">else</span>{</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">''</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 重写评论显示函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">threadedComments</span>(<span class="params"><span class="variable">$comments</span>, <span class="variable">$options</span></span>) </span>{</span><br><span class="line">    <span class="variable">$commentClass</span> = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$comments</span>-&gt;authorId) {</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$comments</span>-&gt;authorId == <span class="variable">$comments</span>-&gt;ownerId) {</span><br><span class="line">            <span class="variable">$commentClass</span> .= <span class="string">' comment-by-author'</span>;</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="variable">$commentClass</span> .= <span class="string">' comment-by-user'</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="variable">$commentLevelClass</span> = <span class="variable">$comments</span>-&gt;levels &gt; <span class="number">0</span> ? <span class="string">' comment-child'</span> : <span class="string">' comment-parent'</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;li id=<span class="string">"li-&lt;?php <span class="subst">$comments</span>-&gt;theId(); ?&gt;"</span> <span class="class"><span class="keyword">class</span>="<span class="title">comment</span>-<span class="title">body</span>&lt;?<span class="title">php</span> </span></span><br><span class="line"><span class="class"><span class="title">if</span> ($<span class="title">comments</span>-&gt;<span class="title">levels</span> &gt; 0) </span>{</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">' comment-child'</span>;</span><br><span class="line">    <span class="variable">$comments</span>-&gt;<span class="title function_ invoke__">levelsAlt</span>(<span class="string">' comment-level-odd'</span>, <span class="string">' comment-level-even'</span>);</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">' comment-parent'</span>;</span><br><span class="line">}</span><br><span class="line"><span class="variable">$comments</span>-&gt;<span class="title function_ invoke__">alt</span>(<span class="string">' comment-odd'</span>, <span class="string">' comment-even'</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$commentClass</span>;</span><br><span class="line"><span class="meta">?&gt;</span><span class="string">"&gt;</span></span><br><span class="line"><span class="string">    &lt;div id="</span><span class="meta">&lt;?php</span> <span class="variable">$comments</span>-&gt;<span class="title function_ invoke__">theId</span>(); <span class="meta">?&gt;</span><span class="string">"&gt;</span></span><br><span class="line"><span class="string">        &lt;div class="</span>comment-author<span class="string">"&gt;</span></span><br><span class="line"><span class="string">        &lt;?php <span class="subst">$email</span>=<span class="subst">$comments</span>-&gt;mail;<span class="subst">$name</span>=<span class="subst">$comments</span>-&gt;author; <span class="subst">$comments_a</span> = 'class="</span>vimg<span class="string">" style="</span>border-radius: <span class="number">50</span>%;<span class="string">"';echo getGravatar(<span class="subst">$email</span>,<span class="subst">$name</span>,<span class="subst">$comments_a</span>);?&gt;</span></span><br><span class="line"><span class="string">            &lt;cite class="</span>vnick<span class="string">"&gt;&lt;?php <span class="subst">$comments</span>-&gt;author(); ?&gt;&lt;/cite&gt;</span></span><br><span class="line"><span class="string">            &lt;?php commentRank(<span class="subst">$comments</span>, <span class="subst">$comments</span>-&gt;mail); ?&gt;</span></span><br><span class="line"><span class="string">            </span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;div class="</span>vhead<span class="string">"&gt;</span></span><br><span class="line"><span class="string">            &lt;b&gt;&lt;?php <span class="subst">$parentMail</span> = get_comment_at(<span class="subst">$comments</span>-&gt;coid)?&gt;&lt;?php echo <span class="subst">$parentMail</span>;?&gt;&lt;/b&gt;</span></span><br><span class="line"><span class="string">            &lt;a class="</span>vtime<span class="string">" href="</span><span class="meta">&lt;?php</span> <span class="variable">$comments</span>-&gt;<span class="title function_ invoke__">permalink</span>(); <span class="meta">?&gt;</span><span class="string">"&gt;&lt;?php <span class="subst">$comments</span>-&gt;date('Y-m-d H:i'); ?&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;?php if(Helper::options()-&gt;CloseComments == 'off'): ?&gt;</span></span><br><span class="line"><span class="string">            &lt;span class="</span>comment-reply<span class="string">"&gt;&lt;?php <span class="subst">$comments</span>-&gt;reply(); ?&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">            &lt;?php endif ?&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;div class="</span>comment-content<span class="string">"&gt;&lt;?php <span class="subst">$comments</span>-&gt;content(); ?&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;span class="</span>comment-ua<span class="string">"&gt;&lt;?php getOs(<span class="subst">$comments</span>-&gt;agent); ?&gt;&lt;?php getBrowser(<span class="subst">$comments</span>-&gt;agent); ?&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;?php if (<span class="subst">$comments</span>-&gt;children) { ?&gt;</span></span><br><span class="line"><span class="string">    &lt;div class="</span>comment-children<span class="string">"&gt;</span></span><br><span class="line"><span class="string">        &lt;?php <span class="subst">$comments</span>-&gt;threadedComments(<span class="subst">$options</span>); ?&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;?php } ?&gt;</span></span><br><span class="line"><span class="string">&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;?php } </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">// 主页封面</span></span><br><span class="line"><span class="string">function img_postthemb(<span class="subst">$thiz</span>,<span class="subst">$default_img</span>){</span></span><br><span class="line"><span class="string">        <span class="subst">$content</span> = <span class="subst">$thiz</span>-&gt;content;</span></span><br><span class="line"><span class="string">        <span class="subst">$ret</span> = preg_match("</span>/\&lt;img.*?src\=\<span class="string">"(.*?)\"[^&gt;]*&gt;/i"</span>, <span class="variable">$content</span>, <span class="variable">$thumbUrl</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable">$ret</span> === <span class="number">1</span> &amp;&amp; <span class="title function_ invoke__">count</span>(<span class="variable">$thumbUrl</span>) == <span class="number">2</span>){</span><br><span class="line">                <span class="keyword">return</span> <span class="variable">$thumbUrl</span>[<span class="number">1</span>];</span><br><span class="line">        }<span class="keyword">else</span>{</span><br><span class="line">                <span class="keyword">return</span> <span class="variable">$default_img</span>=<span class="string">"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"</span>;</span><br><span class="line">         }         </span><br><span class="line">} </span><br><span class="line">   </span><br><span class="line"><span class="comment">//  输出标签  </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printTag</span>(<span class="params"><span class="variable">$that</span></span>) </span>{ <span class="meta">?&gt;</span></span><br><span class="line">        <span class="meta">&lt;?php</span> <span class="keyword">if</span> (<span class="title function_ invoke__">count</span>(<span class="variable">$that</span>-&gt;tags) &gt; <span class="number">0</span>): <span class="meta">?&gt;</span></span><br><span class="line">            <span class="meta">&lt;?php</span> <span class="keyword">foreach</span>( <span class="variable">$that</span>-&gt;tags <span class="keyword">as</span> <span class="variable">$tags</span>): <span class="meta">?&gt;</span></span><br><span class="line">            &lt;a href=<span class="string">"&lt;?php print(<span class="subst">$tags</span>['permalink']) ?&gt;"</span> <span class="class"><span class="keyword">class</span>="<span class="title">post</span>-<span class="title">meta__tags</span>"&gt;&lt;<span class="title">span</span>&gt;&lt;?<span class="title">php</span> <span class="title">print</span>($<span class="title">tags</span>['<span class="title">name</span>']) ?&gt;&lt;/<span class="title">span</span>&gt;&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">            &lt;?<span class="title">php</span> <span class="title">endforeach</span>;?&gt;</span></span><br><span class="line"><span class="class">        &lt;?<span class="title">php</span> <span class="title">else</span>: ?&gt;</span></span><br><span class="line"><span class="class">            &lt;<span class="title">a</span> <span class="title">class</span>="<span class="title">post</span>-<span class="title">meta__tags</span>"&gt;&lt;<span class="title">span</span>&gt;无标签&lt;/<span class="title">span</span>&gt;&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;?<span class="title">php</span> <span class="title">endif</span>;?&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> }</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">//当前人数</span></span><br><span class="line"><span class="class"><span class="title">function</span> <span class="title">onlinePeople</span>()</span>{</span><br><span class="line">   <span class="variable">$online_log</span> = <span class="string">"usr/themes/butterfly/online.dat"</span>; <span class="comment">//保存人数的文件到根目录,</span></span><br><span class="line">   <span class="variable">$timeout</span> = <span class="number">30</span>;<span class="comment">//30秒内没动作者,认为掉线</span></span><br><span class="line">   <span class="keyword">if</span>(!<span class="title function_ invoke__">file_exists</span>(<span class="variable">$online_log</span>) ){</span><br><span class="line">       <span class="title function_ invoke__">fopen</span>(<span class="variable">$online_log</span>, <span class="string">"w"</span>);</span><br><span class="line">   }</span><br><span class="line">   <span class="variable">$entries</span> = <span class="title function_ invoke__">file</span>(<span class="variable">$online_log</span>);</span><br><span class="line">   <span class="variable">$temp</span> = <span class="keyword">array</span>();</span><br><span class="line">   <span class="keyword">for</span> (<span class="variable">$i</span>=<span class="number">0</span>;<span class="variable">$i</span>&lt;<span class="title function_ invoke__">count</span>(<span class="variable">$entries</span>);<span class="variable">$i</span>++){</span><br><span class="line">       <span class="variable">$entry</span> = <span class="title function_ invoke__">explode</span>(<span class="string">","</span>,<span class="title function_ invoke__">trim</span>(<span class="variable">$entries</span>[<span class="variable">$i</span>]));</span><br><span class="line">       <span class="keyword">if</span>((<span class="variable">$entry</span>[<span class="number">0</span>] != <span class="title function_ invoke__">getenv</span>(<span class="string">'REMOTE_ADDR'</span>)) &amp;&amp; (<span class="variable">$entry</span>[<span class="number">1</span>] &gt; <span class="title function_ invoke__">time</span>())) {</span><br><span class="line">           <span class="title function_ invoke__">array_push</span>(<span class="variable">$temp</span>,<span class="variable">$entry</span>[<span class="number">0</span>].<span class="string">","</span>.<span class="variable">$entry</span>[<span class="number">1</span>].<span class="string">"\n"</span>); <span class="comment">//取出其他浏览者的信息,并去掉超时者,保存进$temp</span></span><br><span class="line">           }</span><br><span class="line">   }</span><br><span class="line">   <span class="title function_ invoke__">array_push</span>(<span class="variable">$temp</span>,<span class="title function_ invoke__">getenv</span>(<span class="string">'REMOTE_ADDR'</span>).<span class="string">","</span>.(<span class="title function_ invoke__">time</span>() + (<span class="variable">$timeout</span>)).<span class="string">"\n"</span>); <span class="comment">//更新浏览者的时间</span></span><br><span class="line">   <span class="variable">$slzxrs</span> = <span class="title function_ invoke__">count</span>(<span class="variable">$temp</span>); <span class="comment">//计算在线人数</span></span><br><span class="line">   <span class="variable">$entries</span> = <span class="title function_ invoke__">implode</span>(<span class="string">""</span>,<span class="variable">$temp</span>);</span><br><span class="line">    <span class="comment">//写入文件</span></span><br><span class="line">    <span class="variable">$fp</span> = <span class="title function_ invoke__">fopen</span>(<span class="variable">$online_log</span>,<span class="string">"w"</span>);</span><br><span class="line">    <span class="title function_ invoke__">flock</span>(<span class="variable">$fp</span>,LOCK_EX); <span class="comment">//flock() 不能在NFS以及其他的一些网络文件系统中正常工作</span></span><br><span class="line">    <span class="title function_ invoke__">fputs</span>(<span class="variable">$fp</span>,<span class="variable">$entries</span>);</span><br><span class="line">    <span class="title function_ invoke__">flock</span>(<span class="variable">$fp</span>,LOCK_UN);</span><br><span class="line">    <span class="title function_ invoke__">fclose</span>(<span class="variable">$fp</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$slzxrs</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 无插件阅读数</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_post_view</span>(<span class="params"><span class="variable">$archive</span></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$db</span> = <span class="title class_">Typecho_Db</span>::<span class="title function_ invoke__">get</span>();</span><br><span class="line">    <span class="variable">$cid</span> = <span class="variable">$archive</span>-&gt;cid;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title function_ invoke__">array_key_exists</span>(<span class="string">'views'</span>, <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>()-&gt;<span class="keyword">from</span>(<span class="string">'table.contents'</span>)))) {</span><br><span class="line">        <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="string">'ALTER TABLE `'</span>.<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">getPrefix</span>().<span class="string">'contents` ADD `views` INT(10) DEFAULT 0;'</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="variable">$exist</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>(<span class="string">'views'</span>)-&gt;<span class="keyword">from</span>(<span class="string">'table.contents'</span>)-&gt;<span class="title function_ invoke__">where</span>(<span class="string">'cid = ?'</span>, <span class="variable">$cid</span>))[<span class="string">'views'</span>];</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$archive</span>-&gt;<span class="title function_ invoke__">is</span>(<span class="string">'single'</span>)) {</span><br><span class="line">        <span class="variable">$cookie</span> = <span class="title class_">Typecho_Cookie</span>::<span class="title function_ invoke__">get</span>(<span class="string">'contents_views'</span>);</span><br><span class="line">        <span class="variable">$cookie</span> = <span class="variable">$cookie</span> ? <span class="title function_ invoke__">explode</span>(<span class="string">','</span>, <span class="variable">$cookie</span>) : <span class="keyword">array</span>();</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title function_ invoke__">in_array</span>(<span class="variable">$cid</span>, <span class="variable">$cookie</span>)) {</span><br><span class="line">            <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">update</span>(<span class="string">'table.contents'</span>)</span><br><span class="line">                -&gt;<span class="title function_ invoke__">rows</span>(<span class="keyword">array</span>(<span class="string">'views'</span> =&gt; (<span class="keyword">int</span>)<span class="variable">$exist</span>+<span class="number">1</span>))</span><br><span class="line">                -&gt;<span class="title function_ invoke__">where</span>(<span class="string">'cid = ?'</span>, <span class="variable">$cid</span>));</span><br><span class="line">            <span class="variable">$exist</span> = (<span class="keyword">int</span>)<span class="variable">$exist</span>+<span class="number">1</span>;</span><br><span class="line">            <span class="title function_ invoke__">array_push</span>(<span class="variable">$cookie</span>, <span class="variable">$cid</span>);</span><br><span class="line">            <span class="variable">$cookie</span> = <span class="title function_ invoke__">implode</span>(<span class="string">','</span>, <span class="variable">$cookie</span>);</span><br><span class="line">            <span class="title class_">Typecho_Cookie</span>::<span class="title function_ invoke__">set</span>(<span class="string">'contents_views'</span>, <span class="variable">$cookie</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$exist</span> == <span class="number">0</span> ? <span class="string">'0'</span>:<span class="string">' '</span>.<span class="variable">$exist</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//总访问量</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">theAllViews</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="variable">$db</span> = <span class="title class_">Typecho_Db</span>::<span class="title function_ invoke__">get</span>();</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title function_ invoke__">array_key_exists</span>(<span class="string">'views'</span>, <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>()-&gt;<span class="keyword">from</span>(<span class="string">'table.contents'</span>)))) {</span><br><span class="line">        <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="string">'ALTER TABLE `'</span>.<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">getPrefix</span>().<span class="string">'contents` ADD `views` INT(10) DEFAULT 0;'</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="variable">$row</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchAll</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>(<span class="string">'SUM(views)'</span>)-&gt;<span class="keyword">from</span>(<span class="string">'table.contents'</span>));</span><br><span class="line">    <span class="keyword">echo</span> <span class="title function_ invoke__">array_values</span>(<span class="variable">$row</span>[<span class="number">0</span>])[<span class="number">0</span>];</span><br><span class="line">}</span><br><span class="line"><span class="comment">//  回复可见       </span></span><br><span class="line"><span class="title class_">Typecho_Plugin</span>::<span class="title function_ invoke__">factory</span>(<span class="string">'Widget_Abstract_Contents'</span>)-&gt;excerptEx = <span class="keyword">array</span>(<span class="string">'myyodux'</span>,<span class="string">'one'</span>);</span><br><span class="line"><span class="title class_">Typecho_Plugin</span>::<span class="title function_ invoke__">factory</span>(<span class="string">'Widget_Abstract_Contents'</span>)-&gt;contentEx = <span class="keyword">array</span>(<span class="string">'myyodux'</span>,<span class="string">'one'</span>);</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myyodux</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">one</span>(<span class="params"><span class="variable">$con</span>,<span class="variable">$obj</span>,<span class="variable">$text</span></span>)</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">      <span class="variable">$text</span> = <span class="keyword">empty</span>(<span class="variable">$text</span>)?<span class="variable">$con</span>:<span class="variable">$text</span>;</span><br><span class="line">      <span class="keyword">if</span>(!<span class="variable">$obj</span>-&gt;<span class="title function_ invoke__">is</span>(<span class="string">'single'</span>)){</span><br><span class="line">      <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace</span>(<span class="string">"/\[hide\](.*?)\[\/hide\]/sm"</span>,<span class="string">''</span>,<span class="variable">$text</span>);</span><br><span class="line">    <span class="comment">//   $text = preg_replace("/\n\s*){3,}/sm",' ',$text);</span></span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">return</span> <span class="variable">$text</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 显示上一篇</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* 如果没有下一篇,返回null</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">thePrevCid</span>(<span class="params"><span class="variable">$widget</span>, <span class="variable">$default</span> = <span class="literal">NULL</span></span>) </span>{</span><br><span class="line">  <span class="variable">$db</span> = <span class="title class_">Typecho_Db</span>::<span class="title function_ invoke__">get</span>();</span><br><span class="line">  <span class="variable">$sql</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>()-&gt;<span class="keyword">from</span>(<span class="string">'table.contents'</span>)</span><br><span class="line">  -&gt;<span class="title function_ invoke__">where</span>(<span class="string">'table.contents.created &lt; ?'</span>, <span class="variable">$widget</span>-&gt;created)</span><br><span class="line">  -&gt;<span class="title function_ invoke__">where</span>(<span class="string">'table.contents.status = ?'</span>, <span class="string">'publish'</span>)</span><br><span class="line">  -&gt;<span class="title function_ invoke__">where</span>(<span class="string">'table.contents.type = ?'</span>, <span class="variable">$widget</span>-&gt;type)</span><br><span class="line">  -&gt;<span class="title function_ invoke__">where</span>(<span class="string">'table.contents.password IS NULL'</span>)</span><br><span class="line">  -&gt;<span class="title function_ invoke__">order</span>(<span class="string">'table.contents.created'</span>, <span class="title class_">Typecho_Db</span>::<span class="variable constant_">SORT_DESC</span>)</span><br><span class="line">  -&gt;<span class="title function_ invoke__">limit</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="variable">$content</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$sql</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="variable">$content</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$content</span>[<span class="string">"cid"</span>];</span><br><span class="line">  } <span class="keyword">else</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$default</span>;</span><br><span class="line">  }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 获取下一篇文章mid</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* 如果没有下一篇,返回null</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">theNextCid</span>(<span class="params"><span class="variable">$widget</span>, <span class="variable">$default</span> = <span class="literal">NULL</span></span>) </span>{</span><br><span class="line">  <span class="variable">$db</span> = <span class="title class_">Typecho_Db</span>::<span class="title function_ invoke__">get</span>();</span><br><span class="line">  <span class="variable">$sql</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>()-&gt;<span class="keyword">from</span>(<span class="string">'table.contents'</span>)</span><br><span class="line">  -&gt;<span class="title function_ invoke__">where</span>(<span class="string">'table.contents.created &gt; ?'</span>, <span class="variable">$widget</span>-&gt;created)</span><br><span class="line">  -&gt;<span class="title function_ invoke__">where</span>(<span class="string">'table.contents.status = ?'</span>, <span class="string">'publish'</span>)</span><br><span class="line">  -&gt;<span class="title function_ invoke__">where</span>(<span class="string">'table.contents.type = ?'</span>, <span class="variable">$widget</span>-&gt;type)</span><br><span class="line">  -&gt;<span class="title function_ invoke__">where</span>(<span class="string">'table.contents.password IS NULL'</span>)</span><br><span class="line">  -&gt;<span class="title function_ invoke__">order</span>(<span class="string">'table.contents.created'</span>, <span class="title class_">Typecho_Db</span>::<span class="variable constant_">SORT_ASC</span>)</span><br><span class="line">  -&gt;<span class="title function_ invoke__">limit</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="variable">$content</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$sql</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="variable">$content</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$content</span>[<span class="string">"cid"</span>];</span><br><span class="line">  } <span class="keyword">else</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$default</span>;</span><br><span class="line">  }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用博主最近文章更新时间</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_last_update</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="variable">$num</span> = <span class="string">'1'</span>;</span><br><span class="line">    <span class="variable">$type</span> = <span class="string">'post'</span>;</span><br><span class="line">    <span class="variable">$status</span> = <span class="string">'publish'</span>;</span><br><span class="line">    <span class="variable">$now</span> = <span class="title function_ invoke__">time</span>();</span><br><span class="line">    <span class="variable">$db</span> = <span class="title class_">Typecho_Db</span>::<span class="title function_ invoke__">get</span>();</span><br><span class="line">    <span class="variable">$prefix</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">getPrefix</span>();</span><br><span class="line">    <span class="variable">$create</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>(<span class="string">'created'</span>)-&gt;<span class="keyword">from</span>(<span class="string">'table.contents'</span>)-&gt;<span class="title function_ invoke__">where</span>(<span class="string">'table.contents.type=? and status=?'</span>,<span class="variable">$type</span>,<span class="variable">$status</span>)-&gt;<span class="title function_ invoke__">order</span>(<span class="string">'created'</span>,<span class="title class_">Typecho_Db</span>::<span class="variable constant_">SORT_DESC</span>)-&gt;<span class="title function_ invoke__">limit</span>(<span class="variable">$num</span>));</span><br><span class="line">    <span class="variable">$update</span> = <span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span>(<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span>(<span class="string">'modified'</span>)-&gt;<span class="keyword">from</span>(<span class="string">'table.contents'</span>)-&gt;<span class="title function_ invoke__">where</span>(<span class="string">'table.contents.type=? and status=?'</span>,<span class="variable">$type</span>,<span class="variable">$status</span>)-&gt;<span class="title function_ invoke__">order</span>(<span class="string">'modified'</span>,<span class="title class_">Typecho_Db</span>::<span class="variable constant_">SORT_DESC</span>)-&gt;<span class="title function_ invoke__">limit</span>(<span class="variable">$num</span>));</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$create</span>&gt;=<span class="variable">$update</span>){</span><br><span class="line">      <span class="keyword">echo</span> <span class="title class_">Typecho_I18n</span>::<span class="title function_ invoke__">dateWord</span>(<span class="keyword">isset</span>(<span class="variable">$create</span>[<span class="string">'created'</span>]), <span class="variable">$now</span>);</span><br><span class="line">    }<span class="keyword">else</span>{</span><br><span class="line">        <span class="variable">$lastday</span> = <span class="title function_ invoke__">floor</span>(<span class="title function_ invoke__">date</span>(<span class="variable">$now</span>-<span class="variable">$update</span>[<span class="string">'modified'</span>])/<span class="number">86400</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable">$lastday</span>&gt;<span class="number">365</span>){<span class="variable">$lastyear</span> = <span class="title function_ invoke__">floor</span>(<span class="title function_ invoke__">date</span>(<span class="variable">$now</span>-<span class="variable">$update</span>[<span class="string">'modified'</span>])/<span class="number">30758400</span>);<span class="keyword">echo</span> <span class="variable">$lastyear</span> . <span class="string">" 年前"</span> ;</span><br><span class="line">        }  <span class="keyword">elseif</span>(<span class="variable">$lastday</span> &gt; <span class="number">30</span>){<span class="variable">$lastmom</span> = <span class="title function_ invoke__">floor</span>(<span class="title function_ invoke__">date</span>(<span class="variable">$now</span>-<span class="variable">$update</span>[<span class="string">'modified'</span>])/<span class="number">2592000</span>);<span class="keyword">echo</span> <span class="variable">$lastmom</span> .<span class="string">" 个月前"</span> ;</span><br><span class="line">        }<span class="keyword">elseif</span>(<span class="variable">$lastday</span> &lt; <span class="number">1</span>){<span class="variable">$lasthour</span> = <span class="title function_ invoke__">floor</span>(<span class="title function_ invoke__">date</span>(<span class="variable">$now</span>-<span class="variable">$update</span>[<span class="string">'modified'</span>])/<span class="number">3600</span>);</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable">$lasthour</span>&lt;<span class="number">1</span>){<span class="variable">$lastmin</span> = <span class="title function_ invoke__">floor</span>(<span class="title function_ invoke__">date</span>(<span class="variable">$now</span>-<span class="variable">$update</span>[<span class="string">'modified'</span>])/<span class="number">60</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="variable">$lastmin</span> &lt; <span class="number">1</span>){<span class="variable">$lastsecd</span> = <span class="title function_ invoke__">floor</span>(<span class="title function_ invoke__">date</span>(<span class="variable">$now</span>-<span class="variable">$update</span>[<span class="string">'modified'</span>])); <span class="keyword">echo</span> <span class="variable">$lastsecd</span> .<span class="string">" 秒前"</span> ;}</span><br><span class="line">                <span class="keyword">else</span>{<span class="keyword">echo</span> <span class="variable">$lastmin</span> .<span class="string">" 分钟前"</span> ;}</span><br><span class="line">            }<span class="keyword">else</span>{<span class="keyword">echo</span> <span class="variable">$lasthour</span> .<span class="string">" 小时前"</span> ;}</span><br><span class="line">        }<span class="keyword">else</span>{<span class="keyword">echo</span> <span class="variable">$lastday</span>.<span class="string">" 天前"</span>;}}</span><br><span class="line">}</span><br><span class="line"><span class="comment">//文章阅读时间统计</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">art_time</span> (<span class="params"><span class="variable">$cid</span></span>)</span>{</span><br><span class="line">    <span class="variable">$db</span>=<span class="title class_">Typecho_Db</span>::<span class="variable constant_">get</span> ();</span><br><span class="line">    <span class="variable">$rs</span>=<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">fetchRow</span> (<span class="variable">$db</span>-&gt;<span class="title function_ invoke__">select</span> (<span class="string">'table.contents.text'</span>)-&gt;<span class="keyword">from</span> (<span class="string">'table.contents'</span>)-&gt;<span class="title function_ invoke__">where</span> (<span class="string">'table.contents.cid=?'</span>,<span class="variable">$cid</span>)-&gt;<span class="title function_ invoke__">order</span> (<span class="string">'table.contents.cid'</span>,<span class="title class_">Typecho_Db</span>::<span class="variable constant_">SORT_ASC</span>)-&gt;<span class="title function_ invoke__">limit</span> (<span class="number">1</span>));</span><br><span class="line">    <span class="variable">$text</span> = <span class="title function_ invoke__">preg_replace</span>(<span class="string">"/[^\x{4e00}-\x{9fa5}]/u"</span>, <span class="string">""</span>, <span class="variable">$rs</span>[<span class="string">'text'</span>]);</span><br><span class="line">    <span class="variable">$text_word</span> = <span class="title function_ invoke__">mb_strlen</span>(<span class="variable">$text</span>,<span class="string">'utf-8'</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="title function_ invoke__">ceil</span>(<span class="variable">$text_word</span> / <span class="number">400</span>);</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 自定义编辑器</span></span><br><span class="line"><span class="title class_">Typecho_Plugin</span>::<span class="title function_ invoke__">factory</span>(<span class="string">'admin/write-post.php'</span>)-&gt;bottom = <span class="keyword">array</span>(<span class="string">'editor'</span>, <span class="string">'reset'</span>);</span><br><span class="line"><span class="title class_">Typecho_Plugin</span>::<span class="title function_ invoke__">factory</span>(<span class="string">'admin/write-page.php'</span>)-&gt;bottom = <span class="keyword">array</span>(<span class="string">'editor'</span>, <span class="string">'reset'</span>);</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">editor</span></span></span><br><span class="line"><span class="class"></span>{</span><br><span class="line">  <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">reset</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"&lt;script src='"</span> . <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;themeUrl . <span class="string">'/edit/extend.js?v1.6.3'</span> . <span class="string">"'&gt;&lt;/script&gt;"</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"&lt;link rel='stylesheet' href='"</span> . <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;themeUrl . <span class="string">'/edit/edit.css?v1.6.3'</span> . <span class="string">"'&gt;"</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="comment">/* 判断是否是移动端 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isMobile</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_SERVER</span>[<span class="string">'HTTP_X_WAP_PROFILE'</span>]))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_SERVER</span>[<span class="string">'HTTP_VIA'</span>])) {</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">stristr</span>(<span class="variable">$_SERVER</span>[<span class="string">'HTTP_VIA'</span>], <span class="string">"wap"</span>) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_SERVER</span>[<span class="string">'HTTP_USER_AGENT'</span>])) {</span><br><span class="line">        <span class="variable">$clientkeywords</span> = <span class="keyword">array</span>(<span class="string">'nokia'</span>, <span class="string">'sony'</span>, <span class="string">'ericsson'</span>, <span class="string">'mot'</span>, <span class="string">'samsung'</span>, <span class="string">'htc'</span>, <span class="string">'sgh'</span>, <span class="string">'lg'</span>, <span class="string">'sharp'</span>, <span class="string">'sie-'</span>, <span class="string">'philips'</span>, <span class="string">'panasonic'</span>, <span class="string">'alcatel'</span>, <span class="string">'lenovo'</span>, <span class="string">'iphone'</span>, <span class="string">'ipod'</span>, <span class="string">'blackberry'</span>, <span class="string">'meizu'</span>, <span class="string">'android'</span>, <span class="string">'netfront'</span>, <span class="string">'symbian'</span>, <span class="string">'ucweb'</span>, <span class="string">'windowsce'</span>, <span class="string">'palm'</span>, <span class="string">'operamini'</span>, <span class="string">'operamobi'</span>, <span class="string">'openwave'</span>, <span class="string">'nexusone'</span>, <span class="string">'cldc'</span>, <span class="string">'midp'</span>, <span class="string">'wap'</span>, <span class="string">'mobile'</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">"/("</span> . <span class="title function_ invoke__">implode</span>(<span class="string">'|'</span>, <span class="variable">$clientkeywords</span>) . <span class="string">")/i"</span>, <span class="title function_ invoke__">strtolower</span>(<span class="variable">$_SERVER</span>[<span class="string">'HTTP_USER_AGENT'</span>])))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_SERVER</span>[<span class="string">'HTTP_ACCEPT'</span>])) {</span><br><span class="line">        <span class="keyword">if</span> ((<span class="title function_ invoke__">strpos</span>(<span class="variable">$_SERVER</span>[<span class="string">'HTTP_ACCEPT'</span>], <span class="string">'vnd.wap.wml'</span>) !== <span class="literal">false</span>) &amp;&amp; (<span class="title function_ invoke__">strpos</span>(<span class="variable">$_SERVER</span>[<span class="string">'HTTP_ACCEPT'</span>], <span class="string">'text/html'</span>) === <span class="literal">false</span> || (<span class="title function_ invoke__">strpos</span>(<span class="variable">$_SERVER</span>[<span class="string">'HTTP_ACCEPT'</span>], <span class="string">'vnd.wap.wml'</span>) &lt; <span class="title function_ invoke__">strpos</span>(<span class="variable">$_SERVER</span>[<span class="string">'HTTP_ACCEPT'</span>], <span class="string">'text/html'</span>)))) {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">RunTime</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="variable">$site_create_time</span> = <span class="title function_ invoke__">strtotime</span>(<span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;buildtime);</span><br><span class="line">    <span class="variable">$time</span> = <span class="title function_ invoke__">time</span>() - <span class="variable">$site_create_time</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_ invoke__">is_numeric</span>(<span class="variable">$time</span>)){</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable">$time</span> &gt;= <span class="number">86400</span>){</span><br><span class="line">            <span class="variable">$days</span> = <span class="title function_ invoke__">floor</span>(<span class="variable">$time</span>/<span class="number">86400</span>);</span><br><span class="line">            <span class="variable">$time</span> = (<span class="variable">$time</span>%<span class="number">86400</span>);</span><br><span class="line">            <span class="keyword">echo</span> <span class="variable">$days</span>.<span class="string">' 天'</span>;</span><br><span class="line">        }<span class="keyword">else</span>{</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">'1 天'</span>;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">    }<span class="keyword">else</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">''</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">RecapOutPut</span>(<span class="params"><span class="variable">$login</span></span>) </span>{</span><br><span class="line"><span class="variable">$siteKey</span> = <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;siteKey;</span><br><span class="line"><span class="variable">$secretKey</span> = <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;secretKey;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$siteKey</span> !== <span class="string">""</span> &amp;&amp; <span class="variable">$secretKey</span> !== <span class="string">""</span> &amp;&amp; !<span class="variable">$login</span>) {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;script src="https://recaptcha.net/recaptcha/api.js" async defer data-no-instant&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">                              &lt;div class="g-recaptcha" data-sitekey='</span> . <span class="variable">$siteKey</span> . <span class="string">'&gt;&lt;/div&gt;'</span>;</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">if</span> (<span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;hcaptchaSecretKey !== <span class="string">""</span> &amp;&amp; <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;hcaptchaAPIKey !== <span class="string">""</span> &amp;&amp; !<span class="variable">$login</span>) {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;script src="https://www.hCaptcha.com/1/api.js" async defer&gt;&lt;/script&gt;&lt;div class="h-captcha" data-sitekey='</span>. <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;hcaptchaSecretKey .<span class="string">'&gt;&lt;/div&gt;'</span>;</span><br><span class="line">      }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">comments_filter</span>(<span class="params"><span class="variable">$comment</span></span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_REQUEST</span>[<span class="string">'text'</span>]) != <span class="literal">null</span>) {</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable">$_POST</span>[<span class="string">'g-recaptcha-response'</span>] == <span class="literal">null</span>) {</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Typecho_Widget_Exception</span>(<span class="title function_ invoke__">_t</span>(<span class="string">'人机验证失败,确认你加载了谷歌人机验证并通过验证'</span>));</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line"><span class="variable">$siteKey</span> = <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;siteKey;</span><br><span class="line"><span class="variable">$secretKey</span> = <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;secretKey;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCaptcha</span>(<span class="params"><span class="variable">$recaptcha_response</span>, <span class="variable">$secretKey</span></span>) </span>{</span><br><span class="line"><span class="variable">$response</span> = <span class="title function_ invoke__">file_get_contents</span>(<span class="string">"https://recaptcha.net/recaptcha/api/siteverify?secret="</span>.<span class="variable">$secretKey</span>.<span class="string">"&amp;response="</span>.<span class="variable">$recaptcha_response</span>);</span><br><span class="line"><span class="variable">$response</span> = <span class="title function_ invoke__">json_decode</span>(<span class="variable">$response</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="variable">$response</span>;</span><br><span class="line">}</span><br><span class="line"><span class="variable">$resp</span> = <span class="title function_ invoke__">getCaptcha</span>(<span class="variable">$_POST</span>[<span class="string">'g-recaptcha-response'</span>], <span class="variable">$secretKey</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$resp</span>-&gt;success == <span class="literal">true</span>) {</span><br><span class="line"><span class="keyword">return</span> <span class="variable">$comments</span>;</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">switch</span> (<span class="variable">$resp</span>-&gt;error-codes) {</span><br><span class="line"><span class="keyword">case</span> <span class="string">'{[0] =&gt; "timeout-or-duplicate"}'</span>:</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Typecho_Widget_Exception</span>(<span class="title function_ invoke__">_t</span>(<span class="string">'验证时间超过2分钟或连续重复发言！'</span>));</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'{[0] =&gt; "invalid-input-secret"}'</span>:</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Typecho_Widget_Exception</span>(<span class="title function_ invoke__">_t</span>(<span class="string">'博主填了无效的siteKey或者secretKey...'</span>));</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'{[0] =&gt; "bad-request"}'</span>:</span><br><span class="line">                                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Typecho_Widget_Exception</span>(<span class="title function_ invoke__">_t</span>(<span class="string">'请求错误！请检查网络'</span>));</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Typecho_Widget_Exception</span>(<span class="title function_ invoke__">_t</span>(<span class="string">'很遗憾，您被当成了机器人...'</span>));</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$comment</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hcaptcha_filter</span>(<span class="params"><span class="variable">$comment</span></span>)</span>{</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_REQUEST</span>[<span class="string">'text'</span>]) != <span class="literal">null</span>) {</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$_POST</span>[<span class="string">'h-captcha-response'</span>] == <span class="literal">null</span>) {</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Typecho_Widget_Exception</span>(<span class="title function_ invoke__">_t</span>(<span class="string">'人机验证失败,确认你加载了hcaptcha人机验证并通过验证'</span>));</span><br><span class="line">    }<span class="keyword">else</span>{</span><br><span class="line">     <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">'h-captcha-response'</span>]) &amp;&amp; !<span class="keyword">empty</span>(<span class="variable">$_POST</span>[<span class="string">'h-captcha-response'</span>])){</span><br><span class="line">         <span class="variable">$secret</span> = <span class="title class_">Helper</span>::<span class="title function_ invoke__">options</span>()-&gt;hcaptchaAPIKey;</span><br><span class="line">         <span class="variable">$verifyResponse</span> = <span class="title function_ invoke__">file_get_contents</span>(<span class="string">'https://hcaptcha.com/siteverify?secret='</span>.<span class="variable">$secret</span>.<span class="string">'&amp;response='</span>.<span class="variable">$_POST</span>[<span class="string">'h-captcha-response'</span>].<span class="string">'&amp;remoteip='</span>.<span class="variable">$_SERVER</span>[<span class="string">'REMOTE_ADDR'</span>]);</span><br><span class="line">         <span class="variable">$responseData</span> = <span class="title function_ invoke__">json_decode</span>(<span class="variable">$verifyResponse</span>);</span><br><span class="line">         <span class="keyword">if</span>(<span class="variable">$responseData</span>-&gt;success == <span class="literal">true</span>)</span><br><span class="line">         {</span><br><span class="line">             <span class="keyword">return</span> <span class="variable">$comments</span>;</span><br><span class="line">         }<span class="keyword">else</span>{</span><br><span class="line">             <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Typecho_Widget_Exception</span>(<span class="title function_ invoke__">_t</span>(<span class="variable">$responseData</span>-&gt;error-codes));</span><br><span class="line">         }</span><br><span class="line">     }        </span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">return</span> <span class="variable">$comment</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 微博热搜</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">weibohot</span>(<span class="params"></span>)</span>{</span><br><span class="line"><span class="variable">$api</span> = <span class="title function_ invoke__">file_get_contents</span>(<span class="string">'https://weibo.com/ajax/side/hotSearch'</span>);</span><br><span class="line"><span class="variable">$data</span> = <span class="title function_ invoke__">json_decode</span>(<span class="variable">$api</span>,<span class="literal">true</span>)[<span class="string">'data'</span>][<span class="string">'realtime'</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable">$jyzy</span> = <span class="keyword">array</span>(</span><br><span class="line"><span class="string">'电影'</span> =&gt; <span class="string">'影'</span>,</span><br><span class="line"><span class="string">'剧集'</span> =&gt; <span class="string">'剧'</span>,</span><br><span class="line"><span class="string">'综艺'</span> =&gt; <span class="string">'综'</span>,</span><br><span class="line"><span class="string">'音乐'</span> =&gt; <span class="string">'音'</span>,</span><br><span class="line"><span class="string">'盛典'</span> =&gt; <span class="string">'盛'</span>,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="variable">$hotness</span> = <span class="keyword">array</span>(</span><br><span class="line">    <span class="string">'爆'</span> =&gt; <span class="string">'weibo-boom'</span>,</span><br><span class="line">    <span class="string">'热'</span> =&gt; <span class="string">'weibo-hot'</span>,</span><br><span class="line">    <span class="string">'沸'</span> =&gt; <span class="string">'weibo-boil'</span>,</span><br><span class="line">    <span class="string">'新'</span> =&gt; <span class="string">'weibo-new'</span>,</span><br><span class="line">    <span class="string">'荐'</span> =&gt; <span class="string">'weibo-recommend'</span>,</span><br><span class="line">    <span class="string">'音'</span> =&gt; <span class="string">'weibo-jyzy'</span>,</span><br><span class="line">    <span class="string">'影'</span> =&gt; <span class="string">'weibo-jyzy'</span>,</span><br><span class="line">    <span class="string">'剧'</span> =&gt; <span class="string">'weibo-jyzy'</span>,</span><br><span class="line">    <span class="string">'综'</span> =&gt; <span class="string">'weibo-jyzy'</span>,</span><br><span class="line">    <span class="string">'盛'</span> =&gt; <span class="string">'weibo-jyzy'</span>,</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span>(<span class="variable">$data</span> <span class="keyword">as</span> <span class="variable">$item</span>){</span><br><span class="line"><span class="variable">$hot</span> = <span class="string">'荐'</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$item</span>[<span class="string">'is_ad'</span>])){</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$item</span>[<span class="string">'is_boom'</span>])){</span><br><span class="line"><span class="variable">$hot</span> = <span class="string">'爆'</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$item</span>[<span class="string">'is_hot'</span>])){</span><br><span class="line"><span class="variable">$hot</span> = <span class="string">'热'</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$item</span>[<span class="string">'is_fei'</span>])){</span><br><span class="line"><span class="variable">$hot</span> = <span class="string">'沸'</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$item</span>[<span class="string">'is_new'</span>])){</span><br><span class="line"><span class="variable">$hot</span> = <span class="string">'新'</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$item</span>[<span class="string">'flag_desc'</span>])){</span><br><span class="line"><span class="variable">$hot</span> = <span class="variable">$jyzy</span>[<span class="variable">$item</span>[<span class="string">'flag_desc'</span>]];</span><br><span class="line">}</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;div class="weibo-list-item"&gt;&lt;div class="weibo-hotness '</span>.<span class="variable">$hotness</span>[<span class="variable">$hot</span>].<span class="string">'"&gt;'</span>.<span class="variable">$hot</span>.<span class="string">'&lt;/div&gt;&lt;span class="weibo-title"&gt;&lt;a title="'</span>.<span class="variable">$item</span>[<span class="string">'note'</span>].<span class="string">'" href="https://s.weibo.com/weibo?q=%23'</span> . <span class="variable">$item</span>[<span class="string">'word'</span>] . <span class="string">'%23" target="_blank" rel="external nofollow noreferrer" style="color:#a08ed5"&gt;'</span>.<span class="variable">$item</span>[<span class="string">'note'</span>].<span class="string">'&lt;/a&gt;&lt;/span&gt;&lt;div class="weibo-num"&gt;&lt;span&gt;'</span>.<span class="variable">$item</span>[<span class="string">'num'</span>].<span class="string">'&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>footer.php</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">if</span> (!<span class="title function_ invoke__">defined</span>(<span class="string">'__TYPECHO_ROOT_DIR__'</span>)) <span class="keyword">exit</span>; <span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">if</span>(!<span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">page404</span>()): <span class="meta">?&gt;</span></span><br><span class="line">&lt;footer id=<span class="string">"footer"</span>&gt;</span><br><span class="line">    &lt;div id=<span class="string">"footer-wrap"</span>&gt;&lt;div <span class="class"><span class="keyword">class</span>="<span class="title">copyright</span>"&gt;   </span></span><br><span class="line"><span class="class">    &lt;<span class="title">div</span> <span class="title">class</span>="<span class="title">copyright</span>"&gt;©&lt;?<span class="title">php</span> <span class="title">echo</span> <span class="title">date</span>('<span class="title">Y</span>'); ?&gt; <span class="title">By</span> &lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">author</span>(); ?&gt;&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">div</span> <span class="title">class</span>="<span class="title">framework</span>-<span class="title">info</span>"&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">span</span>&gt;由&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">a</span> <span class="title">target</span>="<span class="title">_blank</span>" <span class="title">href</span>="<span class="title">http</span>://<span class="title">www</span>.<span class="title">typecho</span>.<span class="title">org</span>"&gt;<span class="title">Typecho</span>&lt;/<span class="title">a</span>&gt;&lt;<span class="title">span</span>&gt; 强力驱动&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">span</span> <span class="title">class</span>="<span class="title">footer</span>-<span class="title">separator</span>"&gt;|&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">span</span>&gt;主题&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">a</span> <span class="title">id</span>="<span class="title">btheme</span>" <span class="title">target</span>="<span class="title">_blank</span>" <span class="title">href</span>="<span class="title">https</span>://<span class="title">github</span>.<span class="title">com</span>/<span class="title">wehaox</span>/<span class="title">Typecho</span>-<span class="title">Butterfly</span>"&gt;<span class="title">Butterfly</span>&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;/<span class="title">br</span>&gt;&lt;?<span class="title">php</span> <span class="title">if</span>($<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">gxbeian</span> != ""): ?&gt;</span></span><br><span class="line"><span class="class">        备案号:&lt;<span class="title">a</span> <span class="title">href</span>="//<span class="title">beian</span>.<span class="title">miit</span>.<span class="title">gov</span>.<span class="title">cn</span>"&gt;&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">gxbeian</span>(); ?&gt;&lt;/<span class="title">a</span>&gt; | </span></span><br><span class="line"><span class="class">        &lt;?<span class="title">php</span> <span class="title">endif</span>; ?&gt;</span></span><br><span class="line"><span class="class">        &lt;?<span class="title">php</span> <span class="title">if</span>($<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">gabeian</span> != ""): </span></span><br><span class="line"><span class="class">    <span class="title">if</span> (<span class="title">is_string</span>($<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">gabeian</span>) || !<span class="title">empty</span>($<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">gabeian</span>)):</span></span><br><span class="line"><span class="class">    $<span class="title">gabeian1</span> = $<span class="title">gabeian2</span> = '';</span></span><br><span class="line"><span class="class">    <span class="title">if</span> (<span class="title">is_string</span>($<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">gabeian</span>) || !<span class="title">empty</span>($<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">gabeian</span>))</span>{</span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="title function_ invoke__">strlen</span>(<span class="variable">$this</span>-&gt;options-&gt;gabeian); <span class="variable">$i</span>++) {</span><br><span class="line">    <span class="variable">$char</span> = <span class="title function_ invoke__">substr</span>(<span class="variable">$this</span>-&gt;options-&gt;gabeian, <span class="variable">$i</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">ctype_digit</span>(<span class="variable">$char</span>)) {</span><br><span class="line">    <span class="variable">$gabeian1</span>=<span class="title function_ invoke__">substr</span>(<span class="variable">$this</span>-&gt;options-&gt;gabeian, <span class="number">0</span>, <span class="variable">$i</span>);</span><br><span class="line">    <span class="variable">$gabeian2</span>=<span class="title function_ invoke__">substr</span>(<span class="variable">$this</span>-&gt;options-&gt;gabeian, <span class="variable">$i</span>, <span class="title function_ invoke__">strlen</span>(<span class="variable">$this</span>-&gt;options-&gt;gabeian)-<span class="variable">$i</span>-<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">      } </span><br><span class="line">    }</span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line">        &lt;img src=<span class="string">"https://static.nuoyis.com/lib/blog/typecho/themes/butterfly/images/beian.png"</span>&gt;<span class="meta">&lt;?=</span><span class="variable">$gabeian1</span>; <span class="meta">?&gt;</span>&lt;a href=<span class="string">"//www.beian.gov.cn/portal/registerSystemInfo?recordcode=&lt;?=<span class="subst">$gabeian2</span> ?&gt;"</span>&gt;<span class="meta">&lt;?=</span><span class="variable">$gabeian2</span> <span class="meta">?&gt;</span>&lt;/a&gt;号 | </span><br><span class="line">        <span class="meta">&lt;?php</span> <span class="keyword">endif</span>; <span class="meta">?&gt;</span></span><br><span class="line">        <span class="meta">&lt;?php</span> <span class="keyword">endif</span>; <span class="meta">?&gt;</span></span><br><span class="line">        <span class="meta">&lt;?php</span> <span class="keyword">if</span>(<span class="variable language_">$this</span>-&gt;options-&gt;moebeian != <span class="string">""</span>): </span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">is_string</span>(<span class="variable">$this</span>-&gt;options-&gt;moebeian) || !<span class="keyword">empty</span>(<span class="variable language_">$this</span>-&gt;options-&gt;moebeian)):</span><br><span class="line">    <span class="variable">$moebeian1</span> = <span class="variable">$moebeian2</span> = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">is_string</span>(<span class="variable">$this</span>-&gt;options-&gt;moebeian) || !<span class="keyword">empty</span>(<span class="variable language_">$this</span>-&gt;options-&gt;moebeian)){</span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="title function_ invoke__">strlen</span>(<span class="variable">$this</span>-&gt;options-&gt;moebeian); <span class="variable">$i</span>++) {</span><br><span class="line">    <span class="variable">$char</span> = <span class="title function_ invoke__">substr</span>(<span class="variable">$this</span>-&gt;options-&gt;moebeian, <span class="variable">$i</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">ctype_digit</span>(<span class="variable">$char</span>)) {</span><br><span class="line">    <span class="variable">$moebeian1</span>=<span class="title function_ invoke__">substr</span>(<span class="variable">$this</span>-&gt;options-&gt;moebeian, <span class="number">0</span>, <span class="variable">$i</span>);</span><br><span class="line">    <span class="variable">$moebeian2</span>=<span class="title function_ invoke__">substr</span>(<span class="variable">$this</span>-&gt;options-&gt;moebeian, <span class="variable">$i</span>, <span class="title function_ invoke__">strlen</span>(<span class="variable">$this</span>-&gt;options-&gt;moebeian)-<span class="variable">$i</span>-<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">      } </span><br><span class="line">    }</span><br><span class="line">        <span class="meta">?&gt;</span></span><br><span class="line">        <span class="meta">&lt;?=</span><span class="variable">$moebeian1</span>; <span class="meta">?&gt;</span>&lt;a href=<span class="string">"https://icp.gov.moe/?keyword=&lt;?=<span class="subst">$moebeian2</span>; ?&gt;"</span> target=<span class="string">"_blank"</span>&gt;<span class="meta">&lt;?=</span><span class="variable">$moebeian2</span>; <span class="meta">?&gt;</span>&lt;/a&gt;号</span><br><span class="line">        <span class="meta">&lt;?php</span> <span class="keyword">endif</span>; <span class="meta">?&gt;</span></span><br><span class="line">        <span class="meta">&lt;?php</span> <span class="keyword">endif</span>; <span class="meta">?&gt;</span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span>="<span class="title">footer_custom_text</span>"&gt;&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">Customfooter</span>() ?&gt;&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">footer</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">endif</span> ?&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">footer</span>(); ?&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">style</span> <span class="title">type</span>="<span class="title">text</span>/<span class="title">css</span>" <span class="title">data</span>-<span class="title">typed</span>-<span class="title">js</span>-<span class="title">css</span>="<span class="title">true</span>"&gt;</span></span><br><span class="line"><span class="class">        .<span class="title">typed</span>-<span class="title">cursor</span></span>{</span><br><span class="line">          opacity: <span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">        .typed-cursor.typed-cursor--blink{</span><br><span class="line">          animation: typedjsBlink <span class="number">0.7</span>s infinite;</span><br><span class="line">          -webkit-animation: typedjsBlink <span class="number">0.7</span>s infinite;</span><br><span class="line">                  animation: typedjsBlink <span class="number">0.7</span>s infinite;</span><br><span class="line">        }</span><br><span class="line">        @keyframes typedjsBlink{</span><br><span class="line">          <span class="number">50</span>% { opacity: <span class="number">0.0</span>; }</span><br><span class="line">        }</span><br><span class="line">        @-webkit-keyframes typedjsBlink{</span><br><span class="line">          <span class="number">0</span>% { opacity: <span class="number">1</span>; }</span><br><span class="line">          <span class="number">50</span>% { opacity: <span class="number">0.0</span>; }</span><br><span class="line">          <span class="number">100</span>% { opacity: <span class="number">1</span>; }</span><br><span class="line">        }</span><br><span class="line"> &lt;/style&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">if</span> (<span class="variable language_">$this</span>-&gt;options-&gt;showFramework == <span class="string">'off'</span>): <span class="meta">?&gt;</span></span><br><span class="line">&lt;style&gt;.framework-info{display:none}&lt;/style&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">endif</span>; <span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">if</span> (<span class="variable language_">$this</span>-&gt;options-&gt;CursorEffects !== <span class="string">'off'</span> &amp;&amp;<span class="variable language_">$this</span>-&gt;options-&gt;CursorEffects == <span class="string">'heart'</span>) : <span class="meta">?&gt;</span></span><br><span class="line">    <span class="meta">&lt;?php</span> <span class="keyword">if</span>(<span class="variable language_">$this</span>-&gt;options-&gt;StaticFile == <span class="string">'CDN'</span> &amp;&amp; <span class="variable language_">$this</span>-&gt;options-&gt;CDNURL == <span class="string">''</span>): <span class="meta">?&gt;</span></span><br><span class="line">    &lt;script id=<span class="string">"click-heart"</span> src=<span class="string">"https://&lt;?php <span class="subst">$this</span>-&gt;options-&gt;jsdelivrLink() ?&gt;/npm/butterfly-extsrc@1/dist/click-heart.min.js"</span> async=<span class="string">"async"</span> mobile=<span class="string">"false"</span>&gt;&lt;/script&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span> <span class="keyword">elseif</span>(<span class="variable language_">$this</span>-&gt;options-&gt;StaticFile == <span class="string">'CDN'</span> &amp;&amp; <span class="variable language_">$this</span>-&gt;options-&gt;CDNURL !== <span class="string">''</span>): <span class="meta">?&gt;</span></span><br><span class="line">     &lt;script id=<span class="string">"click-heart"</span> src=<span class="string">"&lt;?php <span class="subst">$this</span>-&gt;options-&gt;CDNURL() ?&gt;/static/js/click-heart.min.js"</span> async=<span class="string">"async"</span> mobile=<span class="string">"false"</span>&gt;&lt;/script&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span> <span class="keyword">else</span> : <span class="meta">?&gt;</span> </span><br><span class="line">        &lt;script id=<span class="string">"click-heart"</span> src=<span class="string">"&lt;?php <span class="subst">$this</span>-&gt;options-&gt;themeUrl('/static/js/click-heart.min.js'); ?&gt;"</span> async=<span class="string">"async"</span> mobile=<span class="string">"false"</span>&gt;&lt;/script&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span> <span class="keyword">endif</span>; <span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">elseif</span> (<span class="variable language_">$this</span>-&gt;options-&gt;CursorEffects !== <span class="string">'off'</span> &amp;&amp;<span class="variable language_">$this</span>-&gt;options-&gt;CursorEffects == <span class="string">'fireworks'</span>) : <span class="meta">?&gt;</span></span><br><span class="line">&lt;canvas <span class="class"><span class="keyword">class</span>="<span class="title">fireworks</span>"&gt;&lt;/<span class="title">canvas</span>&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    &lt;?<span class="title">php</span> <span class="title">if</span>($<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">StaticFile</span> == '<span class="title">CDN</span>' &amp;&amp; $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">CDNURL</span> == ''): ?&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">script</span> <span class="title">id</span>="<span class="title">fireworks</span>" <span class="title">src</span>="<span class="title">https</span>://&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">jsdelivrLink</span>() ?&gt;/<span class="title">npm</span>/<span class="title">butterfly</span>-<span class="title">extsrc</span>@1.1.0/<span class="title">dist</span>/<span class="title">fireworks</span>.<span class="title">min</span>.<span class="title">js</span>" <span class="title">async</span>="<span class="title">async</span>" <span class="title">mobile</span>="<span class="title">false</span>"&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;?<span class="title">php</span> <span class="title">elseif</span>($<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">StaticFile</span> == '<span class="title">CDN</span>' &amp;&amp; $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">CDNURL</span> !== ''): ?&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">script</span> <span class="title">id</span>="<span class="title">fireworks</span>" <span class="title">src</span>="&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">CDNURL</span>() ?&gt;/<span class="title">static</span>/<span class="title">js</span>/<span class="title">fireworks</span>.<span class="title">min</span>.<span class="title">js</span>" <span class="title">async</span>="<span class="title">async</span>" <span class="title">mobile</span>="<span class="title">false</span>"&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;?<span class="title">php</span> <span class="title">else</span> : ?&gt; </span></span><br><span class="line"><span class="class">        &lt;<span class="title">script</span> <span class="title">id</span>="<span class="title">fireworks</span>" <span class="title">src</span>="&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">themeUrl</span>('/<span class="title">static</span>/<span class="title">js</span>/<span class="title">fireworks</span>.<span class="title">min</span>.<span class="title">js</span>'); ?&gt;" <span class="title">async</span>="<span class="title">async</span>" <span class="title">mobile</span>="<span class="title">false</span>"&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;?<span class="title">php</span> <span class="title">endif</span>; ?&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">endif</span>; ?&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">if</span> ($<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">ShowLive2D</span> !== '<span class="title">off</span>' &amp;&amp; !<span class="title">isMobile</span>()) : ?&gt;</span></span><br><span class="line"><span class="class">    &lt;?<span class="title">php</span> <span class="title">if</span>($<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">StaticFile</span> == '<span class="title">CDN</span>' &amp;&amp; $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">CDNURL</span> == ''): ?&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">script</span> <span class="title">src</span>="<span class="title">https</span>://&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">jsdelivrLink</span>() ?&gt;/<span class="title">gh</span>/<span class="title">stevenjoezhang</span>/<span class="title">live2d</span>-<span class="title">widget</span>@<span class="title">latest</span>/<span class="title">autoload</span>.<span class="title">js</span>"&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;?<span class="title">php</span> <span class="title">elseif</span>($<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">StaticFile</span> == '<span class="title">CDN</span>' &amp;&amp; $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">CDNURL</span> !== ''): ?&gt;    </span></span><br><span class="line"><span class="class">        &lt;<span class="title">script</span> <span class="title">src</span>="&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">CDNURL</span>() ?&gt;/<span class="title">static</span>/<span class="title">js</span>/<span class="title">autoload</span>.<span class="title">js</span>"&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">   &lt;?<span class="title">php</span> <span class="title">else</span> : ?&gt; </span></span><br><span class="line"><span class="class">        &lt;<span class="title">script</span> <span class="title">src</span>="&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">themeUrl</span>('/<span class="title">static</span>/<span class="title">js</span>/<span class="title">autoload</span>.<span class="title">js</span>'); ?&gt;"&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">       &lt;?<span class="title">php</span> <span class="title">endif</span>; ?&gt;    </span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">endif</span>; ?&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">script</span> <span class="title">type</span>="<span class="title">text</span>/<span class="title">javascript</span>" <span class="title">src</span>="&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">themeUrl</span>('<span class="title">js</span>/<span class="title">custom</span>.<span class="title">main</span>.<span class="title">js</span>'); ?&gt;"&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">script</span>&gt;&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">CustomScript</span>() ?&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class"> &lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">CustomBodyEnd</span>() ?&gt;</span></span><br><span class="line"><span class="class">&lt;!--搜索  --&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">div</span> <span class="title">id</span>="<span class="title">local</span>-<span class="title">search</span>"&gt;</span></span><br><span class="line"><span class="class">  &lt;<span class="title">div</span> <span class="title">class</span>="<span class="title">search</span>-<span class="title">dialog</span>"&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">nav</span> <span class="title">class</span>="<span class="title">search</span>-<span class="title">nav</span>"&gt;</span></span><br><span class="line"><span class="class">      &lt;<span class="title">span</span> <span class="title">class</span>="<span class="title">search</span>-<span class="title">dialog</span>-<span class="title">title</span>"&gt;本地搜索&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line"><span class="class">      &lt;<span class="title">span</span> <span class="title">id</span>="<span class="title">loading</span>-<span class="title">status</span>"&gt;&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line"><span class="class">      &lt;<span class="title">button</span> <span class="title">class</span>="<span class="title">search</span>-<span class="title">close</span>-<span class="title">button</span>"&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">i</span> <span class="title">class</span>="<span class="title">fas</span> <span class="title">fa</span>-<span class="title">times</span>"&gt;&lt;/<span class="title">i</span>&gt;</span></span><br><span class="line"><span class="class">      &lt;/<span class="title">button</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">nav</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">div</span> <span class="title">class</span>="<span class="title">search</span>-<span class="title">wrap</span>" <span class="title">style</span>="<span class="title">display</span>: <span class="title">block</span>;"&gt;</span></span><br><span class="line"><span class="class">      &lt;<span class="title">div</span> <span class="title">id</span>="<span class="title">local</span>-<span class="title">search</span>-<span class="title">input</span>"&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">form</span> <span class="title">class</span>="<span class="title">local</span>-<span class="title">search</span>-<span class="title">box</span>" <span class="title">method</span>="<span class="title">post</span>" <span class="title">action</span>="&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">siteUrl</span>(); ?&gt;" <span class="title">role</span>="<span class="title">search</span>" <span class="title">id</span>="<span class="title">search</span>"&gt;</span></span><br><span class="line"><span class="class">          &lt;<span class="title">label</span> <span class="title">for</span>="<span class="title">s</span>" <span class="title">class</span>="<span class="title">sr</span>-<span class="title">only</span>"&gt;&lt;?<span class="title">php</span> <span class="title">_e</span>('搜索关键字'); ?&gt;&lt;/<span class="title">label</span>&gt;</span></span><br><span class="line"><span class="class">          &lt;<span class="title">input</span> <span class="title">type</span>="<span class="title">text</span>"  <span class="title">name</span>="<span class="title">s</span>"  <span class="title">placeholder</span>="回车查询" <span class="title">required</span>="<span class="title">required</span>"&gt;&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">      &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">      &lt;<span class="title">hr</span>&gt;</span></span><br><span class="line"><span class="class">      &lt;<span class="title">div</span> <span class="title">id</span>="<span class="title">local</span>-<span class="title">search</span>-<span class="title">results</span>"&gt;&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;<span class="title">div</span> <span class="title">id</span>="<span class="title">search</span>-<span class="title">mask</span>" <span class="title">style</span>=""&gt;&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">&lt;!--搜索<span class="title">end</span>  --&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">div</span> <span class="title">class</span>="<span class="title">js</span>-<span class="title">pjax</span>"&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">if</span> ($<span class="title">this</span>-&gt;<span class="title">is</span>('<span class="title">post</span>') || $<span class="title">this</span>-&gt;<span class="title">is</span>('<span class="title">page</span>')): ?&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">script</span> <span class="title">src</span>="&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">themeUrl</span>('<span class="title">js</span>/<span class="title">comjs</span>.<span class="title">js</span>?<span class="title">v1</span>.4.3'); ?&gt;"&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">endif</span> ?&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">if</span> (!<span class="title">empty</span>($<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">beautifyBlock</span>) &amp;&amp; <span class="title">in_array</span>('<span class="title">showButterflyClock</span>',$<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">beautifyBlock</span>)): ?&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">script</span> <span class="title">data</span>-<span class="title">pjax</span>&gt;<span class="title">function</span> <span class="title">butterfly_clock_anzhiyu_injector_config</span>() </span>{</span><br><span class="line"><span class="keyword">var</span> a = document.<span class="title function_ invoke__">getElementsByClassName</span>(<span class="string">"sticky_layout"</span>)[<span class="number">0</span>];</span><br><span class="line">a &amp;&amp; a.<span class="title function_ invoke__">insertAdjacentHTML</span>(<span class="string">"afterbegin"</span>, <span class="string">'&lt;div class="card-widget card-clock"&gt;&lt;div class="card-glass"&gt;&lt;div class="card-background"&gt;&lt;div class="card-content"&gt;&lt;div id="hexo_electric_clock"&gt;&lt;img class="entered loading" id="card-clock-loading" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>)}</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> elist = <span class="string">"null"</span>.<span class="title function_ invoke__">split</span>(<span class="string">","</span>), cpage = location.pathname, epage = <span class="string">"all"</span>, </span><br><span class="line">qweather_key = <span class="string">"&lt;?php <span class="subst">$this</span>-&gt;options-&gt;qweather_key() ?&gt;"</span>, </span><br><span class="line">gaud_map_key = <span class="string">"&lt;?php <span class="subst">$this</span>-&gt;options-&gt;gaud_map_key() ?&gt;"</span>, </span><br><span class="line">baidu_ak_key = <span class="string">"undefined"</span>, flag = <span class="number">0</span>,</span><br><span class="line">clock_rectangle = <span class="string">"112.6534116,27.96920845"</span>, clock_default_rectangle_enable = <span class="string">"false"</span>, i = <span class="number">0</span>; i &lt; elist.length; i++) cpage.<span class="title function_ invoke__">includes</span>(elist[i]) &amp;&amp; flag++;</span><br><span class="line">      <span class="string">"all"</span> === epage &amp;&amp; <span class="number">0</span> == flag ? <span class="title function_ invoke__">butterfly_clock_anzhiyu_injector_config</span>() : epage === cpage &amp;&amp; <span class="title function_ invoke__">butterfly_clock_anzhiyu_injector_config</span>()&lt;/script&gt;</span><br><span class="line">&lt;script src=<span class="string">"https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script data-pjax src=<span class="string">"https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css"</span>&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">endif</span> <span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">header</span>(<span class="string">'commentReply=1&amp;description=0&amp;keywords=0&amp;generator=0&amp;template=0&amp;pingback=0&amp;xmlrpc=0&amp;wlw=0&amp;rss2=0&amp;rss1=0&amp;antiSpam=0&amp;atom'</span>); <span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">if</span> (<span class="variable language_">$this</span>-&gt;options-&gt;NewTabLink == <span class="string">'on'</span>): <span class="meta">?&gt;</span></span><br><span class="line">&lt;script&gt;$(document).<span class="title function_ invoke__">ready</span>(function(){<span class="keyword">var</span> a=document.<span class="title function_ invoke__">getElementsByTagName</span>(<span class="string">"a"</span>);<span class="keyword">for</span>(let i=<span class="number">0</span>;i&lt;a.length;i++){let domain=document.domain;let url=a[i].href;<span class="keyword">if</span>(<span class="title function_ invoke__">typeof</span>(url)!=<span class="string">"undefined"</span>&amp;&amp;url.length!=<span class="number">0</span>&amp;&amp;url.<span class="keyword">match</span>(domain)==<span class="literal">null</span>&amp;&amp;url!=<span class="string">"javascript:void(0);"</span>){a[i].<span class="title function_ invoke__">setAttribute</span>(<span class="string">"target"</span>,<span class="string">"_BLANK"</span>)}}});&lt;/script&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">endif</span>; <span class="meta">?&gt;</span>        </span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">if</span>(<span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">is</span>(<span class="string">'index'</span>)): <span class="meta">?&gt;</span></span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"&lt;?php <span class="subst">$this</span>-&gt;options-&gt;themeUrl('js/wehao.js?v1.7.0'); ?&gt;"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;style&gt;<span class="comment">#page-header:not(.not-top-img):before {background-color: rgba(0,0,0,0);}&lt;/style&gt;</span></span><br><span class="line">&lt;!--打字--&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">if</span> (<span class="title function_ invoke__">is_array</span>(<span class="variable">$this</span>-&gt;options-&gt;beautifyBlock) &amp;&amp; <span class="title function_ invoke__">in_array</span>(<span class="string">'ShowTopimg'</span>,<span class="variable">$this</span>-&gt;options-&gt;beautifyBlock)): <span class="meta">?&gt;</span></span><br><span class="line">   <span class="meta">&lt;?php</span> <span class="keyword">if</span>(!<span class="keyword">empty</span>(<span class="variable language_">$this</span>-&gt;options-&gt;CustomSubtitle)): <span class="meta">?&gt;</span></span><br><span class="line">      &lt;script&gt;</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">subtitleType</span>(<span class="params"></span>) </span>{</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) {</span><br><span class="line"><span class="keyword">var</span> typed = <span class="keyword">new</span> <span class="title class_">Typed</span>(<span class="string">"#subtitle"</span>, {</span><br><span class="line">strings: <span class="string">"&lt;?php <span class="subst">$this</span>-&gt;options-&gt;CustomSubtitle()?&gt;"</span>.<span class="title function_ invoke__">split</span>(<span class="string">","</span>),</span><br><span class="line">startDelay: <span class="number">300</span>,</span><br><span class="line">typeSpeed: <span class="number">150</span>,</span><br><span class="line">loop: <span class="meta">&lt;?php</span> <span class="variable language_">$this</span>-&gt;options-&gt;<span class="title function_ invoke__">SubtitleLoop</span>() <span class="meta">?&gt;</span>,</span><br><span class="line">backSpeed: <span class="number">50</span></span><br><span class="line">})</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"><span class="string">"function"</span>==typeof Typed?<span class="title function_ invoke__">subtitleType</span>():<span class="title function_ invoke__">getScript</span>(<span class="string">"/usr/themes/butterfly/js/typed.min.js"</span>)</span><br><span class="line">.<span class="title function_ invoke__">then</span>(subtitleType)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">   <span class="meta">&lt;?php</span> <span class="keyword">else</span>: <span class="meta">?&gt;</span></span><br><span class="line">      &lt;script&gt;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">subtitleType</span>(<span class="params"></span>)</span>{</span><br><span class="line"><span class="title function_ invoke__">fetch</span>(<span class="string">"https://v1.hitokoto.cn"</span>).<span class="title function_ invoke__">then</span>(t=&gt;t.<span class="title function_ invoke__">json</span>()).<span class="title function_ invoke__">then</span>(t=&gt;{</span><br><span class="line">o=<span class="number">0</span>==<span class="string">""</span>.length?<span class="keyword">new</span> <span class="title class_">Array</span>:<span class="string">" "</span>.<span class="title function_ invoke__">split</span>(<span class="string">","</span>);</span><br><span class="line">o.<span class="title function_ invoke__">unshift</span>(t.hitokoto),</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Typed</span>(<span class="string">"#subtitle"</span>,{</span><br><span class="line">    <span class="attr">strings</span>:o,</span><br><span class="line">    <span class="attr">startDelay</span>:<span class="number">300</span>,</span><br><span class="line">    <span class="attr">typeSpeed</span>:<span class="number">150</span>,</span><br><span class="line">    <span class="attr">loop</span>: &lt;?php <span class="variable">$this</span>-&gt;options-&gt;<span class="title function_ invoke__">SubtitleLoop</span>() ?&gt;,</span><br><span class="line">    <span class="attr">backSpeed</span>:<span class="number">50</span></span><br><span class="line">      }</span><br><span class="line">  )}</span><br><span class="line">)}</span><br><span class="line"><span class="string">"function"</span>==typeof Typed?<span class="title function_ invoke__">subtitleType</span>():<span class="title function_ invoke__">getScript</span>(<span class="string">"/usr/themes/butterfly/js/typed.min.js"</span>)</span><br><span class="line">.<span class="title function_ invoke__">then</span>(subtitleType)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span> <span class="keyword">endif</span> <span class="meta">?&gt;</span></span><br><span class="line">    <span class="meta">&lt;?php</span> <span class="keyword">endif</span><span class="meta">?&gt;</span></span><br><span class="line">&lt;!--打字end--&gt;</span><br><span class="line">&lt;!--判断主页end--&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">endif</span><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">if</span>(!<span class="keyword">empty</span>(<span class="variable language_">$this</span>-&gt;options-&gt;slide_cids) &amp;&amp; <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">is</span>(<span class="string">'index'</span>)):<span class="meta">?&gt;</span></span><br><span class="line">&lt;script data-pjax&gt;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">butterfly_swiper_injector_config</span>(<span class="params"></span>) </span>{</span><br><span class="line"><span class="keyword">var</span> parent_div_git = document.<span class="title function_ invoke__">getElementById</span>(<span class="string">'recent-posts'</span>);</span><br><span class="line"><span class="keyword">var</span> item_html = `&lt;div <span class="class"><span class="keyword">class</span>="<span class="title">recent</span>-<span class="title">post</span>-<span class="title">item</span>" <span class="title">style</span>="<span class="title">height</span>: <span class="title">auto</span>;<span class="title">width</span>: 100%"&gt;&lt;<span class="title">div</span> <span class="title">class</span>="<span class="title">blog</span>-<span class="title">slider</span> <span class="title">swiper</span>-<span class="title">container</span>-<span class="title">fade</span> <span class="title">swiper</span>-<span class="title">container</span>-<span class="title">horizontal</span>" <span class="title">id</span>="<span class="title">swiper_container</span>"&gt;&lt;<span class="title">div</span> <span class="title">class</span>="<span class="title">blog</span>-<span class="title">slider__wrp</span> <span class="title">swiper</span>-<span class="title">wrapper</span>" <span class="title">style</span>="<span class="title">transition</span>-<span class="title">duration</span>: 0<span class="title">ms</span>;"&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> </span></span><br><span class="line"><span class="class">$<span class="title">slide_cids</span>=$<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">slide_cids</span>;</span></span><br><span class="line"><span class="class">$<span class="title">cid</span> = <span class="title">explode</span>(',', <span class="title">strtr</span>($<span class="title">slide_cids</span>, ' ', ','));</span></span><br><span class="line"><span class="class">$<span class="title">num</span>=<span class="title">count</span>($<span class="title">cid</span>);</span></span><br><span class="line"><span class="class">$<span class="title">html</span>="";</span></span><br><span class="line"><span class="class"><span class="title">for</span>($<span class="title">i</span>=0;$<span class="title">i</span>&lt;$<span class="title">num</span>;$<span class="title">i</span>++)</span>{</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">widget</span>(<span class="string">'Widget_Archive@post'</span>.<span class="variable">$i</span>, <span class="string">'pageSize=1&amp;type=post'</span>, <span class="string">'cid='</span>.<span class="variable">$cid</span>[<span class="variable">$i</span>])-&gt;<span class="title function_ invoke__">to</span>(<span class="variable">$ji</span>);</span><br><span class="line"><span class="variable">$html</span>=<span class="variable">$html</span>.<span class="string">'&lt;div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"&gt;&lt;a class="blog-slider__img" href="'</span>.<span class="variable">$ji</span>-&gt;permalink.<span class="string">'" alt=""&gt;&lt;img width="48" height="48" src="'</span>.<span class="title function_ invoke__">get_ArticleThumbnail</span>(<span class="variable">$ji</span>).<span class="string">'" alt="" /&gt;&lt;/a&gt;&lt;div class="blog-slider__content"&gt;&lt;span class="blog-slider__code"&gt;'</span>.<span class="title function_ invoke__">date</span>(<span class="string">'Y-m-d'</span>, <span class="variable">$ji</span>-&gt;modified).<span class="string">'&lt;/span&gt;&lt;a class="blog-slider__title" href="'</span>.<span class="variable">$ji</span>-&gt;permalink.<span class="string">'" alt="'</span>.<span class="variable">$ji</span>-&gt;title.<span class="string">'"&gt;'</span>.<span class="variable">$ji</span>-&gt;title.<span class="string">'&lt;/a&gt;&lt;div class="blog-slider__text"&gt;'</span>.<span class="variable">$ji</span>-&gt;title.<span class="string">'&lt;/div&gt;&lt;a class="blog-slider__button" href="'</span>.<span class="variable">$ji</span>-&gt;permalink.<span class="string">'" alt=""&gt;详情&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;'</span>;}<span class="keyword">echo</span> <span class="variable">$html</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/div&gt;&lt;div <span class="class"><span class="keyword">class</span>="<span class="title">blog</span>-<span class="title">slider__pagination</span> <span class="title">swiper</span>-<span class="title">pagination</span>-<span class="title">clickable</span> <span class="title">swiper</span>-<span class="title">pagination</span>-<span class="title">bullets</span>"&gt;&lt;/<span class="title">div</span>&gt;&lt;/<span class="title">div</span>&gt;&lt;/<span class="title">div</span>&gt;`;</span></span><br><span class="line"><span class="class"><span class="title">parent_div_git</span>.<span class="title">innerHTML</span>=<span class="title">item_html</span>+<span class="title">parent_div_git</span>.<span class="title">innerHTML</span> // 无报错，但不影响使用(支持<span class="title">pjax</span>跳转)</span></span><br><span class="line"><span class="class">// <span class="title">parent_div_git</span>.<span class="title">insertAdjacentHTML</span>("<span class="title">afterbegin</span>", <span class="title">item_html</span>) // 有报错，但不影响使用(支持<span class="title">pjax</span>跳转)</span></span><br><span class="line"><span class="class">}</span></span><br><span class="line"><span class="class"><span class="title">if</span> (<span class="title">document</span>.<span class="title">getElementById</span>('<span class="title">recent</span>-<span class="title">posts</span>') &amp;&amp; (<span class="title">location</span>.<span class="title">pathname</span> === '<span class="title">all</span>' || '<span class="title">all</span>' === '<span class="title">all</span>')) </span>{</span><br><span class="line"><span class="title function_ invoke__">butterfly_swiper_injector_config</span>()}</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;script  src=<span class="string">"https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script data-pjax src=<span class="string">"https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css"</span>&gt;</span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css"</span>&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">endif</span><span class="meta">?&gt;</span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;!--js-pjax end--&gt;</span><br><span class="line">&lt;div id=<span class="string">"rightside"</span> style=<span class="string">""</span>&gt;</span><br><span class="line">&lt;div id=<span class="string">"rightside-config-hide"</span> <span class="class"><span class="keyword">class</span>=""&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">button</span> <span class="title">id</span>="<span class="title">font</span>-<span class="title">plus</span>" <span class="title">type</span>="<span class="title">button</span>" <span class="title">title</span>="放大字体"&gt;&lt;<span class="title">i</span> <span class="title">class</span>="<span class="title">fas</span> <span class="title">fa</span>-<span class="title">plus</span>"&gt;&lt;/<span class="title">i</span>&gt;&lt;/<span class="title">button</span>&gt;    </span></span><br><span class="line"><span class="class">    &lt;<span class="title">button</span> <span class="title">id</span>="<span class="title">font</span>-<span class="title">minus</span>" <span class="title">type</span>="<span class="title">button</span>" <span class="title">title</span>="缩小字体"&gt;&lt;<span class="title">i</span> <span class="title">class</span>="<span class="title">fas</span> <span class="title">fa</span>-<span class="title">minus</span>"&gt;&lt;/<span class="title">i</span>&gt;&lt;/<span class="title">button</span>&gt;    </span></span><br><span class="line"><span class="class">    &lt;?<span class="title">php</span> <span class="title">if</span> ($<span class="title">this</span>-&gt;<span class="title">is</span>('<span class="title">post</span>')): ?&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">button</span> <span class="title">id</span>="<span class="title">readmode</span>" <span class="title">type</span>="<span class="title">button</span>" <span class="title">title</span>="阅读模式"&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">i</span> <span class="title">class</span>="<span class="title">fas</span> <span class="title">fa</span>-<span class="title">book</span>-<span class="title">open</span>"&gt;&lt;/<span class="title">i</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">button</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;?<span class="title">php</span> <span class="title">endif</span> ?&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">button</span> <span class="title">id</span>="<span class="title">translateLink</span>" <span class="title">type</span>="<span class="title">button</span>" <span class="title">title</span>="简繁转换"&gt;</span></span><br><span class="line"><span class="class">繁</span></span><br><span class="line"><span class="class">&lt;/<span class="title">button</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">button</span> <span class="title">id</span>="<span class="title">darkmode</span>" <span class="title">type</span>="<span class="title">button</span>" <span class="title">title</span>="浅色和深色模式转换"&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">i</span> <span class="title">class</span>="<span class="title">fas</span> <span class="title">fa</span>-<span class="title">adjust</span>"&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">i</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">button</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">button</span> <span class="title">id</span>="<span class="title">hide</span>-<span class="title">aside</span>-<span class="title">btn</span>" <span class="title">type</span>="<span class="title">button</span>" <span class="title">title</span>="单栏和双栏切换"&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">i</span> <span class="title">class</span>="<span class="title">fas</span> <span class="title">fa</span>-<span class="title">arrows</span>-<span class="title">alt</span>-<span class="title">h</span>"&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">i</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">button</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">div</span> <span class="title">id</span>="<span class="title">rightside</span>-<span class="title">config</span>-<span class="title">show</span>"&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">button</span> <span class="title">id</span>="<span class="title">rightside_config</span>" <span class="title">type</span>="<span class="title">button</span>" <span class="title">title</span>="设置"&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">i</span> <span class="title">class</span>="<span class="title">fas</span> <span class="title">fa</span>-<span class="title">cog</span> <span class="title">fa</span>-<span class="title">spin</span>"&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">i</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">button</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">if</span> ($<span class="title">this</span>-&gt;<span class="title">is</span>('<span class="title">post</span>')): ?&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">button</span> <span class="title">class</span>="<span class="title">close</span>" <span class="title">id</span>="<span class="title">mobile</span>-<span class="title">toc</span>-<span class="title">button</span>" <span class="title">type</span>="<span class="title">button</span>" <span class="title">title</span>="目录"&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">i</span> <span class="title">class</span>="<span class="title">fas</span> <span class="title">fa</span>-<span class="title">list</span>-<span class="title">ul</span>"&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">i</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">button</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">endif</span> ?&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">if</span>($<span class="title">this</span>-&gt;<span class="title">is</span>('<span class="title">post</span>') &amp;&amp; $<span class="title">this</span>-&gt;<span class="title">allow</span>('<span class="title">comment</span>') || $<span class="title">this</span>-&gt;<span class="title">is</span>('<span class="title">page</span>') &amp;&amp; $<span class="title">this</span>-&gt;<span class="title">allow</span>('<span class="title">comment</span>')): ?&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">a</span> <span class="title">id</span>="<span class="title">to_comment</span>" <span class="title">href</span>="#<span class="title">comments</span>" <span class="title">title</span>="直达评论"&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">i</span> <span class="title">class</span>="<span class="title">fas</span> <span class="title">fa</span>-<span class="title">comments</span>"&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">i</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">endif</span> ?&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">button</span> <span class="title">id</span>="<span class="title">go</span>-<span class="title">up</span>" <span class="title">type</span>="<span class="title">button</span>" <span class="title">title</span>="回到頂部" <span class="title">class</span>="<span class="title">show</span>-<span class="title">percent</span>"&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">span</span> <span class="title">class</span>="<span class="title">scroll</span>-<span class="title">percent</span>"&gt;&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">i</span> <span class="title">class</span>="<span class="title">fas</span> <span class="title">fa</span>-<span class="title">arrow</span>-<span class="title">up</span>"&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">i</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">button</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">&lt;!--<span class="title">pjax</span>--&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">if</span>($<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">EnablePjax</span> === '<span class="title">on</span>') : ?&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">if</span>($<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">StaticFile</span> == '<span class="title">CDN</span>' &amp;&amp; $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">CDNURL</span> == ''): ?&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">link</span> <span class="title">rel</span>="<span class="title">stylesheet</span>" <span class="title">href</span>="<span class="title">https</span>://&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">jsdelivrLink</span>() ?&gt;/<span class="title">gh</span>/<span class="title">rstacruz</span>/<span class="title">nprogress</span>@<span class="title">master</span>/<span class="title">nprogress</span>.<span class="title">css</span>"&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">script</span> <span class="title">src</span>="<span class="title">https</span>://&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">jsdelivrLink</span>() ?&gt;/<span class="title">gh</span>/<span class="title">rstacruz</span>/<span class="title">nprogress</span>@<span class="title">master</span>/<span class="title">nprogress</span>.<span class="title">js</span>"&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">script</span> <span class="title">src</span>="<span class="title">https</span>://&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">jsdelivrLink</span>() ?&gt;/<span class="title">npm</span>/<span class="title">pjax</span>/<span class="title">pjax</span>.<span class="title">min</span>.<span class="title">js</span>"&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">elseif</span>($<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">StaticFile</span> == '<span class="title">CDN</span>' &amp;&amp; $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">CDNURL</span> !== ''): ?&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">link</span> <span class="title">rel</span>="<span class="title">stylesheet</span>" <span class="title">href</span>="<span class="title">https</span>://<span class="title">lib</span>.<span class="title">baomitu</span>.<span class="title">com</span>/<span class="title">nprogress</span>/0.2.0/<span class="title">nprogress</span>.<span class="title">css</span>"&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">script</span> <span class="title">src</span>="<span class="title">https</span>://<span class="title">lib</span>.<span class="title">baomitu</span>.<span class="title">com</span>/<span class="title">nprogress</span>/0.2.0/<span class="title">nprogress</span>.<span class="title">js</span>"&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">script</span> <span class="title">src</span>="&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">CDNURL</span>() ?&gt;/<span class="title">static</span>/<span class="title">js</span>/<span class="title">pjax</span>.<span class="title">min</span>.<span class="title">js</span>"&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">else</span>: ?&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">link</span> <span class="title">rel</span>="<span class="title">stylesheet</span>" <span class="title">href</span>="&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">themeUrl</span>('<span class="title">static</span>/<span class="title">css</span>/<span class="title">nprogress</span>.<span class="title">css</span>'); ?&gt;"&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">script</span> <span class="title">src</span>="&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">themeUrl</span>('<span class="title">static</span>/<span class="title">js</span>/<span class="title">nprogress</span>.<span class="title">js</span>'); ?&gt;"&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">script</span> <span class="title">src</span>="&lt;?<span class="title">php</span> $<span class="title">this</span>-&gt;<span class="title">options</span>-&gt;<span class="title">themeUrl</span>('<span class="title">static</span>/<span class="title">js</span>/<span class="title">pjax</span>.<span class="title">min</span>.<span class="title">js</span>'); ?&gt;"&gt;&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span> <span class="title">endif</span>; ?&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">let</span> <span class="title">pjaxSelectors</span> = ["<span class="title">title</span>", "#<span class="title">body</span>-<span class="title">wrap</span>", "#<span class="title">rightside</span>-<span class="title">config</span>-<span class="title">hide</span>", "#<span class="title">rightside</span>-<span class="title">config</span>-<span class="title">show</span>", ".<span class="title">js</span>-<span class="title">pjax</span>"];</span></span><br><span class="line"><span class="class"><span class="title">var</span> <span class="title">pjax</span> = <span class="title">new</span> <span class="title">Pjax</span>(</span>{</span><br><span class="line">    elements: <span class="string">'a:not([target="_blank"])'</span>,</span><br><span class="line">    selectors: pjaxSelectors,</span><br><span class="line">    cacheBust: !<span class="number">1</span>,</span><br><span class="line">    analytics: !<span class="number">1</span>,</span><br><span class="line">    scrollRestoration: !<span class="number">1</span>});</span><br><span class="line">document.<span class="title function_ invoke__">addEventListener</span>(<span class="string">"pjax:send"</span>, (function() {</span><br><span class="line"><span class="keyword">if</span> (window.<span class="title function_ invoke__">removeEventListener</span>(<span class="string">"scroll"</span>, window.tocScrollFn), window.<span class="title function_ invoke__">removeEventListener</span>(<span class="string">"scroll"</span>, scrollCollect), <span class="string">"object"</span> == typeof preloader &amp;&amp; preloader.<span class="title function_ invoke__">initLoading</span>(), window.aplayers)</span><br><span class="line"><span class="keyword">for</span> (let e = <span class="number">0</span>; e &lt; window.aplayers.length; e++) window.aplayers[e].options.fixed || window.aplayers[e].<span class="title function_ invoke__">destroy</span>();<span class="string">"object"</span> == typeof typed &amp;&amp; typed.<span class="title function_ invoke__">destroy</span>();</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">e</span> = document.body.classList;</span><br><span class="line">e.<span class="title function_ invoke__">contains</span>(<span class="string">"read-mode"</span>) &amp;&amp; e.<span class="title function_ invoke__">remove</span>(<span class="string">"read-mode"</span>)</span><br><span class="line">NProgress.<span class="title function_ invoke__">start</span>();</span><br><span class="line">})),</span><br><span class="line">document.<span class="title function_ invoke__">addEventListener</span>(<span class="string">"pjax:complete"</span>, (function() {</span><br><span class="line">    <span class="meta">&lt;?php</span> <span class="variable language_">$this</span>-&gt;options-&gt;<span class="title function_ invoke__">PjaxCallBack</span>() <span class="meta">?&gt;</span></span><br><span class="line">    NProgress.<span class="title function_ invoke__">done</span>();</span><br><span class="line">    window.<span class="title function_ invoke__">refreshFn</span>(), </span><br><span class="line">    document.<span class="title function_ invoke__">querySelectorAll</span>(<span class="string">"script[data-pjax]"</span>).<span class="title function_ invoke__">forEach</span>(e =&gt; {</span><br><span class="line">        <span class="keyword">const</span> t = document.<span class="title function_ invoke__">createElement</span>(<span class="string">"script"</span>),</span><br><span class="line">        o = e.text || e.textContent || e.innerHTML || <span class="string">""</span>;</span><br><span class="line">        Array.<span class="keyword">from</span>(e.attributes).<span class="title function_ invoke__">forEach</span>(e =&gt; t.<span class="title function_ invoke__">setAttribute</span>(e.name, e.value)), t.<span class="title function_ invoke__">appendChild</span>(document.<span class="title function_ invoke__">createTextNode</span>(o)), e.parentNode.<span class="title function_ invoke__">replaceChild</span>(t, e)}),</span><br><span class="line">    GLOBAL_CONFIG.islazyload &amp;&amp; window.lazyLoadInstance.<span class="title function_ invoke__">update</span>(), <span class="string">"function"</span> == typeof chatBtnFn &amp;&amp; <span class="title function_ invoke__">chatBtnFn</span>(), <span class="string">"function"</span> == typeof panguInit &amp;&amp; <span class="title function_ invoke__">panguInit</span>(), <span class="string">"function"</span> == typeof gtag &amp;&amp; <span class="title function_ invoke__">gtag</span>(<span class="string">"config"</span>, <span class="string">""</span>, </span><br><span class="line">    {<span class="attr">page_path</span>: window.location.pathname}),</span><br><span class="line">    <span class="string">"object"</span> == typeof _hmt &amp;&amp; _hmt.<span class="title function_ invoke__">push</span>([<span class="string">"_trackPageview"</span>, window.location.pathname]), </span><br><span class="line">    <span class="string">"function"</span> == typeof loadMeting &amp;&amp; document.<span class="title function_ invoke__">getElementsByClassName</span>(<span class="string">"aplayer"</span>).length &amp;&amp; <span class="title function_ invoke__">loadMeting</span>(),</span><br><span class="line">    <span class="string">"object"</span> == typeof Prism &amp;&amp; Prism.<span class="title function_ invoke__">highlightAll</span>(), <span class="string">"object"</span> == typeof preloader &amp;&amp; preloader.<span class="title function_ invoke__">endLoading</span>()</span><br><span class="line">})),</span><br><span class="line">document.<span class="title function_ invoke__">addEventListener</span>(<span class="string">"pjax:error"</span>, e =&gt; {</span><br><span class="line">    // <span class="number">404</span> === e.request.status &amp;&amp; pjax.<span class="title function_ invoke__">loadUrl</span>(<span class="string">"/404"</span>);</span><br><span class="line">    <span class="keyword">if</span>(e.request.status === <span class="number">404</span>){</span><br><span class="line">        window.location=<span class="string">"/404"</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span>(e.request.status === <span class="number">403</span>){</span><br><span class="line">        window.location=e.request.responseURL</span><br><span class="line">    }</span><br><span class="line">})</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">endif</span><span class="meta">?&gt;</span></span><br><span class="line"> &lt;!--pjax end--&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></tbody></table></figure><p>前台截图:<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/4075210841.png" alt="前台截图"><br>后台截图：<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/801339492.png" alt="后台截图"></p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>街电租借充电宝简单测评</title>
      <link href="/posts/fdf8.html"/>
      <url>/posts/fdf8.html</url>
      
        <content type="html"><![CDATA[<p>大家好，随着疫情的放开，高考的结束，办红事和白事忙里忙外。现在我在孝感,对只有火车站或者中心区域或者酒店的充电宝产生了极大的兴趣(武汉很少看到这种东西)。<br>充电宝的租聘平台是这样的<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/1403469634.webp?_upt=685e4e841686984964" alt="充电宝租聘平台"><br>首先点下租充电宝，然后扫码，然后点点点就行了。像我这种高信誉的可以免押金租聘。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/526402161.webp?_upt=cb107d541686985114" alt="租聘成功"><br>然后你去抽一个它在闪的位置的充电宝，于是你得到了它，顺便一提，参数是 5V 2A的。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/2657362696.webp?_upt=2837227b1686985189" alt="充电宝外观正"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/2838249504.webp?_upt=65eec4541686985219" alt="充电宝外观反"><br>然后我边吃酒席边冲，吃完只用到不到半小时。下面是租借页面<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/974659647.webp?_upt=759955fc1686985293" alt="租借页面"><br>下面是归还后的金额然后看看半小时冲的点亮<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/332624268.webp?_upt=0f7edfe11686985381" alt="归还费用以及电量"><br>总之这东西很坑，建议自买或自带使用。</p>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>襄阳的风景</title>
      <link href="/posts/ca92.html"/>
      <url>/posts/ca92.html</url>
      
        <content type="html"><![CDATA[<p>目前我虽然离开襄阳，但一些风景和奇趣还是可以分享<br>这是襄阳襄城的夜景<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/626452396.webp?_upt=63985b091686984632" alt="图片"></p><p>这是襄阳的汉江对岸<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/1757808032.webp?_upt=34b02dd61686975986" alt="图片"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/2211248650.webp?_upt=d4fb21751686975994" alt="图片"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/1563858902.webp?_upt=be0a5c001686975999" alt="图片"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/355049761.webp?_upt=d82cb95e1686976005" alt="图片"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/1452985849.webp?_upt=4ef1a5f81686976013" alt="图片"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/4121689170.webp?_upt=5c71a7181686976018" alt="图片"></p><p>这是襄阳的北街<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/2624781149.webp?_upt=c86fc4c91686976163" alt="图片"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/3985719726.webp?_upt=1c246d101686976166" alt="图片"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/3985719726.webp?_upt=47da28011686983750" alt="图片"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/4143552801.webp?_upt=21d7dcfa1686983750" alt="图片"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/1710513428.webp?_upt=098566421686983750" alt="图片"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/1299794177.webp?_upt=f7af45dc1686983750" alt="图片"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/2224799218.webp?_upt=407fe8791686983750" alt="图片"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/3479517814.webp?_upt=700504221686983750" alt="图片14"></p><p>这是襄阳的部分城墙和城门<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/3810599446.webp?_upt=fd824c061686984416" alt="图片"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/115813290.webp?_upt=504b6ee51686984425" alt="图片"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/3024221421.webp?_upt=480e5f161686984548" alt="图片"></p><p>这是襄阳的城墙上韩夫人的立像<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/351335466.webp?_upt=1cf7c2041686984318" alt="图片"></p><p>襄阳是我第一故乡，后续有图片继续更新</p>]]></content>
      
      
      <categories>
          
          <category> 生活类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>用不起大厂服务器,不想掉备案的阿里云备案用户看这里</title>
      <link href="/posts/c89d.html"/>
      <url>/posts/c89d.html</url>
      
        <content type="html"><![CDATA[<p>用不起阿里云服务器？也用不起云函数/CDN/对象存储？既不想买服务器也不想取消接入的白嫖途径来了，以下两个挂着都可以算解析到阿里云服务上哦<br>1.阿里云的DNS-显性转发/隐性转发<br>这种转发无非就是转到你的常用地址上,但是你ping会发现多了个阿里云分配的跳转服务器ip<br>配置截图<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/1996828335.webp?_upt=fdec800c1686644150" alt="配置方法"><br>解析截图<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/2607091527.webp?_upt=db9b97e11686742035" alt="解析状态"><br>注:这种没有https，只能用http跳转<br>2.阿里邮箱解析<br>用了阿里云免费企业邮箱(网上有教程)后,将你要解析的域名解析到qiye.aliyun.com.就行<br>解析成功截图<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/306597471.webp?_upt=2b1977291686742168" alt="邮箱解析成功"><br>3.使用dcloud提供的serverless<br>首先用这个你得注册个账号，官网地址:<a href="https://dcloud.io/">https://dcloud.io</a><br>然后下载HBuilderX好上传和更新文件<br>点击首页的uniCloud，然后登陆，点击阿里云创建，点击免费<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/2094740479.webp?_upt=510aa5141686650348" alt="创建方法"><br>创建完点击进入前端网页托管，绑定你阿里云备案后的域名即可<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/3763063401.webp?_upt=9d16a0a81686650677" alt="前端网页托管"></p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>对Typecho-Butterfly的友链进行Links插件适配</title>
      <link href="/posts/1395.html"/>
      <url>/posts/1395.html</url>
      
        <content type="html"><![CDATA[<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php if (!defined('__TYPECHO_ROOT_DIR__')) exit; ?&gt;</span><br><span class="line">&lt;?php </span><br><span class="line">/**  </span><br><span class="line">    * 友链</span><br><span class="line">    *  </span><br><span class="line">    * @package custom  </span><br><span class="line">    */  </span><br><span class="line">$this-&gt;need('page_header.php'); </span><br><span class="line">?&gt;</span><br><span class="line">&lt;main class="layout" id="content-inner"&gt;</span><br><span class="line">&lt;div id="page"&gt;</span><br><span class="line">&lt;div id="article-container"&gt;</span><br><span class="line">    &lt;div class="flink"&gt;</span><br><span class="line">&lt;?php $this-&gt;content(); ?&gt;</span><br><span class="line">    &lt;div class="flink-list"&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">if($this-&gt;options-&gt;friendset==1){</span><br><span class="line">if(array_key_exists("Links", Typecho_Plugin::export()['activated'])){</span><br><span class="line">      $errorimg="'/usr/themes/butterfly/img/friend_404.gif'";</span><br><span class="line">      $shuffle = Helper::options()-&gt;linksshuffle;</span><br><span class="line">      $link_limit = Helper::options()-&gt;linksIndexNum;</span><br><span class="line">      $Links = Links_Plugin::output("</span><br><span class="line">      &lt;div class='flink-list-item'&gt;</span><br><span class="line">      &lt;a target='_blank' href='{url}'&gt;</span><br><span class="line">      &lt;div class='flink-item-icon'&gt;</span><br><span class="line">      &lt;img onerror=\"this.onerror=null;this.src='/usr/themes/butterfly/img/friend_404.gif'\" src='{GetLazyLoad()}' data-lazy-src='{image}' alt='' class='entered'/&gt;&lt;/div&gt;</span><br><span class="line">      &lt;div class='flink-item-name'&gt;{name}&lt;/div&gt;</span><br><span class="line">      &lt;div class='flink-item-desc' title='{description}'&gt;{description}&lt;/div&gt;</span><br><span class="line">      &lt;/a&gt;&lt;/div&gt;");</span><br><span class="line">    for($i = 0; $i &lt; count($Links); $i++){</span><br><span class="line">      echo $Links[$i];</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">}else{</span><br><span class="line">if ($this-&gt;options-&gt;Friends){</span><br><span class="line">                if (strpos($this-&gt;options-&gt;Friends, '||') !== false) {</span><br><span class="line">                   $errorimg="'/usr/themes/butterfly/img/friend_404.gif'";</span><br><span class="line">                   $list = "";</span><br><span class="line">                   $txt = $this-&gt;options-&gt;Friends;</span><br><span class="line">                   $string_arr = explode("\r\n", $txt);</span><br><span class="line">                   $long = count($string_arr);</span><br><span class="line">                   for ($i = 0; $i &lt; $long; $i++) {</span><br><span class="line">                       $list = $list . </span><br><span class="line">                       ' &lt;div class="flink-list-item""&gt;</span><br><span class="line">                       &lt;a target="_blank" title="' . explode("||", $string_arr[$i])[0] . '" </span><br><span class="line">                       href="' . explode("||", $string_arr[$i])[1] . '"&gt;</span><br><span class="line">                       &lt;div class="flink-item-icon"&gt;</span><br><span class="line">                       &lt;img onerror="this.onerror=null;this.src=' .$errorimg. '" src="'.GetLazyLoad().'" data-lazy-src="' . explode("||", $string_arr[$i])[2] . '" alt=" '. explode("||", $string_arr[$i])[0] . '" class="entered"/&gt;</span><br><span class="line">                       &lt;/div&gt;</span><br><span class="line">                       &lt;div class="flink-item-name"&gt; '. explode("||", $string_arr[$i])[0] . ' &lt;/div&gt;</span><br><span class="line">                       &lt;div class="flink-item-desc" title="' . explode("||", $string_arr[$i])[3] . '"&gt;' . explode("||", $string_arr[$i])[3] . '&lt;/div&gt;</span><br><span class="line">                       &lt;/a&gt;</span><br><span class="line">                       &lt;/div&gt;';</span><br><span class="line">         }</span><br><span class="line">                 echo $list;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php $this-&gt;need('comments.php'); ?&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;?php $this-&gt;need('post_sidebar.php'); ?&gt;</span><br><span class="line">&lt;script src="&lt;?php $this-&gt;options-&gt;themeUrl('js/comjs.js'); ?&gt;"&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type="text/javascript" src="&lt;?php $this-&gt;options-&gt;themeUrl('js/prism.js?v1.0'); ?&gt;"&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type="text/javascript" src="&lt;?php $this-&gt;options-&gt;themeUrl('js/clipboard.min.js'); ?&gt;"&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">$(document).ready(function(){var tocState = $(".toc").html();if(tocState.length == "1") {</span><br><span class="line">$("#card-toc,#mobile-toc-button").remove();}});</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;?php if (!empty($this-&gt;options-&gt;beautifyBlock) &amp;&amp; in_array('showLineNumber',</span><br><span class="line">    $this-&gt;options-&gt;beautifyBlock)): ?&gt; </span><br><span class="line">&lt;script type="text/javascript"&gt;</span><br><span class="line">(function(){</span><br><span class="line">var pres = document.querySelectorAll('pre');</span><br><span class="line">var lineNumberClassName = 'line-numbers';</span><br><span class="line">pres.forEach(function (item, index) {</span><br><span class="line">item.className = item.className == '' ? lineNumberClassName : item.className + ' ' + lineNumberClassName;</span><br><span class="line">});</span><br><span class="line">})();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;?php endif; ?&gt;</span><br><span class="line">&lt;/main&gt;</span><br><span class="line">&lt;!-- end #main--&gt;</span><br><span class="line">&lt;?php $this-&gt;need('footer.php'); ?&gt;</span><br></pre></td></tr></tbody></table></figure><p>修改完上面的内容后，需要外观设置成插件模式，然后下载links插件。</p><p>常见问题<br>1.为什么不显示<br>首先检查是否独立页面创建相关模板页面，如下图所设置<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/2415076383.webp" alt="独立页面检查"></p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>博客专栏 - 群友回答集合地</title>
      <link href="/posts/8575.html"/>
      <url>/posts/8575.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>欢迎各位来到此次专栏区域，在这里解答各种疑难技术问题。如果没有你所要的解决方案，请评论区评论示意</p></blockquote><h1 id="以下是问题区域"><a href="#以下是问题区域" class="headerlink" title="以下是问题区域"></a>以下是问题区域</h1><h1 id="js右键菜单有哪些"><a href="#js右键菜单有哪些" class="headerlink" title="js右键菜单有哪些?"></a>js右键菜单有哪些?</h1><p>后续开源给各位学习的个人介绍会有哦，届时安装去看看</p><h1 id="js右键的特效有哪些"><a href="#js右键的特效有哪些" class="headerlink" title="js右键的特效有哪些"></a>js右键的特效有哪些</h1><p>建议阅读这篇文章:<a href="https://blog.csdn.net/qq_43562785/article/details/109511585">https://blog.csdn.net/qq_43562785/article/details/109511585</a></p><h1 id="遇到-rar-zip-7z-cab-iso等文件怎么办"><a href="#遇到-rar-zip-7z-cab-iso等文件怎么办" class="headerlink" title="遇到.rar,.zip,.7z,.cab,.iso等文件怎么办"></a>遇到.rar,.zip,.7z,.cab,.iso等文件怎么办</h1><p>这些文件都是压缩文件，建议自行下载或<a href="http://urlqh.cn/n3Qn1">点击这里下载</a>安装后打开这些文件哦</p><h1 id="系统如何重装"><a href="#系统如何重装" class="headerlink" title="系统如何重装"></a>系统如何重装</h1><p>建议先<a href="./315.html">点击看看并阅读这篇本站文章</a>哦，资源均在网盘里面，可随时高速下载使用，系统全部纯净无捆绑。<br>#Google AdSense审核通过后不显示广告怎么办<br>首先你的站点绝对是还在终审核状态，然后就是展示区域太小，建议编写个框架，然后使用自定义广告区域(广告-按广告单元)。<br>如下图所示:<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/1094966428.png?_upt=03faabce1686626735" alt="自定义广告"><br>#Google AdSense广告审核后如何控制敏感内容<br>Google AdSense广告经常有各种违反中国法律的内容。进入Google AdSense后点击品牌保障，屏蔽控制功能，右边一个个查看，不符合就屏蔽掉。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/06/3406460570.png?_upt=33ade5831686626405" alt="设置页面"><br>#本站采用了什么广告？<br>本站采用了Google AdSense,这个广告比较难申请，申请前请先想好一天发布什么原创文章(写完后将部分文字丢到Google搜索里面看一遍)<br>然后尽量站点注册有两个月，经测试域名二手市场的域名买回来后再写十篇文章审核速度较快。<br>#网站为什么流量大，不够用<br>如果可以,请在浏览器使用view-source查看，或者进入控制台查看网络(network)<br>请求全是静态资源，所以如果买不起大带宽服务器，可以考虑github和国内cdn配合使用(海外使用cloudflare)<br>cloudflare海外如何免费cname接入我这边后续出教程</p><h1 id="typecho迁移后可以正常访问首页但是访问其他页面就404"><a href="#typecho迁移后可以正常访问首页但是访问其他页面就404" class="headerlink" title="typecho迁移后可以正常访问首页但是访问其他页面就404"></a>typecho迁移后可以正常访问首页但是访问其他页面就404</h1><p>请设置伪静态<br>nginx  </p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (!-e $request_filename) {</span><br><span class="line">    rewrite ^(.*)$ /index.php$1 last;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>Apache</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">RewriteEngine on          </span><br><span class="line">RewriteBase /    </span><br><span class="line"># 下面这两行可以不要         </span><br><span class="line">RewriteCond %{SERVER_PORT} !^443$    </span><br><span class="line">RewriteRule ^.*$ https://%{SERVER_NAME}%{REQUEST_URI} [L,R]</span><br><span class="line"></span><br><span class="line">&lt;IfModule mod_rewrite.c&gt;</span><br><span class="line">RewriteEngine On</span><br><span class="line"># 下面是在根目录，文件夹要修改路径</span><br><span class="line">RewriteBase /</span><br><span class="line">RewriteCond %{REQUEST_FILENAME} !-f</span><br><span class="line">RewriteCond %{REQUEST_FILENAME} !-d</span><br><span class="line">RewriteRule ^(.*)$ /index.php/$1 [L]</span><br><span class="line">&lt;/IfModule&gt;</span><br></pre></td></tr></tbody></table></figure><h2 id="Typecho好用的插件有哪些"><a href="#Typecho好用的插件有哪些" class="headerlink" title="Typecho好用的插件有哪些"></a>Typecho好用的插件有哪些</h2><p>BaiduTextCensor 一个评论自动审核的插件<br>BiliVido 一个解析哔哩哔哩视频的插件<br>CommentNotifier 一个评论通过时发送邮件提醒的插件<br>Geetest 极验验证插件，用于用户登录、用户评论时使用极验提供的滑动验证码<br>Links 友情链接插件<br>Pisces Pisces小程序插件<br>ShortLinks 把外部链接转换为指定内部链接<br>Sitemap Google Sitemap 生成器<br>UpyunFile 又拍云（UpYun）文件管理</p><h2 id="请问数据库端口是多少，需不需要开放"><a href="#请问数据库端口是多少，需不需要开放" class="headerlink" title="请问数据库端口是多少，需不需要开放"></a>请问数据库端口是多少，需不需要开放</h2><p>数据库默认端口是3306，如果数据库需要其他服务器连接请开放公网端口使用<br>一般情况下，本地使用采用localhost地址或者127.0.0.1地址</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>诺依阁的技术树现已开源</title>
      <link href="/posts/b905.html"/>
      <url>/posts/b905.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>本来和开源当天发布，这几天维护和修复，重新整理了静态集编写方式和加入版权控制台标识</p></blockquote><h1 id="演示站点-https-www-nuoyis-net"><a href="#演示站点-https-www-nuoyis-net" class="headerlink" title="演示站点:https://www.nuoyis.net"></a>演示站点:<a href="https://www.nuoyis.net/">https://www.nuoyis.net</a></h1><h1 id="源码起名-webpages"><a href="#源码起名-webpages" class="headerlink" title="源码起名:webpages"></a>源码起名:webpages</h1><p>为什么起这个名呢？原因就是以JS为本地动态解析，皆都静态化，为省钱和白嫖更加极致</p><h1 id="更新日志"><a href="#更新日志" class="headerlink" title="更新日志"></a>更新日志</h1><p>2023-05-30<br>优化并用js添加内容<br>加入页面加载页<br>2023-04-06<br>本站备案完成并正式上线该静态<br>2023-03-31<br>本页制作完毕<br>2023-03-05<br>开始制作本页面</p><p>保留版权，可以随意改动js<br>nuoyis-用宝塔或者Windows记事本 win+f一键替换<br>欢迎使用本静态站点，十分抗打</p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Typecho 1.2.1稳定版已更新</title>
      <link href="/posts/89e3.html"/>
      <url>/posts/89e3.html</url>
      
        <content type="html"><![CDATA[<p>目前，typecho 1.2.1正式版已经提供下载通道，直通车:[<a href="https://github.com/typecho/typecho/releases/tag/v1.2.1][1]">https://github.com/typecho/typecho/releases/tag/v1.2.1][1]</a>.<br>本次官方更新了以下内容:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"> Fix checkVersion by @sy-records in #1356</span><br><span class="line">修复Sqlite目录带.校验不通过问题 by @maoxian-1 in #1357</span><br><span class="line">Pr/1344 by @joyqi in #1360</span><br><span class="line">Fix pgsql reset id error by @sy-records in #1369</span><br><span class="line">Update admin welcome tip by @sy-records in #1389</span><br><span class="line">Enhancement of Typecho\Cookie by @sy-records in #1399</span><br><span class="line">fix CORS issues in preview page. 修复文章预览页面跨域问题 by @Valpha in #1400</span><br><span class="line">模板缩略图支持识别webp图片后缀 by @jrotty in #1403</span><br><span class="line">修正注释 by @jrotty in #1411</span><br><span class="line">Fix notice not clear by @sy-records in #1416</span><br><span class="line">修复管理员进入其他用户文章列表时显示所有文章的bug by @jrotty in #1415</span><br><span class="line">Fix QUIC/https Mixed Content by @MBRjun in #1423</span><br><span class="line">Add admin/footer.php begin plugin by @sy-records in #1426</span><br><span class="line">Fix missing change themeUrl by @sy-records in #1431</span><br><span class="line">Fix category creation error when using xmlrpc by @sy-records in #1443</span><br><span class="line">Fix #1449 by @sy-records in #1450</span><br><span class="line">Minor update by @vndroid in #1451</span><br><span class="line">Minor update by @vndroid in #1460</span><br><span class="line">Fix the error of getting request parameters by @sy-records in #1464</span><br><span class="line">Fix multiple calls returning the same object (#1412) by @benzBrake in #1478</span><br><span class="line">Fix use SQLite error of windows install by @sy-records in #1471</span><br><span class="line">Adjust style of edit comments by @sy-records in #1483</span><br><span class="line">Fix comments feed jump error by @sy-records in #1491</span><br><span class="line">Fix #1495 by @sy-records in #1496</span><br><span class="line">Fix unsafe use of jQuery .html() by @l2dy in #1382</span><br><span class="line">Fix htmlspecialchars error for feed by @sy-records in #1522</span><br><span class="line">Use https links by @l2dy in #1280</span><br><span class="line">Support ssl for pdo_mysql and mysqli by @sy-records in #1525</span><br><span class="line">Fix: php 8.1 strtolower not allow null value by @benzBrake in #1559</span><br><span class="line">Fix an XSS vulnerability in v1.2.1-rc by @FaithPatrick in #1561</span><br><span class="line">fix php 8.1 Deprecated: htmlspecialchars(): Passing null to parameter #1 by @benzBrake in #1570</span><br><span class="line">Add a prompt message for manual database creation by @sy-records in #1348</span><br><span class="line">fix #1574 by @joyqi in #1575</span><br><span class="line">improve release ci, upload built asset after new release published. by @joyqi in #1576</span><br><span class="line">重复执行判断的优化 by @logdd in #1586</span><br></pre></td></tr></tbody></table></figure><p>总结:适配PHP8.1,XSS攻击防护优化,其他系统修复级优化<br>然后，本站因为迁移图片和静态源站分开，然而upyunfile插件500报错，更新需要停止一段时间（用于维护站点文章）<br>  [1]: <a href="https://github.com/typecho/typecho/releases/tag/v1.2.1">https://github.com/typecho/typecho/releases/tag/v1.2.1</a></p>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>高考倒计时-自动变化</title>
      <link href="/posts/55a2.html"/>
      <url>/posts/55a2.html</url>
      
        <content type="html"><![CDATA[<p>距离<span id="year1"></span>年高考还有<br><br><br><br>距离<span id="year2"></span>年高考还有<br></p><script language="javascript" type="text/javascript">    var myDate = new Date();    var tYear = myDate.getFullYear();  document.getElementById('year1').innerHTML=tYear;document.getElementById('year2').innerHTML=tYear+1;timer1(tYear+'-06-08 0:00:00');timer2(tYear+1+'-06-08 0:00:00');    /**     * 入参第一个为时间字符串，第二个参数为模式选择，如果传入'day'，按天数倒计时到秒，不传值，按小时精确到秒     * @param timeStr     * @param item     */    function timer1(timeStr,item){        setInterval(function(){            let nowTime = new Date(timeStr) - new Date;            let minutes = parseInt(nowTime / 1000 / 60 % 60, 10);//计算剩余的分钟            let seconds = parseInt(nowTime / 1000 % 60, 10);//计算剩余的秒数              minutes = checkTime(minutes);            seconds = checkTime(seconds);                let days = parseInt(nowTime / 1000 / 60 / 60 / 24, 10); //计算剩余的天数                let hours = parseInt(nowTime / 1000 / 60 / 60 % 24, 10); //计算剩余的小时                days = checkTime(days);                hours = checkTime(hours);if(days>=2){         document.getElementById('timer').innerHTML= days-1 + "天" + hours + "小时" + minutes + "分" + seconds + "秒";}else if(days==1){document.getElementById('timer').innerHTML= "即将高考";}else if(days==0){    document.getElementById('timer').innerHTML= "高考进行中";              }else{document.getElementById('timer').innerHTML= "高考已结束";         }      },1000);    } function timer2(timeStr,item){        setInterval(function(){            let nowTime = new Date(timeStr) - new Date;            let minutes = parseInt(nowTime / 1000 / 60 % 60, 10);//计算剩余的分钟            let seconds = parseInt(nowTime / 1000 % 60, 10);//计算剩余的秒数              minutes = checkTime(minutes);            seconds = checkTime(seconds);                let days = parseInt(nowTime / 1000 / 60 / 60 / 24, 10); //计算剩余的天数                let hours = parseInt(nowTime / 1000 / 60 / 60 % 24, 10); //计算剩余的小时                days = checkTime(days);                hours = checkTime(hours);if(days>=2){         document.getElementById('timer2').innerHTML= days-1 + "天" + hours + "小时" + minutes + "分" + seconds + "秒";}else if(days==1){document.getElementById('timer2').innerHTML= "即将高考";}else if(days==0){    document.getElementById('timer2').innerHTML= "高考进行中";              }else{document.getElementById('timer2').innerHTML= "高考已结束";         }      },1000);    }    function checkTime(i) { //将0-9的数字前面加上0，例1变为01        if (i < 10) {            i = "0" + i;        }        return i;    }</script><p>寄语：在奋斗的过程中，常会遭受挫折，惟有坚持到底，才会获得最后的成功!<br>因高考没时间自主编写,就写了个每年会自动变换，这里原创作者：猫狗鼠鱼<br>下载地址:[高考倒计时减时版](<a href="https://catdog007.icu/HTML/timer/timer.html">https://catdog007.icu/HTML/timer/timer.html</a>“ class=”bottomsay)</p>]]></content>
      
      
      <categories>
          
          <category> guing </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>阿里云备案 - 曾经备案的足迹</title>
      <link href="/posts/4383.html"/>
      <url>/posts/4383.html</url>
      
        <content type="html"><![CDATA[<p>各位,这是备案后开站的第二次文章编写，虽然文章是在关站解析hosts编写的，但开站再展示给谷歌审核不至于没有文章。<br>以下是备案的方法和截图，以及最后湖北省管局审核通过时间<br>站点是于3月初计划关闭，期间关闭几次，提交第一次初审在2023年3月31日，这时的我还没成年，而我又面临高考，只能提前先把身份证拍摄，脸一录(防止班主任要收身份证)。<br>这是我备案时填写的内容(你可以参考填写） <img src="https://images.nuoyis.net/blog/typecho/uploads/2023/03/20230330091804746.png"><br>这是第一次初审未通过的图片(年龄未达到) <img src="https://images.nuoyis.net/blog/typecho/uploads/2023/03/20230330091832759.png"><br>然后第二次提交是三月底，这次提交非常顺畅，我记得我从0点兴奋到1点睡觉，阿里云初审排队还挺长<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/04/20230401125807543.png"><br>正值我吃饭的时候，阿里云小姐姐打电话告诉我不要做哪些东西，然后就通过了<br>接着等短信，短信是12381(工信部)发过来的核验码(说的好听是注册码) <img src="https://images.nuoyis.net/blog/typecho/uploads/2023/04/20230403011516268.jpg"><br>进入官网，填写验证信息后出现这个 <img src="https://images.nuoyis.net/blog/typecho/uploads/2023/04/20230403011710659.png"><br>过了一天，阿里云会自动审核短信是否通过，然后跳转到管局审核<br>手机版 <img src="https://images.nuoyis.net/blog/typecho/uploads/2023/04/20230403011558943.jpg"><br>电脑版 <img src="https://images.nuoyis.net/blog/typecho/uploads/2023/04/20230403012314117.png"><br><del>等到最后报备案通过时间</del> 备案过了,湖北用了6~7天<br>以下是备案图<br>工信部短信<br><img src="https://static.nuoyis.com/static/lovablewyh-library/blog/wordpress/images/2023/04/20230407125832642.jpg"><br>阿里云后台<br><img src="https://static.nuoyis.com/static/lovablewyh-library/blog/wordpress/images/2023/04/20230407125823757.png"></p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>关于部分云服务器厂商更换成雨云的决定</title>
      <link href="/posts/7838.html"/>
      <url>/posts/7838.html</url>
      
        <content type="html"><![CDATA[<p>这是本站备案后第一篇文章(公告),经多次慎重考虑，以及针对客服态度和服务态度，对星辰云所有宣传页面和合作企业去除，并在服务到期后注销该云服务器商户注册的账户。<br>事情经过:<br>我很早就购买了一台虚拟主机，一个月价格与彩虹云持平甚至更高。买了没多久，线路就崩掉了一次，然后我对此产品要求退还成其他产品，但是不退。这就算了,然后我买了服务器，手贱点了删除主机，结果第一天还没用到就真的删除了，且不退款。于是我很久没有用他家的云产品了。<br>然后过了很久，我又智障式的买了他家的宝塔虚拟主机，买一年前先购买了一个月,线路几乎都是碧绿色，然后我就购买了一年，线路就经常报黄，而且读取香港同类主机延迟都非常大。甚至那两天线路甚至内网无法访问，要亲自去官网看，没有任何短信或者邮件通知。<br>以上问题均造成了我站服务器SLA低于 70%,依照他们公司的隐私政策是可给予退款的，且有时IP湖北联通访问均超时，换移动和电信就从来没有这个问题。<br>我最反感的就是服务不行不能换不能退，隔壁彩虹云以及大厂阿里云与腾讯云起码是可以换国内使用的，不至于浪费金额,这家退不让退，也损失我很多金额。对于消费者法律也是有部分可以退换的内容<br><img src="https://static.nuoyis.com/static/lovablewyh-library/blog/wordpress/images/2023/03/20230328090045346.png" alt=""><br><img src="https://static.nuoyis.com/static/lovablewyh-library/blog/wordpress/images/2023/03/20230328090531370.png" alt=""><br><img src="https://static.nuoyis.com/static/lovablewyh-library/blog/wordpress/images/2023/03/20230328090822252.png" alt=""><br>而且他家协议还有写错的地方，禁止遵守中国香港美国的法律<br><img src="https://static.nuoyis.com/static/lovablewyh-library/blog/wordpress/images/2023/03/20230328091210664.png" alt=""><br>不说这家了，反正我也备案迁移至国内了，更改云服务器厂商为雨云，下篇文章写雨云服务器和虚拟主机的好处和优点</p>]]></content>
      
      
      <categories>
          
          <category> 公告 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>博客优化 - wordpress版权标识插件</title>
      <link href="/posts/43a8.html"/>
      <url>/posts/43a8.html</url>
      
        <content type="html"><![CDATA[<p>Hi,正在观看本片文章的同学们，我又开始开干wordpress了奥,wordpress几乎都是在主题上面添加版权标识，万一主题要是更新了那不就覆盖没有了。<br>于是我就编写了一个小插件，效果如图下所示<br><img src="https://img-blog.csdnimg.cn/60913dd623534002a5e904d80fc71808.png#pic_center" alt="在这里插入图片描述"><br>代码部分借鉴了typecho那边大佬的写法<br>地址:<a href="https://blog.csdn.net/qintaiwu/article/details/120099861">https://blog.csdn.net/qintaiwu/article/details/120099861</a><br>代码如下</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">Plugin Name:wordpress版权标识</span></span><br><span class="line"><span class="comment">Plugin slug :nuoyis-copyright</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Plugin URI: https://blog.nuoyis.com</span></span><br><span class="line"><span class="comment">Description:在文章中进行版权标识,避免主题更新后恢复</span></span><br><span class="line"><span class="comment">Version: 1.0</span></span><br><span class="line"><span class="comment">Author: 诺依阁</span></span><br><span class="line"><span class="comment">Author URI: https://www.nuoyis.com</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nuoyis_copyright_style</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="title function_ invoke__">wp_enqueue_style</span>( <span class="string">'nuoyis_copyright_stylesheets'</span>, <span class="title function_ invoke__">plugins_url</span>(<span class="string">'./copyright.css'</span>, <span class="keyword">__FILE__</span>), <span class="keyword">array</span>(), <span class="string">'1.0'</span>, <span class="string">'all'</span> );</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nuoyis_copyright</span>(<span class="params"><span class="variable">$content</span></span>) </span>{</span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_ invoke__">is_single</span>() <span class="keyword">or</span> <span class="title function_ invoke__">is_feed</span>()) {</span><br><span class="line">        <span class="variable">$content</span>.= <span class="string">'</span></span><br><span class="line"><span class="string">        &lt;div class="post-end"&gt;</span></span><br><span class="line"><span class="string">            &lt;span&gt;&lt;a style="color:#F17B8F; border-bottom: 0px solid #999!important;"&gt;-------------------------此篇文章到此结束-------------------------&lt;/a&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;ul class="post-copyright"&gt;</span></span><br><span class="line"><span class="string">            &lt;li class="post-copyright-author"&gt;**本文作者：**['</span>.<span class="title function_ invoke__">get_the_author</span>().<span class="string">'][1]&lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;li class="post-copyright-link"&gt;**本文链接地址：**&lt;a title="'</span>.<span class="title function_ invoke__">get_the_title</span>().<span class="string">'" href="'</span>.<span class="title function_ invoke__">get_permalink</span>().<span class="string">'"&gt;'</span>.<span class="title function_ invoke__">get_permalink</span>().<span class="string">'&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;li class="post-copyright-license"&gt;**版权声明：**本站所有文章除特别声明外，均采用：&lt;a title="文章协议" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"&gt;CC BY-NC-SA 4.0&lt;/a&gt;许可协议。转载请注明来自&lt;a href="./" data-pjax-state=""&gt;'</span>.<span class="title function_ invoke__">get_bloginfo</span>(<span class="string">'name'</span>).<span class="string">'&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;/ul&gt;</span></span><br><span class="line"><span class="string">        '</span>;</span><br><span class="line">        <span class="variable">$content</span>.= <span class="string">"&lt;/blockquote&gt;"</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$content</span>;</span><br><span class="line">}</span><br><span class="line"><span class="title function_ invoke__">add_action</span>(<span class="string">'wp_enqueue_scripts'</span>, <span class="string">'nuoyis_copyright_style'</span>);</span><br><span class="line"><span class="title function_ invoke__">add_filter</span> (<span class="string">'the_content'</span>, <span class="string">'nuoyis_copyright'</span>);</span><br></pre></td></tr></tbody></table></figure><p>css代码</p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*版权信息&amp;正文结束分割线 CSS</span></span><br><span class="line"><span class="comment">本插件css部分和部分html来源如下:</span></span><br><span class="line"><span class="comment">版权声明：本文为CSDN博主「qintaiwu」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。</span></span><br><span class="line"><span class="comment">原文链接：https://blog.csdn.net/qintaiwu/article/details/120099861*/</span></span><br><span class="line"><span class="selector-class">.post-end</span> {</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">1px</span> dotted <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">20px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.cutline</span> <span class="selector-tag">span</span> {</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">236</span>, <span class="number">237</span>, <span class="number">238</span>);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d6d6d6</span>;</span><br><span class="line">    <span class="attribute">font</span>: <span class="number">12px</span> Arial,Microsoft JhengHei;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">10px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.post-copyright</span> {</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">4px</span> solid <span class="number">#ff5252</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">220</span>, <span class="number">220</span>, <span class="number">220</span>, <span class="number">0.1</span>);</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">    <span class="attribute">word-break</span>: break-all;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.post-copyright</span> <span class="selector-tag">li</span> {</span><br><span class="line">    <span class="attribute">display</span>: list-item;</span><br><span class="line">    <span class="attribute">text-align</span>: -webkit-match-parent;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.post-copyright</span> <span class="selector-tag">a</span> {</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">120</span>, <span class="number">231</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">transition</span>: color .<span class="number">1s</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>代码经过反复修改，大致是没有什么问题的。目前已经上传到gitee上<br>地址:<a href="https://gitee.com/nuoyis/nuowp_copyright">https://gitee.com/nuoyis/nuowp_copyright</a></p><p>[1]: ‘.get_author_posts_url(get_the_author_meta( ‘ID’)).’</p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>argon登陆发送评论模块添加 - 为备案检查第二篇</title>
      <link href="/posts/620a.html"/>
      <url>/posts/620a.html</url>
      
        <content type="html"><![CDATA[<p>对于argon代码修改如下:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">if ( post_password_required() ) {</span><br><span class="line">return;</span><br><span class="line">}</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id="comments" class="comments-area card shadow-sm&lt;?php if (get_option('argon_comment_avatar_vcenter') == 'true'){echo " comment-avatar-vertical-center";} ?&gt;"&gt;</span><br><span class="line">&lt;div class="card-body"&gt;</span><br><span class="line">&lt;?php if ( have_comments() ){?&gt;</span><br><span class="line">&lt;h2 class="comments-title"&gt;</span><br><span class="line">&lt;i class="fa fa-comments"&gt;&lt;/i&gt;</span><br><span class="line">&lt;?php _e('评论', 'argon');?&gt;</span><br><span class="line">&lt;/h2&gt;</span><br><span class="line">&lt;ol class="comment-list"&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">get_option("argon_comment_pagination_type", "feed") == "feed" ? </span><br><span class="line">wp_list_comments(</span><br><span class="line">array(</span><br><span class="line">'type'      =&gt; 'comment',</span><br><span class="line">'callback'  =&gt; 'argon_comment_format'</span><br><span class="line">),</span><br><span class="line">argon_get_comments()</span><br><span class="line">) :</span><br><span class="line">wp_list_comments(</span><br><span class="line">array(</span><br><span class="line">'type'      =&gt; 'comment',</span><br><span class="line">'callback'  =&gt; 'argon_comment_format'</span><br><span class="line">)</span><br><span class="line">);</span><br><span class="line">?&gt;</span><br><span class="line">&lt;/ol&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">if (get_option("argon_comment_pagination_type") == "page"){</span><br><span class="line">if (get_comment_pages_count() &gt; 1){</span><br><span class="line">echo get_argon_formatted_comment_paginate_links_for_all_platforms();</span><br><span class="line">}</span><br><span class="line">}else{</span><br><span class="line">$prevPageUrl = get_argon_comment_paginate_links_prev_url();</span><br><span class="line">if (!empty($prevPageUrl)){?&gt;</span><br><span class="line">&lt;div class="comments-navigation-more"&gt;</span><br><span class="line">&lt;button id="comments_more" class="btn btn-lg btn-primary rounded-circle" href="&lt;?php echo $prevPageUrl;?&gt;"&gt;</span><br><span class="line">&lt;span class="btn-inner--icon"&gt;</span><br><span class="line">&lt;i class="fa fa-angle-down" style="transform: translateY(2px);font-size: 19.2px;"&gt;&lt;/i&gt;</span><br><span class="line">&lt;/span&gt;</span><br><span class="line">&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;?php }</span><br><span class="line">}</span><br><span class="line">?&gt;</span><br><span class="line">&lt;?php } else {?&gt;</span><br><span class="line">&lt;span&gt;&lt;?php _e('暂无评论', 'argon');?&gt;&lt;/span&gt;</span><br><span class="line">&lt;?php } ?&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php if (!comments_open() &amp;&amp; get_comments_number() &amp;&amp; post_type_supports( get_post_type(), 'comments' )) {?&gt;</span><br><span class="line">&lt;div id="post_comment" class="card shadow-sm"&gt;</span><br><span class="line">&lt;div class="card-body"&gt;</span><br><span class="line">&lt;span&gt;&lt;?php _e('本文评论已关闭', 'argon');?&gt;&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;?php } else { ?&gt;</span><br><span class="line">&lt;?php $name_and_email_required = get_option('require_name_email');?&gt;</span><br><span class="line">&lt;?php $enable_qq_avatar = get_option('argon_comment_enable_qq_avatar'); ?&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">$current_commenter = wp_get_current_commenter();</span><br><span class="line">if ($enable_qq_avatar == 'true'){</span><br><span class="line">$current_commenter['comment_author_email'] = str_replace("@avatarqq.com", "", $current_commenter['comment_author_email']);</span><br><span class="line">}</span><br><span class="line">?&gt;</span><br><span class="line">&lt;div id="post_comment" class="card shadow-sm &lt;?php if (is_user_logged_in()) {echo("logged");}?&gt;&lt;?php if (!$name_and_email_required) {echo(" no-need-name-email");}?&gt;&lt;?php if (get_option('argon_comment_need_captcha') == 'false') {echo(" no-need-captcha");}?&gt;&lt;?php if ($enable_qq_avatar == 'true') {echo(" enable-qq-avatar");}?&gt;"&gt;</span><br><span class="line">&lt;div class="card-body"&gt;</span><br><span class="line">&lt;h2 class="post-comment-title"&gt;</span><br><span class="line">&lt;i class="fa fa-commenting"&gt;&lt;/i&gt;</span><br><span class="line">&lt;span class="hide-on-comment-editing"&gt;&lt;?php echo apply_filters("argon_comment_title", __('发送评论', 'argon'))?&gt;&lt;/span&gt;</span><br><span class="line">&lt;span class="hide-on-comment-not-editing"&gt;&lt;?php echo apply_filters("argon_comment_title_editing", __('编辑评论', 'argon'))?&gt;&lt;/span&gt;</span><br><span class="line">&lt;/h2&gt;</span><br><span class="line">&lt;div id="post_comment_reply_info" class="post-comment-reply" style="display: none;"&gt;</span><br><span class="line">&lt;span&gt;&lt;?php _e('正在回复', 'argon');?&gt; &lt;b&gt;&lt;span id="post_comment_reply_name"&gt;&lt;/span&gt;&lt;/b&gt;&lt;?php _e(' 的评论', 'argon');?&gt; :&lt;/span&gt;</span><br><span class="line">&lt;div id="post_comment_reply_preview" class="post-comment-reply-preview"&gt;&lt;/div&gt;</span><br><span class="line">&lt;button id="post_comment_reply_cancel" class="btn btn-outline-primary btn-sm"&gt;&lt;?php _e('取消回复', 'argon');?&gt;&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;?php if ( get_option('comment_registration') &amp;&amp; !is_user_logged_in()) : ?&gt;</span><br><span class="line">        &lt;p&gt;&lt;?php printf(__('你需要先 &lt;a href="%s"&gt;登录&lt;/a&gt; 才能发表评论.'), wp_login_url(get_permalink())); ?&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;?php else : ?&gt;</span><br><span class="line">&lt;form&gt;</span><br><span class="line">&lt;div class="row"&gt;</span><br><span class="line">&lt;div class="col-md-12"&gt;</span><br><span class="line">&lt;textarea id="post_comment_content" class="form-control form-control-alternative" placeholder="&lt;?php echo apply_filters("argon_comment_textarea_placeholder", __('评论内容', 'argon'));?&gt;" name="comment" style="height: 80px;"&gt;&lt;/textarea&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class="col-md-12" style="height: 0;overflow: hidden;"&gt;</span><br><span class="line">&lt;pre id="post_comment_content_hidden" class=""&gt;&lt;/pre&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;?php </span><br><span class="line">$col1_class = "col-md-4";</span><br><span class="line">$col2_class = "col-md-5";</span><br><span class="line">$col3_class = "col-md-3";</span><br><span class="line">if ((get_option('argon_hide_name_email_site_input') == 'true') &amp;&amp; ($name_and_email_required != true)){</span><br><span class="line">if (get_option('argon_comment_need_captcha') == 'false'){</span><br><span class="line">$col1_class = "d-none";</span><br><span class="line">$col2_class = "d-none";</span><br><span class="line">$col3_class = "d-none";</span><br><span class="line">}else{</span><br><span class="line">$col1_class = "d-none";</span><br><span class="line">$col2_class = "d-none";</span><br><span class="line">$col3_class = "col-md-12";</span><br><span class="line">}</span><br><span class="line">}else{</span><br><span class="line">if (get_option('argon_comment_need_captcha') == 'false'){</span><br><span class="line">$col1_class = "col-md-6";</span><br><span class="line">$col2_class = "col-md-6";</span><br><span class="line">$col3_class = "d-none";</span><br><span class="line">}else{</span><br><span class="line">$col1_class = "col-md-4";</span><br><span class="line">$col2_class = "col-md-5";</span><br><span class="line">$col3_class = "col-md-3";</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line">?&gt;</span><br><span class="line">&lt;div class="row hide-on-comment-editing" style="margin-bottom: -10px;"&gt;</span><br><span class="line">&lt;div class="&lt;?php echo $col1_class;?&gt;"&gt;</span><br><span class="line">&lt;div class="form-group"&gt;</span><br><span class="line">&lt;div class="input-group input-group-alternative mb-4"&gt;</span><br><span class="line">&lt;div class="input-group-prepend"&gt;</span><br><span class="line">&lt;span class="input-group-text"&gt;&lt;i class="fa fa-user-circle"&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;input id="post_comment_name" class="form-control" placeholder="&lt;?php _e('昵称', 'argon');?&gt;" type="text" name="author" value="&lt;?php if (is_user_logged_in()) {echo (wp_get_current_user() -&gt; user_login);} else {echo htmlspecialchars($current_commenter['comment_author']);} ?&gt;"&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class="&lt;?php echo $col2_class;?&gt;"&gt;</span><br><span class="line">&lt;div class="form-group"&gt;</span><br><span class="line">&lt;div class="input-group input-group-alternative mb-4"&gt;</span><br><span class="line">&lt;div class="input-group-prepend"&gt;</span><br><span class="line">&lt;span class="input-group-text"&gt;&lt;i class="fa fa-envelope"&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;input id="post_comment_email" class="form-control" placeholder="&lt;?php _e('邮箱', 'argon');?&gt;&lt;?php if ($enable_qq_avatar == 'true'){echo __(' / QQ 号', 'argon');} ?&gt;" type="email" name="email" value="&lt;?php if (is_user_logged_in()) {echo (wp_get_current_user() -&gt; user_email);} else {echo htmlspecialchars($current_commenter['comment_author_email']);} ?&gt;"&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class="&lt;?php echo $col3_class;?&gt;"&gt;</span><br><span class="line">&lt;div class="form-group"&gt;</span><br><span class="line">&lt;div class="input-group input-group-alternative mb-4 post-comment-captcha-container" captcha="&lt;?php echo get_comment_captcha(get_comment_captcha_seed());?&gt;"&gt;</span><br><span class="line">&lt;div class="input-group-prepend"&gt;</span><br><span class="line">&lt;span class="input-group-text"&gt;&lt;i class="fa fa-key"&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;input id="post_comment_captcha" class="form-control" placeholder="&lt;?php _e('验证码', 'argon');?&gt;" type="text" &lt;?php if (current_user_can('level_7')) {echo('value="' . get_comment_captcha_answer(get_comment_captcha_seed()) . '" disabled');}?&gt;&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.post-comment-captcha-container:before{</span><br><span class="line">content: attr(captcha);</span><br><span class="line">}</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;?php if (get_option('argon_get_captcha_by_ajax', 'false') == 'true') {?&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">$(".post-comment-captcha-container").attr("captcha", "Loading...");</span><br><span class="line">$.ajax({</span><br><span class="line">url : argonConfig.wp_path + "wp-admin/admin-ajax.php",</span><br><span class="line">type : "POST",</span><br><span class="line">dataType : "json",</span><br><span class="line">data : {</span><br><span class="line">action: "get_captcha",</span><br><span class="line">},</span><br><span class="line">success : function(result){</span><br><span class="line">$(".post-comment-captcha-container").attr("captcha", result['captcha']);</span><br><span class="line">},</span><br><span class="line">error : function(xhr){</span><br><span class="line">$(".post-comment-captcha-container").attr("captcha", "&lt;?php _e('获取验证码失败', 'argon');?&gt;");</span><br><span class="line">}</span><br><span class="line">});</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;?php } ?&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class="row hide-on-comment-editing" id="post_comment_extra_input" style="display: none";&gt;</span><br><span class="line">&lt;div class="col-md-12" style="margin-bottom: -10px;"&gt;</span><br><span class="line">&lt;div class="form-group"&gt;</span><br><span class="line">&lt;div class="input-group input-group-alternative mb-4 post-comment-link-container"&gt;</span><br><span class="line">&lt;div class="input-group-prepend"&gt;</span><br><span class="line">&lt;span class="input-group-text"&gt;&lt;i class="fa fa-link"&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;input id="post_comment_link" class="form-control" placeholder="&lt;?php _e('网站', 'argon'); ?&gt;" type="text" name="url" value="&lt;?php echo htmlspecialchars($current_commenter['comment_author_url']); ?&gt;"&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class="row hide-on-comment-editing &lt;?php if (get_option('argon_hide_name_email_site_input') == 'true') {echo 'd-none';}?&gt;" style="margin-top: 10px; &lt;?php if (is_user_logged_in()) {echo('display: none');}?&gt;"&gt;</span><br><span class="line">&lt;div class="col-md-12"&gt;</span><br><span class="line">&lt;button id="post_comment_toggle_extra_input" type="button" class="btn btn-icon btn-outline-primary btn-sm" tooltip-show-extra-field="&lt;?php _e('展开附加字段', 'argon'); ?&gt;" tooltip-hide-extra-field="&lt;?php _e('折叠附加字段', 'argon'); ?&gt;"&gt;</span><br><span class="line">&lt;span class="btn-inner--icon"&gt;&lt;i class="fa fa-angle-down"&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;&lt;/div&gt;</span><br><span class="line">&lt;div class="row" style="margin-top: 5px; margin-bottom: 10px;"&gt;</span><br><span class="line">&lt;div class="col-md-12"&gt;</span><br><span class="line">&lt;?php if (get_option("argon_comment_allow_markdown") != "false") {?&gt;</span><br><span class="line">&lt;div class="custom-control custom-checkbox comment-post-checkbox comment-post-use-markdown"&gt;</span><br><span class="line">&lt;input class="custom-control-input" id="comment_post_use_markdown" type="checkbox" checked="true"&gt;</span><br><span class="line">&lt;label class="custom-control-label" for="comment_post_use_markdown"&gt;Markdown&lt;/label&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;?php } ?&gt;</span><br><span class="line">&lt;?php if (get_option("argon_comment_allow_privatemode") == "true") {?&gt;</span><br><span class="line">&lt;div class="custom-control custom-checkbox comment-post-checkbox comment-post-privatemode" tooltip="&lt;?php _e('评论仅发送者和博主可见', 'argon'); ?&gt;"&gt;</span><br><span class="line">&lt;input class="custom-control-input" id="comment_post_privatemode" type="checkbox"&gt;</span><br><span class="line">&lt;label class="custom-control-label" for="comment_post_privatemode"&gt;&lt;?php _e('悄悄话', 'argon');?&gt;&lt;/label&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;?php } ?&gt;</span><br><span class="line">&lt;?php if (get_option("argon_comment_allow_mailnotice") == "true") {?&gt;</span><br><span class="line">&lt;div class="custom-control custom-checkbox comment-post-checkbox comment-post-mailnotice" tooltip="&lt;?php _e('有回复时邮件通知我', 'argon'); ?&gt;"&gt;</span><br><span class="line">&lt;input class="custom-control-input" id="comment_post_mailnotice" type="checkbox"&lt;?php if (get_option("argon_comment_mailnotice_checkbox_checked") == 'true'){echo ' checked';}?&gt;&gt;</span><br><span class="line">&lt;label class="custom-control-label" for="comment_post_mailnotice"&gt;&lt;?php _e('邮件提醒', 'argon');?&gt;&lt;/label&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class="custom-control custom-checkbox comment-post-checkbox comment-post-privatemode" tooltip="&lt;?php _e('注销登录', 'argon'); ?&gt;"&gt;</span><br><span class="line">    &lt;?php printf(__('你已登录,&lt;a href="%s"&gt;注销&lt;/a&gt;'), wp_logout_url(wp_login_url()));?&gt;</span><br><span class="line">    &lt;/div&gt;  </span><br><span class="line">&lt;?php } ?&gt;</span><br><span class="line">&lt;button id="post_comment_send" class="btn btn-icon btn-primary comment-btn pull-right mr-0" type="button"&gt;</span><br><span class="line">&lt;span class="btn-inner--icon hide-on-comment-editing"&gt;&lt;i class="fa fa-send"&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;span class="btn-inner--icon hide-on-comment-not-editing"&gt;&lt;i class="fa fa-pencil"&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;span class="btn-inner--text hide-on-comment-editing" style="margin-right: 0;"&gt;&lt;?php _e('发送', 'argon');?&gt;&lt;/span&gt;</span><br><span class="line">&lt;span class="btn-inner--text hide-on-comment-not-editing" style="margin-right: 0;"&gt;&lt;?php _e('编辑', 'argon');?&gt;&lt;/span&gt;</span><br><span class="line">&lt;/button&gt;</span><br><span class="line">&lt;button id="post_comment_edit_cancel" class="btn btn-icon btn-danger comment-btn pull-right hide-on-comment-not-editing" type="button" style="margin-right: 8px;"&gt;</span><br><span class="line">&lt;span class="btn-inner--icon"&gt;&lt;i class="fa fa-close"&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;span class="btn-inner--text"&gt;&lt;?php _e('取消', 'argon');?&gt;&lt;/span&gt;</span><br><span class="line">&lt;/button&gt;</span><br><span class="line">&lt;?php if (get_option("argon_comment_emotion_keyboard", "true") != "false"){ ?&gt;</span><br><span class="line">&lt;button id="comment_emotion_btn" class="btn btn-icon btn-primary pull-right" type="button" title="&lt;?php _e('表情', 'argon');?&gt;"&gt;</span><br><span class="line">&lt;i class="fa fa-smile-o" aria-hidden="true"&gt;&lt;/i&gt;</span><br><span class="line">&lt;/button&gt;</span><br><span class="line">&lt;?php get_template_part( 'template-parts/emotion-keyboard' ); ?&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php } ?&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;input id="post_comment_captcha_seed" value="&lt;?php echo $commentCaptchaSeed;?&gt;" style="display: none;"&gt;&lt;/input&gt;</span><br><span class="line">&lt;input id="post_comment_post_id" value="&lt;?php echo get_the_ID();?&gt;" style="display: none;"&gt;&lt;/input&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id="comment_edit_history" class="modal fade" tabindex="-1" role="dialog" aria-modal="true"&gt;</span><br><span class="line">&lt;div class="modal-dialog modal-lg"&gt;</span><br><span class="line">&lt;div class="modal-content"&gt;</span><br><span class="line">&lt;div class="modal-header"&gt;</span><br><span class="line">&lt;h4 class="modal-title" style="font-size: 20px;"&gt;&lt;/h4&gt;</span><br><span class="line">&lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;</span><br><span class="line">&lt;span aria-hidden="true"&gt;×&lt;/span&gt;</span><br><span class="line">&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class="modal-body" style="word-break: break-word;"&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id="comment_pin_comfirm_dialog" class="modal fade" tabindex="-1" role="dialog" aria-modal="true"&gt;</span><br><span class="line">&lt;div class="modal-dialog"&gt;</span><br><span class="line">&lt;div class="modal-content"&gt;</span><br><span class="line">&lt;div class="modal-header"&gt;</span><br><span class="line">&lt;h4 class="modal-title" style="font-size: 20px;"&gt;&lt;/h4&gt;</span><br><span class="line">&lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;</span><br><span class="line">&lt;span aria-hidden="true"&gt;×&lt;/span&gt;</span><br><span class="line">&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class="modal-body" style="word-break: break-word;"&gt;&lt;/div&gt;</span><br><span class="line">&lt;div class="modal-footer"&gt;</span><br><span class="line">&lt;button type="button" class="btn btn-secondary btn-dismiss" data-dismiss="modal"&gt;&lt;/button&gt;</span><br><span class="line">&lt;button type="button" class="btn btn-primary btn-comfirm"&gt;&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;?php endif; ?&gt;</span><br><span class="line">&lt;?php } ?&gt;</span><br></pre></td></tr></tbody></table></figure><p>目前代码已经提交至主题,链接:<a href="https://github.com/solstice23/argon-theme/issues/593">https://github.com/solstice23/argon-theme/issues/593</a></p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>诺依阁的起始页</title>
      <link href="/posts/c3e2.html"/>
      <url>/posts/c3e2.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>各位看本篇文章的朋友们,我又回来了<br>虽然今天是高考的百日誓师日，但是有时间还是摸摸鱼的<br>摸鱼摸出了这个<br><img src="https://images.nuoyis.net/blog/typecho/uploads/2023/02/20230216130428212.jpeg" alt=""><br>目前开发出了百度访问方法,回车搜索,未来搞个ajax无刷加载关键词<br>地址:<a href="https://search-start.nuoyis.com/">https://search-start.nuoyis.com</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>博客平台迁移 - 回归wordpress</title>
      <link href="/posts/f81d.html"/>
      <url>/posts/f81d.html</url>
      
        <content type="html"><![CDATA[<p>wordpress终于回归了<br>这次回归wordpress带回了makedown编辑器,虽然没有typecho那么好用，但感觉wordpress的生态更加强大<br>用上makedown后,可直接转换和实施对照编写内容<br>测试<br>#测试<br>##测试<br>###测试</p><h4>测试</h4>## ~~测试~~一切熟悉的气息都带到了wordpress内部同时,也可以把wordpress其他没转换完的军可以转换<img src="https://lovablewyh.zinet.top/wp-content/uploads/2023/02/c3edce68368aa24e1b84005c23621ea4.png" alt="">同时也加快了我图片自动配置文章和优化地址(之前一个个截图还要重命名实在速度慢的很)<img src="https://lovablewyh.zinet.top/wp-content/uploads/2023/02/a79651cfb48c5ce39806275cb8f47a3b.png" alt="">总之，wordpress那种熟悉的气息回来了,玩点再带入更好的文章]]></content>
      
      
      <categories>
          
          <category> uncategorized </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>论坛搭建 - 虚拟主机搭建flarum</title>
      <link href="/posts/9aec.html"/>
      <url>/posts/9aec.html</url>
      
        <content type="html"><![CDATA[<p>资源下载链接:<a href="https://www.bilibili.com/read/cv29085115/">https://www.bilibili.com/read/cv29085115/</a><br>这次我们来用虚拟主机搭建flarum(某github需要mysql5.7还报错)<br>首先确认你的mysql版本在5.6+<br>我把那个官方的composer安装方式弄好了，压缩后直接丢到虚拟主机上即可<br>mysql小于5.6报错页面Something went wrong: MySQL version too low. You need at least MySQL 5.6.<br>密码错误Something went wrong: SQLSTATE[HY000] [1045] Access denied for user ‘s5329530‘@’localhost’ (using password: YES)<br>虚拟主机绑定目录时需要加入一个public(如你的网站主目录是bbs,就需要bbs/public),直接可以进入安装页面<br>table prefix是数据包前缀名称,随便填写<br>安装完成后会自动刷新到主页<br>包里已经配置好中文包,直接看视频食用启用中文方法<br><a href="https://www.bilibili.com/video/BV1Zy4y1D7Mk">#BV#</a><br>搭建完成结束</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>元宵加急 - 使用cq-httptoken登录云崽</title>
      <link href="/posts/da87.html"/>
      <url>/posts/da87.html</url>
      
        <content type="html"><![CDATA[<p>资源下载地址:<a href="https://caiyun.139.com/m/i?135Ce8H2tpZTS">https://caiyun.139.com/m/i?135Ce8H2tpZTS</a><br>提取码:qHeX<br>最近发的那个视频没有说明清楚如何下载和云崽登陆异常的解决方案,文字叙述下<br>你需要在云盘内下载go-cqhttp和云崽资源包内的token转换器<br>建议开始前,创建个文件夹,把两个exe文件放置到本地电脑上<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202302051429/1.jpg" alt="cq-http和token转换器" title="cq-http和token转换器"><br>下一步,运行cq-http,要求运行bat生成成功后即走下一步<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202302051429/2.jpg" alt="界面" title="界面"><br>双击bat，选择3,生成config.yml后关闭窗口<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202302051429/3.jpg" alt="生成config.yml" title="生成config.yml"><br>第四步,在config.yml中account下找到uin然后改成你的QQ号(直接扫码获取token)<br>第五步,运行bat文件,生成虚拟设备后按ctrl+c<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202302051429/4.jpg" alt="ctrl+c取消" title="ctrl+c取消"><br>第六步,修改 protocol 字段,修改成你想要的设备(安卓手机为1)<br>设备获取链接:<a href="https://docs.go-cqhttp.org/guide/config.html#%E8%AE%BE%E5%A4%87%E4%BF%A1%E6%81%AF"></a><a href="https://docs.go-cqhttp.org/guide/config.html#%E8%AE%BE%E5%A4%87%E4%BF%A1%E6%81%AF">https://docs.go-cqhttp.org/guide/config.html#%E8%AE%BE%E5%A4%87%E4%BF%A1%E6%81%AF</a><br><img src="https://images.nuoyis.net/blog/typecho/uploads/202302051429/5.jpg" alt="设备修改" title="设备修改"><br>第七步,重新运行bat，然后等待扫码,扫码登录成功后,生成session.token<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202302051429/6.jpg" alt="session.token生成" title="session.token生成"><br>第八步,将session.token与转换器放在同一目录,双击exe生成token<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202302051429/7.jpg" alt="token生成" title="token生成"><br>第九步,将cq-http的device.json改名为device-QQ号.json<br>第十步,将生成的token和放置在yunzai-bot/yunzai/data/QQ号/device-QQ号.json 相同的文件夹内<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202302051429/8.jpg" alt="放置wen" title="放置wen"><br>第十一步,node app重新启动试试,本地能登陆,云端就能使用<br>———视频教程———<br><a href="https://www.bilibili.com/video/BV1t24y1z7Wp?p=2">#BV#</a></p>]]></content>
      
      
      <categories>
          
          <category> guing </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>独立编写 - Docker安装教程</title>
      <link href="/posts/a463.html"/>
      <url>/posts/a463.html</url>
      
        <content type="html"><![CDATA[<p>#Linux安装教程<br>##Centos/Openanolis/OpenCloudOS适用以下代码<br>###万能脚本</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL get.docker.com -o get-docker.sh</span><br></pre></td></tr></tbody></table></figure><p>###手动执行首先运行</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install docker-ce -y</span><br></pre></td></tr></tbody></table></figure><p>如果出现未找到软件包先执行以下指令</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line">yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">sed -i 's+download.docker.com+mirrors.tuna.tsinghua.edu.cn/docker-ce+' /etc/yum.repos.d/docker-ce.repo</span><br><span class="line">yum makecache</span><br></pre></td></tr></tbody></table></figure><p>##ubuntu/debian</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt upgrade -y</span><br><span class="line">apt install curl vim wget gnupg dpkg apt-transport-https lsb-release ca-certificates</span><br><span class="line">curl -sS</span><br><span class="line">https://download.docker.com/linux/debian/gpg | gpg --dearmor &gt; /usr/share/keyrings/docker-ce.gpg</span><br><span class="line">echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-ce.gpg] https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/debian $(lsb_release -sc) stable" &gt; /etc/apt/sources.list.d/docker.list</span><br><span class="line">apt update</span><br><span class="line">apt install docker-ce docker-ce-cli containerd.io docker-compose-plugin</span><br></pre></td></tr></tbody></table></figure><p>#Windows安装教程<br>windows请先准备Win10系统(不推荐win10以下系统使用docker),并开启Hyper-V功能    Hyper-V开启方法:    1.windows键右击,找到应用和功能,点击右上方程序和功能,找到Hyper-V全勾上    2.win+i键打开设置,点击应用,然后操作如上    开启后点击<a href="https://hub.docker.com/?overlay=onboarding">这里</a>下载Docker desktop,下载完后一路next,再点击finish完成    如果桌面上没有docker图标,请在启动栏上进行搜索查找运行,并复制其快捷方式到桌面    然后打开cmd或者shell运行下docker run hello-world是否在下载docker镜像</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Google AdSense审核优化指南</title>
      <link href="/posts/6db7.html"/>
      <url>/posts/6db7.html</url>
      
        <content type="html"><![CDATA[<p>我之前在nuoyis.net上发布了很多文章,但是前有域名到期，又感觉域名名字不太行，就又换了个新域名<br>该新域名目前三月进入备案,所以备案期间用<a href="https://blog.nuoyis.com.daili.nuoyis.net/">https://blog.nuoyis.com.daili.nuoyis.net</a>暂时运营网站<br>开始谷歌广告审核第一天时候,就给我拒绝了,如下图所示<br><img src="https://static.nuoyis.com/static/lovablewyh-library/blog/download/images/202301311257/1.jpg" alt="拒绝图片" title="拒绝图片"><br>然后第二次和第三次也是如上图片<br>于是我搞不懂了,自己原创内容竟然审不通过<br>然后我反映到了谷歌帮助中心<br>官方的回复人员是这样的<br>经过检查后，发现你的网站创作也有在腾讯同步内容<br>导致你的网站同串内容在 Google 搜索找不到情况<br>建议先别这样做，因为可能让 Adsense 判断非原创内容<br>先把腾讯内容移除并丰富你的网站内容 等 Adsense 审核通过<br>之后想要同步到腾讯增加曝光再这样做 ~<br><img src="https://static.nuoyis.com/static/lovablewyh-library/blog/download/images/202301311257/2.jpg" alt="描述" title="描述"><br><img src="https://static.nuoyis.com/static/lovablewyh-library/blog/download/images/202301311257/3.jpg" alt="专家图片" title="专家图片"><br><img src="https://static.nuoyis.com/static/lovablewyh-library/blog/download/images/202301311257/4.jpg" alt="专家图片" title="专家图片"><br>然后经过Google广告和其他广告商表示,我暂时删除原有文章<br>等待通过,然后再在腾讯云发布文章  </p>]]></content>
      
      
      <categories>
          
          <category> guing </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Yunzai-Bot(云崽) - Linux Docker保姆级安装教程</title>
      <link href="/posts/aefe.html"/>
      <url>/posts/aefe.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>看了很多网上讲解的云崽,都感觉没有完全讲清楚Linux用户使用docker方法(windows我没咋用过,这里windows怎么套娃我就不说了)</p></blockquote><p>而且官方文档内的docker脚本中gitee内部三个js文件均没有同步成功,显示[session-a24140b4] Repository or file not found,难怪会报错三个js内容。<br>以下内容如果你觉得麻烦,我的云盘里面有配置好的(插件有些,gitee版本少几个插件,data已经删掉需要重新执行后面指令)<br>———–视频教程———–<br><a href="https://www.bilibili.com/video/BV1t24y1z7Wp">#BV#</a></p><p>———–文字教程———–<br>服务器(或家里小主机、电脑)要求:2核2G(推荐配置) 硬盘60-100GB<br>推荐系统:alios<br>目前还没服务器(不想折腾家里)?点击<a href="https://www.rainyun.com/NDEwMzk=_">这里</a>获取nat低价服务器(有增值营业执照)<br>环境要求:有docker运行<br>docker安装两种<br>1.脚本</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL get.docker.com -o get-docker.sh</span><br><span class="line">sudo sh get-docker.sh --mirror Aliyun</span><br></pre></td></tr></tbody></table></figure><p>2.手动配置<br>Centos/Openanolis/OpenCloudOS适用以下代码</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">yum install docker-ce -y</span><br><span class="line"><span class="meta prompt_">(#</span><span class="language-bash">代表下面适用于检测不到软件包使用)</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum install -y yum-utils device-mapper-persistent-data lvm2</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">sed -i <span class="string">'s+download.docker.com+mirrors.tuna.tsinghua.edu.cn/docker-ce+'</span> /etc/yum.repos.d/docker-ce.repo</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum makecache</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum install docker-ce -y</span></span><br></pre></td></tr></tbody></table></figure><p>Debian 和 Ubuntu适用</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt upgrade -y</span><br><span class="line">apt install curl vim wget gnupg dpkg apt-transport-https lsb-release ca-certificates</span><br><span class="line">curl -sS</span><br><span class="line">https://download.docker.com/linux/debian/gpg | gpg --dearmor &gt; /usr/share/keyrings/docker-ce.gpg</span><br><span class="line">echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-ce.gpg] https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/debian $(lsb_release -sc) stable" &gt; /etc/apt/sources.list.d/docker.list</span><br><span class="line">apt update</span><br><span class="line">apt install docker-ce docker-ce-cli containerd.io docker-compose-plugin</span><br></pre></td></tr></tbody></table></figure><p>上述安装完毕后，执行下方代码</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">status status docker//检测是否存在docker</span><br><span class="line">status start docker//存在则启动docker服务</span><br><span class="line">status enable docker//开机自启</span><br></pre></td></tr></tbody></table></figure><p>————我的配置好的安装方式————<br>yunzai-bot资源下载链接:<a href="https://caiyun.139.com/m/i?135Ce8H2tpZTS">https://caiyun.139.com/m/i?135Ce8H2tpZTS</a><br>提取码:qHeX<br>下载完我配置好的压缩包,然后上传(建议宝塔云控)</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /(建议装主目录宝塔管理轻松)</span><br><span class="line">wget (获取云盘下载链接粘贴在这里)</span><br></pre></td></tr></tbody></table></figure><p>解压</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip yunzai-bot.zip</span><br></pre></td></tr></tbody></table></figure><p>再执行下载容器并配置容器</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /yunzai-bot &amp;&amp; docker-compose up -d &amp;&amp; docker exec -it yunzai-bot node app login</span><br></pre></td></tr></tbody></table></figure><p>配置完成,如果出现登录异常可看官方文档进行修改<br>————手动安装方式————<br>1.执行辅助脚本</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd / &amp;&amp; bash &lt;(curl -sSL http://yunzai.org/install_v3)</span><br></pre></td></tr></tbody></table></figure><p>2.脚本执行完后,不要先启动容器<br>3.配置yunzai-bot插件后(cd /yunzai-bot/yunzai/plugins)</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /yunzai-bot/yunzai (大型插件可在这里clone)</span><br><span class="line">cd ./plugins/example (js插件)</span><br></pre></td></tr></tbody></table></figure><p>三个js报错可复制以下内容到js中<br>一言.js</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">import plugin from '../../lib/plugins/plugin.js'</span><br><span class="line">import fetch from 'node-fetch'</span><br><span class="line"></span><br><span class="line">export class example extends plugin {</span><br><span class="line">  constructor () {</span><br><span class="line">    super({</span><br><span class="line">      /** 功能名称 */</span><br><span class="line">      name: '一言',</span><br><span class="line">      /** 功能描述 */</span><br><span class="line">      dsc: '简单开发示例',</span><br><span class="line">      /** https://oicqjs.github.io/oicq/#events */</span><br><span class="line">      event: 'message',</span><br><span class="line">      /** 优先级，数字越小等级越高 */</span><br><span class="line">      priority: 5000,</span><br><span class="line">      rule: [</span><br><span class="line">        {</span><br><span class="line">          /** 命令正则匹配 */</span><br><span class="line">          reg: '^#一言$',</span><br><span class="line">          /** 执行方法 */</span><br><span class="line">          fnc: 'hitokoto'</span><br><span class="line">        }</span><br><span class="line">      ]</span><br><span class="line">    })</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * #一言</span><br><span class="line">   * @param e oicq传递的事件参数e</span><br><span class="line">   */</span><br><span class="line">  async hitokoto (e) {</span><br><span class="line">    /** e.msg 用户的命令消息 */</span><br><span class="line">    logger.info('[用户命令]', e.msg)</span><br><span class="line"></span><br><span class="line">    /** 一言接口地址 */</span><br><span class="line">    let url = 'https://v1.hitokoto.cn/'</span><br><span class="line">    /** 调用接口获取数据 */</span><br><span class="line">    let res = await fetch(url).catch((err) =&gt; logger.error(err))</span><br><span class="line"></span><br><span class="line">    /** 判断接口是否请求成功 */</span><br><span class="line">    if (!res) {</span><br><span class="line">      logger.error('[一言] 接口请求失败')</span><br><span class="line">      return await this.reply('一言接口请求失败')</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /** 接口结果，json字符串转对象 */</span><br><span class="line">    res = await res.json()</span><br><span class="line">    /** 输入日志 */</span><br><span class="line">    logger.info(`[接口结果] 一言：${res.hitokoto}`)</span><br><span class="line"></span><br><span class="line">    /** 最后回复消息 */</span><br><span class="line">    await this.reply(`一言：${res.hitokoto}`)</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>主动复读.js</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">import plugin from '../../lib/plugins/plugin.js'</span><br><span class="line"></span><br><span class="line">export class example2 extends plugin {</span><br><span class="line">  constructor () {</span><br><span class="line">    super({</span><br><span class="line">      name: '复读',</span><br><span class="line">      dsc: '复读用户发送的内容，然后撤回',</span><br><span class="line">      /** https://oicqjs.github.io/oicq/#events */</span><br><span class="line">      event: 'message',</span><br><span class="line">      priority: 5000,</span><br><span class="line">      rule: [</span><br><span class="line">        {</span><br><span class="line">          /** 命令正则匹配 */</span><br><span class="line">          reg: '^#复读$',</span><br><span class="line">          /** 执行方法 */</span><br><span class="line">          fnc: 'repeat'</span><br><span class="line">        }</span><br><span class="line">      ]</span><br><span class="line">    })</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  /** 复读 */</span><br><span class="line">  async repeat () {</span><br><span class="line">    /** 设置上下文，后续接收到内容会执行doRep方法 */</span><br><span class="line">    this.setContext('doRep')</span><br><span class="line">    /** 回复 */</span><br><span class="line">    await this.reply('请发送要复读的内容', false, { at: true })</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  /** 接受内容 */</span><br><span class="line">  doRep () {</span><br><span class="line">    /** 复读内容 */</span><br><span class="line">    this.reply(this.e.message, false, { recallMsg: 5 })</span><br><span class="line">    /** 结束上下文 */</span><br><span class="line">    this.finish('doRep')</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>进群退群通知.js</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">import plugin from '../../lib/plugins/plugin.js'</span><br><span class="line">import { segment } from 'oicq'</span><br><span class="line">export class newcomer extends plugin {</span><br><span class="line">  constructor () {</span><br><span class="line">    super({</span><br><span class="line">      name: '欢迎新人',</span><br><span class="line">      dsc: '新人入群欢迎',</span><br><span class="line">      /** https://oicqjs.github.io/oicq/#events */</span><br><span class="line">      event: 'notice.group.increase',</span><br><span class="line">      priority: 5000</span><br><span class="line">    })</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  /** 接受到消息都会执行一次 */</span><br><span class="line">  async accept () {</span><br><span class="line">    /** 定义入群欢迎内容 */</span><br><span class="line">    let msg = '欢迎新人！'</span><br><span class="line">    /** 冷却cd 30s */</span><br><span class="line">    let cd = 30</span><br><span class="line"></span><br><span class="line">    if (this.e.user_id == Bot.uin) return</span><br><span class="line"></span><br><span class="line">    /** cd */</span><br><span class="line">    let key = `Yz:newcomers:${this.e.group_id}`</span><br><span class="line">    if (await redis.get(key)) return</span><br><span class="line">    redis.set(key, '1', { EX: cd })</span><br><span class="line"></span><br><span class="line">    /** 回复 */</span><br><span class="line">    await this.reply([</span><br><span class="line">      segment.at(this.e.user_id),</span><br><span class="line">      // segment.image(),</span><br><span class="line">      msg</span><br><span class="line">    ])</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">export class outNotice extends plugin {</span><br><span class="line">  constructor () {</span><br><span class="line">    super({</span><br><span class="line">      name: '退群通知',</span><br><span class="line">      dsc: 'xx退群了',</span><br><span class="line">      event: 'notice.group.decrease'</span><br><span class="line">    })</span><br><span class="line"></span><br><span class="line">    /** 退群提示词 */</span><br><span class="line">    this.tips = '退群了'</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  async accept () {</span><br><span class="line">    if (this.e.user_id == Bot.uin) return</span><br><span class="line"></span><br><span class="line">    let name, msg</span><br><span class="line">    if (this.e.member) {</span><br><span class="line">      name = this.e.member.card || this.e.member.nickname</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    if (name) {</span><br><span class="line">      msg = `${name}(${this.e.user_id}) ${this.tips}`</span><br><span class="line">    } else {</span><br><span class="line">      msg = `${this.e.user_id} ${this.tips}`</span><br><span class="line">    }</span><br><span class="line">    logger.mark(`[退出通知]${this.e.logText} ${msg}`)</span><br><span class="line">    await this.reply(msg)</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>clone完大型插件或者配置好损坏的三个js后执行以下代码</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /yunzai-bot &amp;&amp; vim docker-compose.yaml</span><br></pre></td></tr></tbody></table></figure><p>docker-compose.yaml文件配置(看你有啥插件就咋配置)</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">version: "3.9"</span><br><span class="line">services:</span><br><span class="line">  yunzai-bot:</span><br><span class="line">    container_name: yunzai-bot</span><br><span class="line">    image: swr.cn-south-1.myhuaweicloud.com/sirly/yunzai-bot:v3plus</span><br><span class="line">    restart: always</span><br><span class="line">    volumes:</span><br><span class="line">      - ./yunzai/config:/app/Yunzai-Bot/config/config/ # 配置文件</span><br><span class="line">      - ./yunzai/genshin_config:/app/Yunzai-Bot/plugins/genshin/config # 配置文件</span><br><span class="line">      - ./yunzai/logs:/app/Yunzai-Bot/logs # 日志文件</span><br><span class="line">      - ./yunzai/data:/app/Yunzai-Bot/data # 数据文件</span><br><span class="line">      - ./yunzai/plugins/example:/app/Yunzai-Bot/plugins/example # js 插件</span><br><span class="line">      # 以下目录是插件目录，安装完插件后需要手动添加映射</span><br><span class="line">      - ./yunzai/plugins/miao-plugin:/app/Yunzai-Bot/plugins/miao-plugin                  # 喵喵插件</span><br><span class="line">      - ./yunzai/plugins/py-plugin:/app/Yunzai-Bot/plugins/py-plugin                      # 新py插件</span><br><span class="line">      - ./yunzai/plugins/xiaoyao-cvs-plugin:/app/Yunzai-Bot/plugins/xiaoyao-cvs-plugin    # 图鉴插件</span><br><span class="line">      - ./yunzai/plugins/guoba-plugin:/app/Yunzai-Bot/plugins/guoba-plugin                # 锅巴插件</span><br><span class="line">      - ./yunzai/plugins/TRSS-Plugin:/app/Yunzai-Bot/plugins/TRSS-Plugin</span><br><span class="line">      - ./yunzai/plugins/xianxin-plugin:/app/Yunzai-Bot/plugins/xianxin-plugin</span><br><span class="line">      - ./yunzai/plugins/yenai-plugin:/app/Yunzai-Bot/plugins/yenai-plugin</span><br><span class="line">    ports:</span><br><span class="line">      - 50831:50831#锅巴插件映射端口</span><br><span class="line">      </span><br><span class="line">    depends_on:</span><br><span class="line">      redis: { condition: service_healthy }</span><br><span class="line"></span><br><span class="line">  redis:</span><br><span class="line">    container_name: yunzai-redis</span><br><span class="line">    image: redis:alpine</span><br><span class="line">    restart: always</span><br><span class="line">    volumes:</span><br><span class="line">      - ./redis/data:/data</span><br><span class="line">      - ./redis/logs:/logs</span><br><span class="line">    healthcheck:</span><br><span class="line">      test: ["CMD", "redis-cli", "PING"]</span><br><span class="line">      start_period: 10s</span><br><span class="line">      interval: 5s</span><br><span class="line">      timeout: 1s</span><br></pre></td></tr></tbody></table></figure><p>配置完后即可使用以下指令</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /yunzai-bot &amp;&amp; docker-compose up -d &amp;&amp; docker exec -it yunzai-bot node app login</span><br></pre></td></tr></tbody></table></figure><p>然后如果机器人私聊你消息,则配置成功<br>每次上传完插件,需修改docker-compose.yaml<br>并执行以下命令</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /yunzai-bot &amp;&amp; docker-compose up -d</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>腾讯云服务器折腾2 - 切换成openanolis系统</title>
      <link href="/posts/a763.html"/>
      <url>/posts/a763.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>一开始觉得centos8非常好，不想换成Opencloudos,然后想着我阿里云服务器采用的openanolis,腾讯有个什么opencloudos吧，再加上他们传的centos8停止更新服务了,所以就换成国产的系统了。<br>好家伙，这一换docker直接用不成了，直接熄火,宝塔安装直报错<br>我用systemctl status docker查看了docker运行状态,<strong>运行了个寂寞，连安装都没安装</strong><br>果然yum install docker-ce 安装docker显示 没有找到包名docker-ce<br>然后我就反馈到宝塔帖子去了(地址:<a href="https://www.bt.cn/bbs/thread-107128-1-1.html">点击这里</a>)<br>但是我重装后docker不见了又是这种情况，相反我买的阿里云香港轻量云上搭建的openanolis就没问题<br>然后按照宝塔官方给的建议,先配置源。但我想着配置后再用宝塔安装,好家伙一堆未找到包什么什么的,最后还没安装上<br>——-openanolis安装方法——-<br>点击<a href="https://openanolis.cn/centos-eol#Background">这里</a>进入openanolis停服专区链接地址查看安装步骤和版本<br>首先选腾讯云,腾讯云是我的备案后国内使用的云厂商(阿里云备份好重要数据直接点重装openanolis就行了,无需重新制作)<br>首先也同样备份数据，如果没重要的直接重装成Centos7.6(Centos8被删掉无法重装)<br>官方给出了两种安装方法<br><strong>一.从本地 yum 源安装迁移工具</strong><br><strong>1. 如果待迁移系统无法访问龙蜥mirror或者未连接网络，首先建议在内网搭建一套本地yum源。(<a href="https://www.yuque.com/anolis-docs/kbase/gkutwr">如何做本地yum源</a> 用户名： rsync_user ， 密码： Rsync@2020) ，然后通过本地源安装迁移工具。假设本地源地址为 <a href="http://local.repo.com/anolis">http://local.repo.com/anolis</a> ， 则下载迁移工具软件源：</strong><br>        wget <a href="https://mirrors.openanolis.cn/anolis/migration/anolis-migration.repo">https://mirrors.openanolis.cn/anolis/migration/anolis-migration.repo</a> -O /etc/yum.repos.d/anolis-migration.repo</p></blockquote><p><strong>2. 然后执行下述命令将 /etc/yum.repos.d/anolis-migration.repo 里面的baseurl地址替换为本地源地址</strong><br>        sed -i "s#baseurl=<a href="https://mirrors.openanolis.cn/#baseurl=http://local.repo.com/#">https://mirrors.openanolis.cn/#baseurl=http://local.repo.com/#</a>" /etc/yum.repos.d/anolis-migration.repo</p><pre><code>    sed -i &amp;quot;s#gpgkey=https://mirrors.openanolis.cn/#gpgkey=http://local.repo.com/#&amp;quot; /etc/yum.repos.d/anolis-migration.repo</code></pre><p><strong>3. 安装迁移工具：</strong><br>        yum install -y python-pip</p><pre><code>    yum remove -y python-requests python-urllib3; /usr/bin/pip2 uninstall requests urllib3 -y 2&amp;gt;/dev/null || echo &amp;quot;not installed&amp;quot;        yum -y install leapp</code></pre><p><em><strong>注：重新安装 python-requests 和 python-urllib3 是为了解决迁移过程中可能发生的软件包升级冲突。</strong></em><br><strong>4. 执行下述命令将 /etc/leapp/files/leapp_upgrade_repositories.repo 里面的baseurl地址替换为本地源地址</strong><br>        leapp customrepo –seturl <a href="http://local.repo.com/<version_number">http://local.repo.com/&lt;version_number</a>&gt;</p><p><strong>二.从社区 yum 源（mirrors.openanolis.cn) 安装迁移工具</strong><br><strong>1. 如果待迁移系统可以联网且能访问龙蜥mirror，则下载迁移工具软件源：</strong><br>        wget <a href="https://mirrors.openanolis.cn/anolis/migration/anolis-migration.repo">https://mirrors.openanolis.cn/anolis/migration/anolis-migration.repo</a> -O /etc/yum.repos.d/anolis-migration.repo</p><p><strong>2. 安装迁移工具：</strong><br>        yum install -y python-pip</p><pre><code>    yum remove -y python-requests python-urllib3; /usr/bin/pip2 uninstall requests urllib3 -y 2&amp;gt;/dev/null || echo &amp;quot;not installed&amp;quot;        yum -y install leapp</code></pre><p>再就是系统评估，建议上述操作后使用以下代码将centos源设为.bak文件，以防后续评估出现重复定义现象<br>错误教训:<br>        Upgrade has been inhibited due to the following problems:<br>            1. Inhibitor: A YUM/DNF repository defined multiple times<br>        Consult the pre-upgrade report for details and possible remediation.</p><p>代码:<br>        cd /etc/yum.repos.d/</p><pre><code>    ll        mkdir bak        mv CentOS-*.repo ./bak</code></pre><p>操作源站更名bak后输入以下指令<br>        chkconfig cloud-init off</p><pre><code>    leapp answer --section remove_pam_pkcs11_module_check.confirm=True        sed -i &amp;#039;s/#PermitRootLogin yes/PermitRootLogin yes/&amp;#039; /etc/ssh/sshd_config</code></pre><p>开始系统体检，如果出现全绿即可进行下一步<br>        leapp preupgrade –no-rhsm</p><p><em><strong>注:上述命令执行成功后，还可以通过/var/log/leapp/leapp-report.txt查看迁移报告，该报告除了包含评估报告外，还包含对目标系统repo的可行性评估，如果目标系统软件包不符合迁移要求，会给出提示。</strong></em><br>出现以下图片即可执行下一步<br>        leapp upgrade –no-rhsm // ANCK 内核的龙蜥OS</p><pre><code>    leapp upgrade --no-rhsm --disablerepo=anolis_plus //RHCK 内核的龙蜥OS</code></pre><p>至此，你的准备工作已经结束，使用reboot慢慢迁移<br>迁移完成后你还需要进入腾讯的vpc观看是否重启一次，重启后有个cloud-init一直连接不上，但你又没办法,只能等待3分钟超时后进入。根据官网给的文本,你需要将cloud.cfg修改成腾讯云的<br>代码如下:<br>        cp /etc/cloud/cloud.cfg /etc/cloud/cloud.cfg.bak //每次操作需备份<br>        vim /etc/cloud/cloud.cfg</p><p>cloud.cfg内容<br>        users:<br>         - default</p><pre><code>    disable_root: 0    ssh_pwauth:   1        datasource_list: [ ConfigDrive, TencentCloud ]    datasource:      ConfigDrive:        dsmode: local      TencentCloud:        metadata_urls: [&amp;#039;http://169.254.0.23&amp;#039;, &amp;#039;http://metadata.tencentyun.com&amp;#039;]        cloud_init_modules:     - migrator     - bootcmd     - write-files     - growpart     - resizefs     - set_hostname     - update_hostname     - [&amp;#039;update_etc_hosts&amp;#039;, &amp;#039;once-per-instance&amp;#039;]     - rsyslog     - users-groups     - ssh        cloud_config_modules:     - mounts     - locale     - set-passwords     - rh_subscription     - yum-add-repo     - package-update-upgrade-install     - ntp     - timezone     - resolv_conf     - puppet     - chef     - salt-minion     - mcollective     - disable-ec2-metadata     - runcmd        unverified_modules: [&amp;#039;resolv_conf&amp;#039;]        cloud_final_modules:     - rightscale_userdata     - scripts-per-once     - scripts-per-boot     - scripts-per-instance     - scripts-user     - ssh-authkey-fingerprints     - keys-to-console     - phone-home     - final-message     - power-state-change        system_info:      default_user:        name: root        lock_passwd: false        gecos: Cloud User        groups: [wheel, adm, systemd-journal]        sudo: [&amp;quot;ALL=(ALL) NOPASSWD:ALL&amp;quot;]        shell: /bin/bash      distro: rhel      paths:        cloud_dir: /var/lib/cloud        templates_dir: /etc/cloud/templates      ssh_svcname: sshd        # vim:syntax=yaml</code></pre><p>替换完后执行以下代码<br>rm -rf /var/lib/cloud //删除 cloudinit 的缓存记录<br>reboot //重启<br>上述代码执行完后进入vnc看看进入速度是否快了许多<br>至于少了一些东西(例如yum等),可自行询问社区技术人员<br>对于两大云计算运营商没有一个共同的linux系统(不包括其他非国产操作系统),也就算了，但是软件源腾讯还需努力,很多都是空缺的,也是未完善完毕的。前几天我下了镜像,好家伙Opencloud OS才10个G都没到,Openanolis os超过了15个G,加油两大运营商<br>文章到这里就结束了，感谢你的观看</p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>腾讯云服务器折腾1 - Opencloudos切换镜像源</title>
      <link href="/posts/a14c.html"/>
      <url>/posts/a14c.html</url>
      
        <content type="html"><![CDATA[<p>最近腾讯云的Opencloudos生态经过多次使用镜像源很有些问题，网上有些博客深感其受，如这个博客的博主:<a href="https://blog.whsir.com/post-6754.html"></a><a href="https://blog.whsir.com/post-6754.html">https://blog.whsir.com/post-6754.html</a>    所以,废话不多说，我们是来换源的.    执行以下代码    vim /etc/yum.repos.d/OpenCloudOS.repo<br>将上述repo内容删除(建议是备份 cp /etc/yum.repos.d/OpenCloudOS.repo /etc/yum.repos.d/OpenCloudOS.repo.bak)    删掉OpenCloudOS.repo和所有内容,并替换成以下内容    OpenCloudOS.repo        # OpenCloudOS.repo<br>        #</p><br>        #Author: OpenCloudOS &lt;<a href="mailto:infrastructure@opencloudos.tech">infrastructure@opencloudos.tech</a>&gt;<br>        #<br>        [BaseOS]<br>        name=OpenCloudOS $releasever - Base<br>        baseurl=<a href="http://mirrors.pku.edu.cn/opencloudos/$releasever/BaseOS/$basearch/os/">http://mirrors.pku.edu.cn/opencloudos/$releasever/BaseOS/$basearch/os/</a><br>        <a href="http://mirrors.tencent.com/opencloudos/$releasever/BaseOS/$basearch/os/">http://mirrors.tencent.com/opencloudos/$releasever/BaseOS/$basearch/os/</a><br>        <a href="http://mirrors.opencloudos.tech/opencloudos/$releasever/BaseOS/$basearch/os/">http://mirrors.opencloudos.tech/opencloudos/$releasever/BaseOS/$basearch/os/</a><br>        gpgcheck=1<br>        enabled=1<br>        gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-OpenCloudOS<br>        [AppStream]<br>        name=OpenCloudOS $releasever - AppStream<br>        baseurl=<a href="http://mirrors.pku.edu.cn/opencloudos/$releasever/AppStream/$basearch/os/">http://mirrors.pku.edu.cn/opencloudos/$releasever/AppStream/$basearch/os/</a><br>        <a href="http://mirrors.tencent.com/opencloudos/$releasever/AppStream/$basearch/os/">http://mirrors.tencent.com/opencloudos/$releasever/AppStream/$basearch/os/</a><br>        <a href="http://mirrors.opencloudos.tech/opencloudos/$releasever/AppStream/$basearch/os/">http://mirrors.opencloudos.tech/opencloudos/$releasever/AppStream/$basearch/os/</a><br>        gpgcheck=1<br>        enabled=1<br>        gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-OpenCloudOS<br>        [Extras]<br>        name=OpenCloudOS $releasever - Extras<br>        baseurl=<a href="http://mirrors.pku.edu.cn/opencloudos/$releasever/Extras/$basearch/os/">http://mirrors.pku.edu.cn/opencloudos/$releasever/Extras/$basearch/os/</a><br>        <a href="http://mirrors.tencent.com/opencloudos/$releasever/Extras/$basearch/os/">http://mirrors.tencent.com/opencloudos/$releasever/Extras/$basearch/os/</a><br>        <a href="http://mirrors.opencloudos.tech/opencloudos/$releasever/Extras/$basearch/os/">http://mirrors.opencloudos.tech/opencloudos/$releasever/Extras/$basearch/os/</a><br>        gpgcheck=1<br>        enabled=1<br>        gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-OpenCloudOS<br>        [HighAvailability]<br>        name=OpenCloudOS $releasever - HighAvailability<br>        baseurl=<a href="http://mirrors.pku.edu.cn/opencloudos/$releasever/HighAvailability/$basearch/os/">http://mirrors.pku.edu.cn/opencloudos/$releasever/HighAvailability/$basearch/os/</a><br>        <a href="http://mirrors.tencent.com/opencloudos/$releasever/HighAvailability/$basearch/os/">http://mirrors.tencent.com/opencloudos/$releasever/HighAvailability/$basearch/os/</a><br>        <a href="http://mirrors.opencloudos.tech/opencloudos/$releasever/HighAvailability/$basearch/os/">http://mirrors.opencloudos.tech/opencloudos/$releasever/HighAvailability/$basearch/os/</a><br>        gpgcheck=1<br>        enabled=1<br>        gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-OpenCloudOS<br>        [PowerTools]<br>        name=OpenCloudOS $releasever - PowerTools<br>        baseurl=<a href="http://mirrors.pku.edu.cn/opencloudos/$releasever/PowerTools/$basearch/os/">http://mirrors.pku.edu.cn/opencloudos/$releasever/PowerTools/$basearch/os/</a><br>        <a href="http://mirrors.tencent.com/opencloudos/$releasever/PowerTools/$basearch/os/">http://mirrors.tencent.com/opencloudos/$releasever/PowerTools/$basearch/os/</a><br>        <a href="http://mirrors.opencloudos.tech/opencloudos/$releasever/PowerTools/$basearch/os/">http://mirrors.opencloudos.tech/opencloudos/$releasever/PowerTools/$basearch/os/</a><br>        gpgcheck=1<br>        enabled=1<br>        gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-OpenCloudOS<br>        [ResilientStorage]<br>        name=OpenCloudOS $releasever - ResilientStorage<br>        baseurl=<a href="http://mirrors.pku.edu.cn/opencloudos/$releasever/ResilientStorage/$basearch/os/">http://mirrors.pku.edu.cn/opencloudos/$releasever/ResilientStorage/$basearch/os/</a><br>        <a href="http://mirrors.tencent.com/opencloudos/$releasever/ResilientStorage/$basearch/os/">http://mirrors.tencent.com/opencloudos/$releasever/ResilientStorage/$basearch/os/</a><br>        <a href="http://mirrors.opencloudos.tech/opencloudos/$releasever/ResilientStorage/$basearch/os/">http://mirrors.opencloudos.tech/opencloudos/$releasever/ResilientStorage/$basearch/os/</a><br>        gpgcheck=1<br>        enabled=1<p></p><p>OpenCloudOS-Sources.repo        # OpenCloudOS-Sources.repo        #</p>        #Author: OpenCloudOS &lt;infrastructure@opencloudos.tech&gt;        #        [BaseOS-source]        name=OpenCloudOS $releasever - Base-source        baseurl=[http://mirrors.pku.edu.cn/opencloudos/$releasever/BaseOS/Source/][20]        [http://mirrors.opencloudos.tech/opencloudos/$releasever/BaseOS/Source/][21]        [http://mirrors.tencent.com/opencloudos/$releasever/BaseOS/Source/][22]        gpgcheck=1        enabled=0        gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-OpenCloudOS        [AppStream-source]        name=OpenCloudOS $releasever - AppStream-source        baseurl=[http://mirrors.pku.edu.cn/opencloudos/$releasever/AppStream/Source/][23]        [http://mirrors.opencloudos.tech/opencloudos/$releasever/AppStream/Source/][24]        [http://mirrors.tencent.com/opencloudos/$releasever/BaseOS/Source/][22]        gpgcheck=1        enabled=0        gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-OpenCloudOS        [Extras-source]        name=OpenCloudOS $releasever - Extras-source        baseurl=[http://mirrors.pku.edu.cn/opencloudos/$releasever/Extras/Source/][26]        [http://mirrors.tencent.com/opencloudos/$releasever/Extras/Source/][27]        [http://mirrors.opencloudos.tech/opencloudos/$releasever/Extras/Source/][28]        gpgcheck=1        enabled=0        gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-OpenCloudOS        [HighAvailability-source]        name=OpenCloudOS $releasever - HighAvailability-source        baseurl=[http://mirrors.pku.edu.cn/opencloudos/$releasever/HighAvailability/Source/][29]        [http://mirrors.tencent.com/opencloudos/$releasever/HighAvailability/Source/][30]        [http://mirrors.opencloudos.tech/opencloudos/$releasever/HighAvailability/Source/][31]        gpgcheck=1        enabled=0        gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-OpenCloudOS        [PowerTools-source]        name=OpenCloudOS $releasever - PowerTools-source        baseurl=[http://mirrors.pku.edu.cn/opencloudos/$releasever/PowerTools/Source/][32]        [http://mirrors.tencent.com/opencloudos/$releasever/PowerTools/Source/][33]        [http://mirrors.opencloudos.tech/opencloudos/$releasever/PowerTools/Source/][34]        gpgcheck=1        enabled=0        gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-OpenCloudOS        [ResilientStorage-source]        name=OpenCloudOS $releasever - ResilientStorage-source        baseurl=[http://mirrors.pku.edu.cn/opencloudos/$releasever/ResilientStorage/Source/][35]        [http://mirrors.tencent.com/opencloudos/$releasever/ResilientStorage/Source/][36]        [http://mirrors.opencloudos.tech/opencloudos/$releasever/ResilientStorage/Source/][37]        gpgcheck=1        enabled=0<p>OpenCloudOS-Debuginfo.repo可以不修改继续执行以下代码        yum clean all        yum makecache(可选) docker镜像源配置    腾讯云的OpencloudOS现有所有镜像源没有docker-ce(不用想了宝塔安装不上,论坛:[https://www.bt.cn/bbs/thread-107128-1-1.html][38]),如果还有其他没有，请发送至[wkkjonlykang@vip.qq.com][39]，然后在这里添加镜像源    代码如下        yum install -y yum-utils device-mapper-persistent-data lvm2        </p><pre><code>    yum-config-manager --add-repo         https://download.docker.com/linux/centos/docker-ce.repo        sed -i &amp;#039;s+download.docker.com+mirrors.tuna.tsinghua.edu.cn/docker-ce+&amp;#039; /etc/yum.repos.d/docker-ce.repo    </code></pre><p>配置好后如果你需要安装,则需要使用以下代码            yum install docker-ce //安装</p><pre><code>        systemctl start docker //启动    </code></pre>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>2023 - 来自站长的新年寄语</title>
      <link href="/posts/326a.html"/>
      <url>/posts/326a.html</url>
      
        <content type="html"><![CDATA[<p>新年的钟声已经敲响，新年的脚步已经到来。<br>岁月不居，时节如流，转眼又是新一年的起点。<br>你许愿了吗?是事业有成，还是航起杨帆，做好做大，还是努力学习，金榜题名?\n没关系，不管有没有访问我们站点的人们，我都为你许上这些愿望。<br>也祝我的站点也做越好，越做越大。’不管过去一年因为什么的压力导致的各种问题，2022满是腥风血雨的时间已经过去了。把希望放在2023年，也许迟早有天你的问题迎刃而解。2022本站的各种问题得到了修复和整改，但钱包也修没了很多钞。所以，2023的本站仍然以推广为主，再来支撑我们站点的支出新年快乐\n感谢正在观看寄语的人,感谢你们</p>]]></content>
      
      
      <categories>
          
          <category> 公告 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>利用cloudflare搭建二次元随机图片刷新图床</title>
      <link href="/posts/f408.html"/>
      <url>/posts/f408.html</url>
      
        <content type="html"><![CDATA[<p>之前我的api(<a href="https://api.nuoyis.net/">https://api.nuoyis.net</a>)一直都是采用的新浪的随机调用。虽然快吧但不能稳定用。虽然国内云存储付费贵又快，可是我是对外提供，难免会出现有人刷图片问题。<br>对于图片，我采用的是<a href="https://api.ouyangqiqi.cn/">https://api.ouyangqiqi.cn</a>贡献的图床，支持webp的图片格式<br>我同步时候由于将部分png后缀强制转换成了jpg，所以部分图片实际是png(这就影响我后面的图片加水印的api文章的编写)<br>首先,你得在github上建立一个库或者同步我的也行<br>我的仓库地址:<a href="https://github.com/nuoyis/imagesbed">https://github.com/nuoyis/imagesbed</a><br>创建仓库需要登陆，创建账户仅需一个邮箱。具体请百度下如何操作<br>找到右上角的加号,点击New repository,随便在Repository name输入库名，再选个自述和通行证(声明)<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202301180020/1.png" alt="创建仓库" title="创建仓库"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/202301180020/2.png" alt="创建仓库" title="创建仓库"><br>然后点击Create repository开始创建,你就得到了如下的页面中的自述和通行证(声明)<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202301180020/3.png" alt="仓库内容" title="仓库内容"><br>再可以克隆我的仓库或者下载经过文件夹改名以及文件重整<br>接着来到cloudflare(登陆页面:<a href="https://dash.cloudflare.com/">https://dash.cloudflare.com</a>)，创建好或者拿着你现有的账号用你现有的域名，点击左上角的添加站点，输入域名，找到最底下的免费，点击继续。DNS如果你有解析，可以按照网盘的dns.txt文件来归整导入<br>点击继续，修改dns服务器等待生效，就可以进入我们的主要内容了。<br>主页中点击Pages,点击创建项目，连接到git。<br>它会叫你授权登陆，可以授权一个库。不会就全部授权。<br>点击开始设置。接下来框架不选，分支需要看github有内容的那个分支<br>直接点击保存并部署<br>然后有个什么后台运行的选项吧，让它在后台慢慢构建<br>回到Pages，点击你的项目名称,找到自定义域，然后填写你的二级域名(你要一级也可以)<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202301180020/4.png" alt="自定义域名" title="自定义域名"><br>到此搭建就完成了。<br>穿插自家内容:<br>我的API欢迎调用，地址: <a href="https://api.nuoyis.net/">https://api.nuoyis.net</a> 图片调用越多加载越快哦<br>再就是自家服务器随机刷新的代码，这里是用PHP编写的随机刷新代码，支持分webp和jpg格式<br>也可输出json格式<br>代码:  </p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include</span>(<span class="string">"../tongji/tongji.php"</span>); <span class="comment">//统计</span></span><br><span class="line"><span class="variable">$server</span> = <span class="title function_ invoke__">rand</span>(<span class="number">1</span>,<span class="number">1518</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">'yasuo'</span>]) &amp;&amp; <span class="variable">$_GET</span>[<span class="string">'yasuo'</span>]==<span class="number">1</span>)</span><br><span class="line">{</span><br><span class="line"><span class="variable">$url</span> = <span class="string">'https://images.nuoyis.net/acg/img-avif/'</span>.<span class="variable">$server</span>.<span class="string">'.avif'</span>;</span><br><span class="line">}<span class="keyword">else</span> {</span><br><span class="line"><span class="variable">$url</span> = <span class="string">'https://images.nuoyis.net/acg/img/'</span>.<span class="variable">$server</span>.<span class="string">'.jpg'</span>;</span><br><span class="line">}</span><br><span class="line"><span class="variable">$result</span>=<span class="keyword">array</span>(<span class="string">"code"</span>=&gt;<span class="string">"200"</span>,<span class="string">"acgurl"</span>=&gt;<span class="string">"<span class="subst">$url</span>"</span>);</span><br><span class="line"><span class="variable">$type</span>=<span class="variable">$_GET</span>[<span class="string">'type'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (<span class="variable">$type</span>)</span><br><span class="line">{   </span><br><span class="line"><span class="comment">//格式解析                             </span></span><br><span class="line"><span class="keyword">case</span> <span class="string">'json'</span>:</span><br><span class="line"><span class="variable">$path</span> = <span class="string">"<span class="subst">$url</span>"</span>;</span><br><span class="line"><span class="variable">$pathinfo</span> = <span class="title function_ invoke__">pathinfo</span>(<span class="variable">$path</span>);</span><br><span class="line"><span class="variable">$imageInfo</span> = <span class="title function_ invoke__">getimagesize</span>(<span class="variable">$url</span>);  </span><br><span class="line"><span class="variable">$result</span>[<span class="string">'size'</span>]=<span class="string">"<span class="subst">$pathinfo</span>[extension]"</span>; </span><br><span class="line"><span class="title function_ invoke__">header</span>(<span class="string">'Content-type:text/json'</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">json_encode</span>(<span class="variable">$result</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="comment">//不输出图片链接直接显示                             </span></span><br><span class="line"><span class="keyword">case</span> <span class="string">'img'</span>:</span><br><span class="line"><span class="variable">$img</span> = <span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$url</span>,<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">header</span>(<span class="string">"Content-Type: image/jpeg;"</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$img</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="comment">//IMG</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="title function_ invoke__">header</span>(<span class="string">"Location:"</span>.<span class="variable">$result</span>[<span class="string">'acgurl'</span>]);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>感谢你的观看，谢谢你的支持</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>博客优化4 - 服务的并发性能和组件安装以及安全配置</title>
      <link href="/posts/6741.html"/>
      <url>/posts/6741.html</url>
      
        <content type="html"><![CDATA[<p>接入CDN后，静态网页是没啥大问题了。伪静态配合cdn加载速度非常快    但是，动态网页在生成时候，遇到大规模访问的问题如何解决访问速度问题?    这个时候，调整服务器的并发性就行了。    早期，我用过很多的虚拟主机，他们不是对CPU做了限制，就是对并发做了限制。    目前我使用的是阿里云的轻量云服务器，使用的Nginx -Tengine2.2.4(2.3.3)+php8.0(部分虚拟机厂商php8都没给)，并发Tengine在5万以上,php在10以上    php进程低于五个加载可能1个人就需要几秒，很多人服务器估计就加载超时了(不服可以调动配置看看)。    另外，可以安装些PHP插件的内容    比如你要搭建数据库或者使用数据库，都用到的mysql    静态加速插件Zend OPcache    报错检查插件xDebug    等等    对于服务器的防火墙也是十分重视的，首先服务器的防火墙拦截什么数据库注入,执行危险脚本等。现在我看到网上有那种编写的防火墙，只需要执行脚本就可以防住40%的攻击    网站应该也需要设置限流措施，不然你的站点一直在被刷流量刷到欠费。不过你要设置防火墙的防刷就可能没限制好些，因为限制控制了并发性    服务器建议单网站设置流量5M(博客和下载可以分配10M),图片和视频不建议放在服务器本地，建议使用存储桶。又拍云的存储桶我用了很久，速度十分快还稳定。有跨域和分发网络加速功能。    云数据库如果你的服务器不在国内，建议先搁置一段时间。备案后再使用减少几秒加载时间。或者采用本地与云混合加载方式进行加载</p>]]></content>
      
      
      <categories>
          
          <category> 博客优化 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>将博客搬至CSDN</title>
      <link href="/posts/38f4.html"/>
      <url>/posts/38f4.html</url>
      
        <content type="html"><![CDATA[<p>我将博客搬至CSDN,我的主页为<a href="https://blog.csdn.net/nuoyis"></a><a href="https://blog.csdn.net/nuoyis">https://blog.csdn.net/nuoyis</a></p>]]></content>
      
      
      <categories>
          
          <category> 站点同步专栏 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>自写的小文件-VideoHtml5</title>
      <link href="/posts/de92.html"/>
      <url>/posts/de92.html</url>
      
        <content type="html"><![CDATA[<p>好久没更新了，在新年的前夕我翻了翻那乱葬的备份文件<br>本来应该在大半年前发出来的，几次网站搬迁和静态资源移动和修复一系列问题搬没了<br>现在开了自动备份问题还好些<br>VideoHtml5本来是属于api开发调用的内容，通过iframe进行调用。<br>如哔哩哔哩在网页插入的那个窗口那样。<br>如果你把哔哩哔哩的iframe解开，就发现他们是全屏写的 我想起来刚开始写是小窗口小窗口写的，然后全屏和取消全屏就造成位置对不齐。后来改成网页全屏就没有这个问题<br>目前对于想开发自己的个性化播放器的可以进入我开源的源码<br>开源地址1:<a href="https://gitee.com/nuoyis/VideoHtml5">https://gitee.com/nuoyis/VideoHtml5</a><br>开源地址2:<a href="https://github.com/nuoyis/VideoHtml5">https://github.com/nuoyis/VideoHtml5</a><br>对于手机的全屏我试了试，不知道如何翻转全屏，如果会写的请在开源中改入你的代码(不推荐在gitee更改易覆盖)<br>调用测试:</p>  <p></p><iframe src="https://server-api.nuoyis.net/videoplayer/?url=https://vod-yq-aliyun.taobao.com/vod-7651a3/78664950b5e04f8789ab1105585ac553/234150b2e7d44baf89e531b96e26c0b7-209d247f8fc4f3ba2c61b3e343bfaf8f-ld.mp4" framespacing＝"0"="" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true" oallowfullscreen="true" msallowfullscreen="true"> </iframe><p>代码调用方式:  </p><pre data-language="HTML">`&lt;iframe src="https://server-api.nuoyis.net/videoplayer/?url=https://vod-yq-aliyun.taobao.com/vod-7651a3/78664950b5e04f8789ab1105585ac553/234150b2e7d44baf89e531b96e26c0b7-209d247f8fc4f3ba2c61b3e343bfaf8f-ld.mp4" framespacing＝"0" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true" oallowfullscreen="true" msallowfullscreen="true"&gt; &lt;/iframe&gt;`</pre><p>保留版权可以修改你想做的任何事情,遵循GNU General Public License v3.0协议</p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>2022-年度总结</title>
      <link href="/posts/dcf6.html"/>
      <url>/posts/dcf6.html</url>
      
        <content type="html"><![CDATA[<p>看到很多博主都有总结寄语，我也来做一个总结。<br>因为目前我在上学，时间上延迟几天发布文章<br>1.网站的架构<br>网站采用Typecho作为基础搭建平台，经过很多暗部修改和cdn静态资源优化，达到高速度访问和加载<br>同时采用多个数据库进行同步，避免服务中断<br>在年尾，开启了多个大站点同步我站文章的计划<br>2.服务费用<br>本年度，使用了域名(两个+两个颓废售卖域名)费用99+75+75<em>2+75</em>2=474元，cos云存储由于参与又拍云联盟计划暂时收费2元。<br>因为2023年本站采用备案服务制，已写完善的用户协议和普及法律条款，新购买阿里云服务器(北京)和腾讯上海云服务器(价值快到k了)。隐藏虚拟主机和分发网络费用。<br>3.一年内更新内容<br>(1)网站的基本bug和错误修复完毕<br>(2)企业域名官网已经制作完毕并发布<br>(3)搭建群内有趣有价值的机器人<br>(4)制作个人介绍基本升级完毕(后台就止步)<br>(5)更新多个B站视频。(本站文字看不懂，视频手把手教导)<br>(6)重启和优化了API调用平台整体速度和加载速度以及调用内容<br>4.小结<br>本年度因发生很多事，又因为处于高中毕业年级。去年下半年和今年上半年持续低速更新。<br>本站其实建设从wordpress平台搭建，由于wordpress访问太慢和太臃肿，就逐渐寻找替代。<br>在早些时候优化到Typecho平台上。最后分发到各大平台引流。中间过去很多时光。<br>搭建博客已经到第四个年头了，频繁换域名才导致博客的流量丢失。所以没有赞助和没有收入是很正常的<br>谷歌广告为什么一直在博客里面但没有运行?那是因为换网站导致一直未审核通过，很抱歉一个空js一直在运行，但我必须要一些支撑站点的资金<br>OK本次文章已经到此结束，感谢你的观看和支持，我们下个年头再见</p>]]></content>
      
      
      <categories>
          
          <category> guing </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>同步博客专题页</title>
      <link href="/posts/9d51.html"/>
      <url>/posts/9d51.html</url>
      
        <content type="html"><![CDATA[<p>本站将逐渐同步至各大平台站点，一部分进行引流至博客，以让我编写更多完美文章，提高文章编写兴趣。    然后就是降低成本。服务器和主机费用价格较贵，近几年来搭建博客稳定性逐渐完善和优化，但未有很多读者进入本站阅读。    再就是网站在被DDOS期间第三方站点起到代理本站的功效，分散访问量，降低其他负面影响    另外，靠拢大型站点福利多多，所以同步的站点多了也不是什么坏事    所以,在大站点如果看到我的名称，不要惊讶，到本站找到同步通知栏，查看是否通知同步过内容    如果没发通知，请发送邮箱至<a href="mailto:wkkjonlykang@qq.com">wkkjonlykang@qq.com</a>。感谢你的支持</p>]]></content>
      
      
      <categories>
          
          <category> 站点同步专栏 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OSCHINA 社区同步通知</title>
      <link href="/posts/8206.html"/>
      <url>/posts/8206.html</url>
      
        <content type="html"><![CDATA[<p>我的博客即将同步至 OSCHINA 社区，这是我的 OSCHINA ID：osc_11134972，邀请大家一同入驻：<a href="https://www.oschina.net/sharing-plan/apply"></a><a href="https://www.oschina.net/sharing-plan/apply">https://www.oschina.net/sharing-plan/apply</a></p>]]></content>
      
      
      <categories>
          
          <category> 站点同步专栏 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>准易-小黑课堂新环境搭建</title>
      <link href="/posts/41c1.html"/>
      <url>/posts/41c1.html</url>
      
        <content type="html"><![CDATA[<p>—–<strong>文字教程</strong>—–<br>资源下载链接:<a href="https://caiyun.139.com/m/i?135Ce8H2tpZTS"></a><a href="https://caiyun.139.com/m/i?135Ce8H2tpZTS">https://caiyun.139.com/m/i?135Ce8H2tpZTS</a><br>提取码:qHeX<br>进入考试套件内下载office2016,vc++2010,ps cs6<br><strong>注意</strong><br>1.上述的文件均需要下载本地。<br>2.上述所有软件win7可安装，准易考试要求win10答题(如果你的配置有8G,可用配置好的虚拟机做题)。<br>3.上述考试软件均在考试套件内出现<br>4.如果office安装失败/跳转别的office/未卸载干净等等，请在云盘下载后使用office卸载工具(Microsoft 支持和恢复助手)<br>5.office只是个下载器，如果安装慢请看看你的硬盘速度和网速，正常SSD和100兆宽带下安装最大只需5分钟<br>6.如果未装解压软件,可在考试套件内下载<br>7.如果想换系统，请看win10装机部分<br>OK我们进入正题<br><strong>Visual C++ 2010安装教程</strong><br>首先打开VC++2010简体中文版.rar，点击里面有一个文件夹<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202212300950/1.png" alt="vc文件夹" title="vc文件夹"><br>我们点击进入,查找并双击setup.exe<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202212300950/2.png" alt="安装程序" title="安装程序"><br>跳转到安装程序后,将下面的"是,向Microsoft提交有关安装体验的信息。···"选项勾掉<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202212300950/3.png" alt="勾掉选项" title="勾掉选项"><br>同意许可协议,下一步安装选项内的选项全部勾掉<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202212300950/4.png" alt="勾掉选项" title="勾掉选项"><br>接下来是安装目录，可以自选(建议环境装C盘,避免权限问题)。接下来点击安装，将自动安装。<br>完成页面<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202212300950/5.png" alt="安装完成" title="安装完成"><br><strong>PS安装教程</strong><br>和vc++2010一样,解压后是一个文件夹，双击进入Set-up.exe<br>同时打开Adobe序列号及安装说明.txt,复制里面的序列号(同时有ps错误的解决方法)<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202212300950/6.png" alt="文件夹" title="文件夹"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/202212300950/7.png" alt="set-up.exe" title="set-up.exe"><br>出现"安装程序检测到计算机重新启动操作可能处于挂起状态。建议您退出安装程序，重新启动并重试"请点击忽略并继续<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202212300950/8.png" alt="忽略并继续" title="忽略并继续"><br>等待初始化完成,进入安装界面<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202212300950/9.png" alt="安装界面" title="安装界面"><br>接受协议,并填入复制好的序列号，选择简体中文<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202212300950/10.png" alt="设置简体中文" title="设置简体中文"><br>下一步,点击跳过(你登录也行，我没试过)<br>然后选择安装地址(你可以选择别的盘)<br>win10都是64位，win7有32位。如果你不清楚系统是多少位，建议都勾上安装，我的服务器是server2019(等价于win10 21H2)<br>然后勾掉右边的组件<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202212300950/11.png" alt="勾掉组件" title="勾掉组件"><br>点击安装，它会自动安装告诉你时间。<br>安装完成截图<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202212300950/12.png" alt="完成截图" title="完成截图"><br><strong>Office 2016安装教程</strong><br>双击你下载的OfficeSetup.exe,等待安装完毕即可。<br>—–<strong>视频教程</strong>—–<br><a href="https://www.bilibili.com/video/BV1HK411i779">#BV#</a></p>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>入驻腾讯云通知</title>
      <link href="/posts/b611.html"/>
      <url>/posts/b611.html</url>
      
        <content type="html"><![CDATA[<p>我的博客即将同步至腾讯云开发者社区，邀请大家一同入驻：<a href="https://cloud.tencent.com/developer/support-plan?invite_code=38pzuvhs3ewww"></a><a href="https://cloud.tencent.com/developer/support-plan?invite_code=38pzuvhs3ewww">https://cloud.tencent.com/developer/support-plan?invite_code=38pzuvhs3ewww</a></p>]]></content>
      
      
      <categories>
          
          <category> 站点同步专栏 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>关于博客搬迁问题</title>
      <link href="/posts/e394.html"/>
      <url>/posts/e394.html</url>
      
        <content type="html"><![CDATA[<p>本博客目前已从服务器上搬迁至其他主机上,已确保与其他站点隔绝分多台主机运行。其他的内容维护且正在升级更新。数据库还是采用国内腾讯云上海云数据库和本地混合运行。对于api方面跨域问题，后期采用cdn弥补此问题。    如果你遇到本博客卡顿,堵塞，访问超时等问题请迅速联系站长，邮箱:<a href="mailto:wkkjonlykang@qq.com">wkkjonlykang@qq.com</a>,QQ:914205978</p>]]></content>
      
      
      <categories>
          
          <category> guing </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>博客优化2-网站的资源分布以及小技巧</title>
      <link href="/posts/3469.html"/>
      <url>/posts/3469.html</url>
      
        <content type="html"><![CDATA[<p>总所周知，中国的互联网俗称一个巨大的局域网。因为进出访问世界流量的内容要由防火墙进行管理和阻断。这就导致了静态资源如果放在海外，国内访问这个网站将极大影响网站的加载速度。到了晚上,由于大部分海外服务器走向ChinaNet。ChinaNet 也叫 163 网络。ChinaNet 为超过 8000 万宽带用户服务，同时向全球用户提供超过70%的中文网站的中文互联网资讯。绝大部分的出口带宽都是这种网络，ChinaNet 主要定位于承载普通质量的互联网业务，因为他基建早，带宽大，且足够便宜。所以到晚上访问，人流量太过巨大，经常处于堵塞的状态。就如同大城市下班时的马路上，一直堵着。    所以，一般静态资源放在国内较为稳定。如果你是要做全球网站，不仅要在国内放置静态资源，而且海外也许需要放置静态资源，让高峰期不经过这条线路。CN2的服务器一般速度和稳定性还比较好。但是带宽和配置略差于其他的海外服务器。并且还有些诈骗的企业(或者忽悠人的企业)说部分普通线路时CN2。所以使用CN2服务器请鉴别价格，一版都是30元4M带宽的服务器    如果不方便租聘服务器，或者价格十分昂贵，该怎么办呢?这个时候国内cos存储桶的优势就上来了。高并发，速度快，价格低。搭配cdn就更加快。(当然备了案cdn走专线分发到海外也是一种选择).本博客采用又拍云的云存储。加载速度快并且带宽大，大的同时也有访问限制。    像背景，视频,图片,css,js等内容放置云存储里，并进行很长时间缓存，从而省下很多钞票。    最后，很多api可以调用。例如我的站点左下角的live2d，背景刷新图片。目前我已经将所有资源复制到服务器上，可进行调用。    再可以将哔哩哔哩你发布的视频嵌入到你的文章中。打开你发布的视频界面，点击分享，找到潜入代码，并粘贴到你的站点上，如果看到视频框架，即为调用成功。    后续我在看看能不能出现第三期，我们下次再见</p>]]></content>
      
      
      <categories>
          
          <category> 博客优化 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>教你如何使用Topaz全家桶优化视频-图片等的安装教程</title>
      <link href="/posts/58df.html"/>
      <url>/posts/58df.html</url>
      
        <content type="html"><![CDATA[<p>最近看到很多人或者很多UP主都在使用他家的软件，来内卷把各大CG厂商提升了几倍。<br>不过说到底，每次拿到的图片都有很大的模糊区域。<br>所以，我以Topaz Gigapixel AI为例，来讲解全家桶如何使用<br>安装大同小异，调整优化不会可以转到百度，毕竟我也不太会。<br>最简单方式:看文字调整<br>网盘下载地址:<a href="https://www.bilibili.com/read/cv29085115/">https://www.bilibili.com/read/cv29085115/</a><br>下载完成后，打开文件夹的样子<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210311600/2.jpg" alt="打开的样子1" title="打开的样子1"><br>再点击进入后，上面步骤已经标注非常清晰了。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210311600/3.jpg" alt="打开的样子2" title="打开的样子2"><br>运行后下一步，到同意协议后点击I agree to the agreement就行，然后下一步到结尾。<br>最后掐断网络不要硬掐断。win10-win11用户大同小异（win7没试过,试过的朋友发我邮件再更新)<br>win10简单粗暴:打开设置，搜索代理，打开代理<br>win10-win11找到方法:打开设置，找到网络和Internet,找到代理<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210311600/4.jpg" alt="代理" title="代理"><br>进入后点击使用代理服务器(点击编辑)<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210311600/5.jpg" alt="编辑" title="编辑"><br>设置代理地址为127.0.0.1，端口为80,并启用代理<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210311600/6.jpg" alt="修改代理地址并打开" title="修改代理地址并打开"><br>出现此界面为成功<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210311600/7.jpg" alt="代理成功界面" title="代理成功界面"><br>导入注册表后,汉化复制exe文件到安装目录并覆盖原有exe<br>常见问题:<br>1.打开页面出现此情况怎么办<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210311600/8.jpg" alt="意外情况" title="意外情况"><br>请找到左上角文件-首选项<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210311600/9.jpg" alt="首选项" title="首选项"><br>找到禁用模型下载，还有禁用模型显示,两个都打开<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210311600/10.jpg" alt="禁用模型" title="禁用模型"><br>2.运行很慢怎么办<br>如果你是用CPU来运行的，请在上张图片找到AI处理器换成你的显卡，速度飙升<br>优化好的图片前后对比<br>没优化<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210311600/11.jpg" alt="没优化" title="没优化"><br>优化完成的<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210311600/12.png" alt="优化完成" title="优化完成"></p>]]></content>
      
      
      <categories>
          
          <category> guing </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>回顾博客创建的3年-本博客的发展历程</title>
      <link href="/posts/bfac.html"/>
      <url>/posts/bfac.html</url>
      
        <content type="html"><![CDATA[<p>本来博客是有5年以上的，但是wordpress老是崩库，也是没有办法    看着博客已经写到40篇文章，即放出一些本站建设历史。感谢各位的支持    那个时候我是凑来的前，来勉强维持博客的样子    在3年内，博客建设以及优化不低于200次，维护并设置各种插件有50次以上。    期间，在换到typecho报错超过20次，经过不断优化，速度加快了许多。    在2019年10月21日，开始谋划站点的建设方面。在那时，使用他人提供的免费二级备案域名。因为，那个时候，我是受到各位大佬的机器人制作影响，开始建设站点。那时只有导航和我做的粗劣的api，访问速度由于在国内也不算太差    在2020年的元旦时期，看到B站上有大佬搭建博客(wordpress)，那时就学了很久，从下载到解压，并完成配置数据库的内容.    2020-2021年间，一直使用wordpress的我觉得使用国内数据库速度低下，且加载经常有500报错。在此期间换了2-5个域名(虽然有两个还在,但是我一直想售卖掉)    2021后半年,我就换至Typecho平台，因为wordpress在彩虹云主机上运作过于缓慢，不利于多用户高速访问。于是我购买了阿里云香港轻量应用服务器。30M的公网够我分配做很多东西，只要做好防火墙以及网站带宽分配就行。    目前运行到现在，加入了很多好看的美观的内容。并将海外的部分调用节点放置我的服务器上或者我购买的二级备案域名绑定的云存储上。    之前使用过的域名:    blog.yuwind.com    blog.fcyle.com    blog.wkkjinc.cn    lovablewyh.yaqian.hk    lovablewyj.yixuedh.com</p>]]></content>
      
      
      <categories>
          
          <category> guing </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>考试套件安装教程</title>
      <link href="/posts/6b44.html"/>
      <url>/posts/6b44.html</url>
      
        <content type="html"><![CDATA[<p>考试套件适用于各类考试软件，对于很多考试软件亲测兼容性良好<br>PS建议win10以上用户安装ps2020，以免出现做完死机等现象<br>考试套件急速下载地址:<a href="https://caiyun.139.com/m/i?135CmSwKx7cgv"></a><a href="https://caiyun.139.com/m/i?135CmSwKx7cgv">https://caiyun.139.com/m/i?135CmSwKx7cgv</a><br>提取码:Y6dy<br><strong>Microsoft Visual C++(vc6.0）安装步骤</strong><br>此安装包包含中文和英文两个版本，按照需要选择安装。“VC6CN”是中文版，“VC6EN”<br>是英文版，这里为中文版的安装步骤。<br>首先打开网盘下载的压缩包，打开压缩包<br>(如果无法打开请下载压缩软件，如360压缩)<br>如图，双击autorun.exe<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210260900/1.jpg" alt="运行auyorun.exe" title="运行auyorun.exe"><br>(解压软件将会自行解压所有资源，如果解压完所有资源报错请解压到文件夹中后再食用)<br>autorun.exe文件打开后，有中文版和英文版，如图所示：<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210260900/2.jpg" alt="中文/英文版图片" title="中文/英文版图片"><br>这里选择“中文版”。然后单击“下一步”，选择“接收协议”，然后单击“下一步”,再单击“下一步”，接着就是正式安装了。<br>选择“安装 Visual C++6.0 中文企业版(I)”，然后单击“下一步”。<br>选择安装路径，这里建议安装在磁盘空间剩余比较大的磁盘中，单击“下一步”<br>单击“运行程序”<br>这时如果安装了杀毒软件，会出现下面的提示，没有关系，在更多选项卡中，选择“允许本次操作”，在这之后，如果还出现这样的提醒，一律都选择“允许本次操作”。<br>选择“继续”<br>点击确定。<br>选择是<br>这里选择“Custom”,如下图所示:<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210260900/3.jpg" alt="选择Custom" title="选择Custom"><br>点击进入(如下图),查找Data Access选项<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210260900/4.jpg" alt="主页面" title="主页面"><br>查找到后，点击右边更改选项(如下图所示)<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210260900/5.jpg" alt="Data Access选项" title="Data Access选项"><br>将ADO,RDS,and OLE DB Providers的选项去掉<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210260900/6.jpg" alt="去掉选项" title="去掉选项"><br>提示点确定即可<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210260900/7.jpg" alt="确定即可" title="确定即可"><br>点击确定后再点确定，然后点击继续<br>然后出现了这个界面，就等着安装完毕吧<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210260900/8.jpg" alt="安装中" title="安装中"><br>点击确定<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210260900/9.jpg" alt="确定即安装成功" title="确定即安装成功"><br>安装成功<br>在安装完毕之后，会出现下面的界面，如果想要安装 MSDN 就选择安装，不想安装的<br>话，也可以，建议这里选择不安装<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210260900/10.jpg" alt="安装MSDN" title="安装MSDN"><br>把“安装 MSDN”前面的对号去掉，点击下一步<br>现在，在桌面上或者在任务栏(win10)就可以看到 VC++6.0 的图标了，我们双击点开它<br>可以运行了。<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202210260900/11.jpg" alt="任务栏" title="任务栏"><br><strong>———Microsoft Visual C++(vc6.0）常见问题——-</strong><br>1.安装时候弹出正在更新系统怎么办<br>在如上Custom处已经讲解，请观看<br>2.Win11出现双击后显示加载页面后闪退无法食用，怎么办?<br>建议下载网盘内win11的替换包(我调好的)，在我的电脑上能用(我的电脑是win11 22H2)<br>调换地址:<code>C:\Program Files (x86)\Microsoft Visual Studio\Common\MSDev98\Bin</code><br><strong>Photoshop 安装步骤</strong><br>下载上方网盘内考试套件-&gt;ps-&gt;随意cs6或者ps2020，解压点击安装的exe(主页面就一个exe)即可。<br>下载CS6绿色版后请在桌面创建一个psd,如果不会请在网盘下载测试.psd<br><strong>office 2010 安装步骤</strong><br>下载后请解压在文件夹寻找setup.exe，如果多次下载提示包损坏或者没有setup.exe文件，建议搭配迅雷下载食用<br>文件大小:796.37MB<br><strong>office 2010 常见问题</strong><br>1.我安装了office，如何切换?<br>第一种方法是在设置里搜索默认设置切换,第二种是鼠标右击选择打开方式,查找相应软件，并勾选默认此软件打开。第三中适合小白直接卸载WPS</p>]]></content>
      
      
      <categories>
          
          <category> guing </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>API调用正式向外部开放</title>
      <link href="/posts/4ca8.html"/>
      <url>/posts/4ca8.html</url>
      
        <content type="html"><![CDATA[<p>本站调用的各种接口，都已在博客做的验证，对于更多实际调用接口方案，本站将在下一个博客优化2内详细讲解<br>地址如下:<a href="https://api.nuoyis.net/">https://api.nuoyis.net</a></p><p>请各位在使用与点击的时候，不要过多访问api内容，以免被防火墙隔离一段时间</p>]]></content>
      
      
      <categories>
          
          <category> 公告 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>博客优化1-网站的服务器选择</title>
      <link href="/posts/e5a5.html"/>
      <url>/posts/e5a5.html</url>
      
        <content type="html"><![CDATA[<p>各位正在看博客的朋友们，这是第一期关于博客优化的视频。首先我将从多个方面来表达博客如何优化，如何最好看.如果你的博客还不会搭建,可以移步至<a href="https://blog.nuoyis.net/index.php/lovablewyh/20220813375.html">这里</a>进行查看。<br>服务器的性价比十分重要，域名的选用也十分重要。<br>本站的域名换过几次，所以百度权重就掉没了<br>服务器我推荐腾讯云的轻量云，轻量云比较良心，尤其是学生方面<br>对于新注册用户也是非常不错的<br>点击<a href="https://url.cn/2ej6LY7c">这里</a>查看新用户，点击<a href="https://cloud.tencent.com/act/campus?from=17302">这里</a>查看学生服务器<br>对于阿里云，我推荐阿里云香港服务器，因为阿里云多两元比腾讯云的配置多一半<br>配置表如下:<br>阿里云<br>34元/月<br>CPU:2核<br>内存:2GB<br>每月流量:2048GB<br>系统盘:60GB<br>限峰值带宽30Mbps<br>腾讯云<br>32 元/月<br>CPU:2核<br>内存:2GB<br>系统盘:30GB SSD<br>限峰值带宽:30Mbps<br>每月流量:1024GB<br>有些朋友在抢阿里云24元的香港服务器，不过我对8开头的香港服务器有抵触，因为速度会较慢一些。34元是本站的这种4开头ip(4开头)<br>建议各位有买虚拟主机(非大厂)的自备一个外部的数据库(如果挂静态网页当我没说)，因为数据库存入的数据一旦多起来了，迁移就是一个麻烦事情。有的客服鸟都不鸟你(例如彩虹云的香港博客主机到现在我换到阿里云上的波折)。不过目前我看到有个服务商的客服还挺不错的。可以试试星辰云的虚拟主机和服务器，需要点击这里<a href="https://starxn.com/aff/RIHULAOY">这里</a>。<br>服务器用户，如果你没有备案，上面的星辰云提供的cdn也还可以。备案后可以不用百度云国内加速（白嫖国外cloudflare），国内可以采用ucloud+腾讯云+又拍云和七牛云混合加速<br>本片文章到此结束，欢迎下次阅读第二期博客优化文章</p>]]></content>
      
      
      <categories>
          
          <category> 博客优化 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux-安装nginx改造升级版(Tengine)</title>
      <link href="/posts/76f7.html"/>
      <url>/posts/76f7.html</url>
      
        <content type="html"><![CDATA[<p>对于nginx开源代码基础上(nginx速度快、并发强、高稳定性等),阿里云并对此做出了更好的优化。对于淘宝和支付宝已率先证明Tengine针对大型企业网站高并发的优化以及安全稳定性<br>Tengine是由淘宝网发起的Web服务器项目。它在Nginx的基础上，针对大访问量网站的需求，添加了很多高级功能和特性。Tengine的性能和稳定性已经在大型的网站如淘宝网，天猫商城等得到了很好的检验。它的最终目标是打造一个高效、稳定、安全、易用的Web平台。<br>Tengine增添的内容:<br>1.继承Nginx的所有特性,兼容Nginx的配置，可用于正向代理场景；<br>2.支持异步OpenSSL，可使用硬件如:QAT进行HTTPS的加速与卸载；<br>3.增强相关运维、监控能力,比如异步打印日志及回滚,本地DNS缓存,内存监控等；<br>4.Stream模块支持server_name指令；<br>5.更加强大的负载均衡能力，包括一致性hash模块、会话保持模块，还可以对后端的服务器进行主动健康检查，根据服务器状态自动上线下线，以及动态解析upstream中出现的域名；<br>6.输入过滤器机制支持。通过使用这种机制Web应用防火墙的编写更为方便；<br>7.支持设置proxy、memcached、fastcgi、scgi、uwsgi在后端失败时的重试次数；<br>8.动态脚本语言Lua支持。扩展功能非常高效简单；<br>9.支持按指定关键字(域名，url等)收集Tengine运行状态；<br>10.组合多个CSS、JavaScript文件的访问请求变成一个请求；<br>11.自动去除空白字符和注释从而减小页面的体积<br>12.自动根据CPU数目设置进程个数和绑定CPU亲缘性；<br>13.监控系统的负载和资源占用从而对系统进行保护；<br>14.显示对运维人员更友好的出错信息，便于定位出错机器；；<br>15.更强大的防攻击（访问速度限制）模块；<br>16.更方便的命令行参数，如列出编译的模块列表、支持的指令等；<br>17.支持Dubbo协议；<br>18.可以根据访问文件类型设置过期时间。<br>介绍这么多，下载以及安装方式<br><a href="https://tengine.taobao.org/download_cn.html"></a><a href="https://tengine.taobao.org/download_cn.html">https://tengine.taobao.org/download_cn.html</a><br>源码编译安装<br><br>./configture<br><br><br>make<br><br><br>//make install<br>(所有文件均要解压，解压步骤不知道的操作如下:)<br><br>wget (你复制的下载链接 例如:wget <a href="https://tengine.taobao.org/download/tengine-2.3.2.tar.gz">https://tengine.taobao.org/download/tengine-2.3.2.tar.gz</a>)<br><br><br>tar -xzvf (你的tar.gz文件名 例如:tar -xzvf tengine-2.3.2.tar.gz)<br><br><br>ll //查看有没有<br>注:编译安装后的配置文件在/usr/local/nginx,可通过-prefix指定根路径<br>手动安装<br>警告:需要安装pcre/zlib/openssl模块(也是Linux和Centos系统中必要插件,阿里云云服务器不能使用yum只能手动编译安装<br>安装的软件包<br>openssl-<em>.</em>.<em>.tar.gz<br>pcre-<em>.</em>.</em>.tar.gz<br>zlib-<em>.</em>.<em>.tar.gz<br>tengine-<em>.</em>.</em>.tar.gz<br>这四个安装包目前博客正在准备中<br>后期可在本博客下载</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>原神QQ机器人指令集合</title>
      <link href="/posts/dacf.html"/>
      <url>/posts/dacf.html</url>
      
        <content type="html"><![CDATA[<p>先点击链接加入群聊【提瓦特的乐章】后再操作：<a href="https://jq.qq.com/?_wv=1027&amp;k=7kyb2E1u">https://jq.qq.com/?_wv=1027&amp;k=7kyb2E1u</a>#角色    米游社角色数据查询</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">#探险    米游社角色数据查询</span><br><span class="line">#角色卡片    米游社角色数据查询</span><br><span class="line">#刻晴    米游社角色详情查询</span><br><span class="line">#武器    米游社角色详情武器查询</span><br><span class="line">#五星，#四星，#角色背包    米游社角色详情背包</span><br><span class="line">#深渊    米游社深渊查询</span><br><span class="line">#深渊十二层    米游社深渊层数查询</span><br><span class="line">#刻晴突破，#刻晴素材    米游社友人A的角色突破素材图</span><br><span class="line">#刻晴攻略    米游社西风攻略</span><br><span class="line">#练度统计，#五星列表，#天赋列表    米游社角色详情列表</span><br><span class="line">#体力    原神体力查询</span><br><span class="line">#签到    米游社原神签到，自动签到</span><br><span class="line">#开启、关闭签到    开启或关闭原神自动签到</span><br><span class="line">#全部签到    签到全部ck</span><br><span class="line">#原石、#原石七月    查询米游社原石札记</span><br><span class="line">#原石统计    查询米游社原石札记，会自动保存数据</span><br><span class="line">#原石任务    保存米游社原石札记数据</span><br><span class="line">#今日素材    按已拥有角色查询今日素材</span><br><span class="line">#公告，#公告2，#资讯，#活动    米游社原神最新20条公告资讯</span><br><span class="line">#米游社xxx    米游社原神帖子搜索，如#米游社七七</span><br><span class="line">#开启、关闭公告推送，#开启、关闭资讯推送    米游社原神公告资讯推送</span><br><span class="line">#原石预估    新版本可获取原石数量预估</span><br><span class="line">抽卡指令    说明</span><br><span class="line">#十连    原神模拟十连抽卡，角色池，默认每日一次，四点更新</span><br><span class="line">#十连武器    原神模拟十连抽卡</span><br><span class="line">#十连常驻    原神模拟十连抽卡</span><br><span class="line">#定轨    武器池定轨</span><br><span class="line">ck指令    说明</span><br><span class="line">体力帮助，cookie帮助    cookie绑定教程</span><br><span class="line">cookie代码    获取cookie的js代码</span><br><span class="line">#绑定cookie    绑定米游社cookie</span><br><span class="line">#删除cookie    删除绑定的cookie</span><br><span class="line">#绑定uid    绑定游戏的uid</span><br><span class="line">#uid    显示已绑定cookie的uid</span><br><span class="line">#我的ck    当前绑定的主cookie</span><br><span class="line">抽卡记录指令    说明</span><br><span class="line">抽卡记录链接    发送链接，导入抽卡记录</span><br><span class="line">#角色记录    统计抽卡数据</span><br><span class="line">#武器记录    统计抽卡数据</span><br><span class="line">#常驻记录    统计抽卡数据</span><br><span class="line">#角色统计    统计抽卡数据，按卡池统计</span><br><span class="line">#武器统计    统计抽卡数据，按卡池统计</span><br><span class="line">#常驻统计    统计抽卡数据，按卡池统计</span><br><span class="line">#记录帮助    抽卡记录导入说明</span><br><span class="line">#导出记录    抽卡记录xlsx导出</span><br><span class="line">#导出记录json    抽卡记录json导出</span><br><span class="line">xlsx文件导入    xlsx导入，统一可交换祈愿记录v2.2，需要加好友</span><br><span class="line">json文件导入    json导入，统一可交换祈愿记录v2.2，需要加好友</span><br><span class="line">其他指令    说明</span><br><span class="line">#帮助    帮助命令说明</span><br><span class="line">#状态    查询发送消息数据，群聊则发送群数据</span><br><span class="line">#重启    重新启动</span><br><span class="line">#日志    查看运行日志</span><br><span class="line">#错误日志    查看错误日志</span><br><span class="line">#日志关键词    搜索日志</span><br><span class="line">#更新    执行git pull拉取更新</span><br><span class="line">#强制更新    放弃本地修改，强制拉取</span><br><span class="line">#全部更新    全部插件更新</span><br><span class="line">#更新日志    最近50条commit记录</span><br><span class="line">#添加xxx    添加表情，文字等内容，支持多个</span><br><span class="line">#添加图片    添加图片默认为表情，大图显示请用添加图片</span><br><span class="line">#删除xxx    删除已添加表情</span><br><span class="line">#删除全部    删除全部表情</span><br><span class="line">#表情列表    显示已添加内容</span><br><span class="line">#表情xxx    搜索已添加内容</span><br><span class="line">#设置刻晴别名    自定义别名</span><br><span class="line">#删除别名龟龟    删除设置的别名</span><br><span class="line">#刻晴别名    别名列表</span><br><span class="line">#配置ck    添加公共查询ck</span><br><span class="line">#使用用户ck    将用户ck加入到公共查询ck池</span><br><span class="line">#雷神面板 可更改为其他角色</span><br><span class="line">#更新面板</span><br><span class="line">#雷神伤害</span><br><span class="line">#雷神圣遗物</span><br><span class="line">「塔罗牌」占卜</span><br><span class="line">「每日一题」LeetCode 每日一题</span><br><span class="line">「随机一题(easy/medium/hard)」LeetCode 随机一题</span><br><span class="line">如：随机一题hard</span><br><span class="line">「今日/昨日题解」查看答案</span><br><span class="line">「r/roll」骰子</span><br><span class="line">r (随便什么文本，可以为空) a b 即在 a 和 b 之间 roll 一个数字</span><br><span class="line">roll a b c 即随机选出 a, b, c 中的一个</span><br><span class="line">「(咱)今天吃什么」美食推荐</span><br><span class="line">今天吃什么会考虑基本菜单和群菜单</span><br><span class="line">咱今天吃什么只考虑群菜单</span><br><span class="line">「添加/删除食物」更改群菜单，后面接食物（可以有多个，空格分隔）</span><br><span class="line">如：添加食物 kfc 麦当当</span><br><span class="line">「tex」生成公式对应图片</span><br><span class="line">如：tex 1+1=2</span><br><span class="line">「markdown」同上</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 技术类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>博客(wordpress,typecho)安装教程</title>
      <link href="/posts/d9e2.html"/>
      <url>/posts/d9e2.html</url>
      
        <content type="html"><![CDATA[<p>最近我的朋友给我发了一条消息，说他不会安装博客之类的东西。<br>下面我来教大家如何安装wordpress和typecho.<br>首先你需要域名并把域名解析到一台服务器或虚拟主机。<br>这里推荐星辰云虚拟主机，很好用也很快.<br>博客最后是视频讲解部分，如果文字看不懂可以看下面<br>本搭建的内容到时候全部在移动云盘内下载<br>网盘下载地址:<a href="https://www.bilibili.com/read/cv29085115/">https://www.bilibili.com/read/cv29085115/</a><br>首先下载wordpress安装包,或者typecho安装包.<br>wordpress下载地址:<a href="https://wordpress.org/"></a><a href="https://wordpress.org/">https://wordpress.org</a><br>这里已经下载好了。我们打开星辰云进行上传(宝塔也是)<br>wordpress一开始有个数据库填入，一般情况下数据库名是和数据库表相同(特殊情况请联系你的数据库服务商寻求帮助)<br>自定义前缀开头可以改，但是请不要删除_符号<br>然后进入下一步设置(/wp-admin)站点用户名和密码，按要求和个性自己定制下<br>安装主题直接进入设置，点击主题再点击<br>typecho<br>typecho下载地址:<a href="https://typecho.org/"></a><a href="https://typecho.org/">https://typecho.org</a><br>这里已经下载好了。我们打开星辰云进行上传(宝塔也是)<br>这好像是开发版有些bug<br>再推荐使用个主题，主题非常漂亮好看，地址:<a href="https://github.com/bhaoo/cuckoo"></a><a href="https://github.com/bhaoo/cuckoo">https://github.com/bhaoo/cuckoo</a><br>搭建也是wordpress同理，建议选择pdo驱动器,其他可以根据自身情况选择<br>主题安装方法是找到usr/themes目录，创建Cuckoo<br>再把本云盘内主题解压后删除zip文件并在后台(/admin)设置中启用<br>问题综合<br>1.后台被别人一下识别出地址为/admin怎么办?<br>首先在config.inc.php中的<code>define **TYPECHO_ADMIN_DIR** /admin/</code>改名为其他(或者就改成wordpress那样什么-admin)，并将文件夹重命名为相同名字<br>2.正常访问文章出现一些404报错怎么办<br>需要配置伪静态typecho没有伪静态用wordpress的<br>视频教程<br><a href="https://www.bilibili.com/video/BV1yN4y157HD">#BV#</a></p>]]></content>
      
      
      <categories>
          
          <category> guing </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>C语言-关键字</title>
      <link href="/posts/1b61.html"/>
      <url>/posts/1b61.html</url>
      
        <content type="html"><![CDATA[<p>总关键字<br>auto break case char const continue default do double else enum extern float for goto if int long register return short signed sizeof static struct switch typedef union unsigned<br>分类<br>1.数据类型关键字(12个)<br> (1). char:声明字符型变量或函数<br> (2). double:声明双精度变量或函数<br> (3). enum:声明枚举类型<br> (4). float:声明浮点型变量或函数<br> (5). int:声明整型变量或函数<br> (6). long:声明长整型变量或函数<br> (7). short:声明短整型变量或函数<br> (8). signed:声明有符号类型变量或函数<br> (9). struct:声明结构体变量函数<br> (10). union:声明共用体(联合)数据类型<br> (11). unsigned:声明无符号类型变量或函数<br> (12). void:声明函数无返回值或无参数,声明无类型指针(一般都这三个作用)<br>2.控制语句关键字(12个)<br><a>循环语句<br> (1). for:一种循环语句<br> (2). do<br> (3). while<br> (4). break<br> (5). continue<br><b>条件语句<br> (1). if<br> (2). else<br> (3). goto<br><c>开关语句<br> (1). switch<br> (2). case<br> (3). default</c></b></a></p><a><b><p><d>返回语句<br>return :子程序返回语句(可以带参数,可以不带参数)</d></p><p>3.存储类型关键字(4个)<br> (1). auto:声明自动变量<br> (2). extern:声明变量实在其他文件正声明<br> (3). register:声明寄存器变量<br> (4). static:声明静态变量</p><p>4.其他关键字<br> (1). const:声明只读变量<br> (2). sizeof:计算数据类型长度<br> (3). typeof:用以给数据类型取别名<br> (4). volatile:说明变量在程序执行中可被隐含地改变</p></b></a>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>面向对象的讲解</title>
      <link href="/posts/b32c.html"/>
      <url>/posts/b32c.html</url>
      
        <content type="html"><![CDATA[<p>面向对象指的是将某一问题实例化，抽象出对象,用对象来思考问题.<br>面向对象有三大特性<br>一.封装<br>将对象的属性和行为封装起来，用类作为载体。类通常对客户隐藏实现细节</p><p>二.继承<br>类与类之间相互有管理。这种关系称为关联。关联主要描述两个类之间的一般二元关系,例如,一个百货公司类与销售员类就是一个关联,学生类与教师类也是一个关联。<br>继承性主要利用特定对象之间的共有属性。在类中，有子类继承父类实例</p><p>三.多态<br>把父类对象应用于子类的特征就是多态。此用图形类来说明多态，每个图形都拥有绘制自己的能力，这个能力可以看作是该类具有的行为，如果将子类的对象统一看作是父类的实例对象,这样当绘制图形时，简单地调用父类也就是图形类绘制图形的方法即可绘制任何图形<br>多态性允许以统一的风格编写程序，以处理种类繁多的已存在的类以及相关类。该统一风格可以由父类来实现，根据父类统一风格的处理，可以实例化子类的对象。由于整个事件的处理都只依赖父类的方法，日后只需维护和调整父类的方法，这样降低了维护的难度，节省了时间</p><p>类<br>类是同一类事物的总称，如果将现实世界中的一个事物抽象成对象，类就是这类对象的统称,如鸟类、家禽类、人类等。类是构造对象时所依赖的规范,如一直鸟有一对翅膀,它可以用这对翅膀飞行,而基本上所有的鸟都具有翅膀这个特性和飞行的技能,这样具有相同类型。</p><p>代码示例<br>C++</p><h1 id="include"><a href="#include" class="headerlink" title="include"></a>include</h1><p>using namespace std;</p><p>class xwfun<br>{<br>cout &lt;&lt;”hallo world”&lt;&lt;endl;<br>}</p><p>int main()<br>{<br>xwfun.run();<br>xufun.stop();<br>}</p><p>Java<br>public class xwfun{<br>public string name;<br>public string came;<br>public string name(){<br>setcame(“Java”);<br>setname(“world”);<br>return this.came+””+this.name;<br>}<br>}</p><p>public static void main(string[] args){<br>try{</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(new xwfun());</span><br></pre></td></tr></tbody></table></figure><p>}catch(MyException e){</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Systemctl.out.println(e);</span><br></pre></td></tr></tbody></table></figure><p>}<br>}</p><p>PHP<br>&lt;?php<br>Class xwfun{<br>public function _construct(){<br>echo “Hallo world”;<br>}<br>}</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>友猫(阿里云合作)随身WIFI测评</title>
      <link href="/posts/8090.html"/>
      <url>/posts/8090.html</url>
      
        <content type="html"><![CDATA[<p>由于b站大量图片审核不通过，在博客进行图片展示<br>大家好呀，本次专栏编写下有猫4G随身WIFI mini版，它是与阿里云合作的一款随身WIFI,十分小巧。机身集成了eSIM(店家跑路后随身WIFI就GG),打开后盖就能查看信息，实际图如下:<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202208092100/1.jpg" alt="随身WIFI" title="随身WIFI"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/202208092100/2.jpg" alt="随身WIFI带电源" title="随身WIFI带电源"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/202208092100/3.jpg" alt="包装盒正面" title="包装盒正面"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/202208092100/4.jpg" alt="包装盒反面" title="包装盒反面"><br>然后进入正题,随身WIFI使用的频段是电信LTE-FDD,电信在我这里信号不稳定，稍微换一个地方就降信号，不过电信的资费便宜，上传不亚于一些100M宽带速度(我这里没跑满,一般开阔地方28Mb/s)。分配Ip地址的位置是广州区域<br>以下是测速实图<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202208092100/5.jpg" alt="测速" title="测速"><br>勉强刷刷b站，看看小说，或者在外需要使用大量流量时候适合使用.不建议打游戏，如果你愿意接受卡成狗的情况下那么我也没啥好说的.<br>资费也比较正常，如果比别人的低一些也不存在什么问题.资费如下:<br><img src="https://images.nuoyis.net/blog/typecho/uploads/202208092100/6.jpg" alt="月包" title="月包"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/202208092100/7.jpg" alt="有聚享300G" title="有聚享300G"><br><img src="https://images.nuoyis.net/blog/typecho/uploads/202208092100/8.jpg" alt="有聚享1500G" title="有聚享1500G"><br>有聚享300G<br>最后,一定要知晓的缺点和问题<br>1.长时间下载或者插电运行一段时间后，温度很烫，建议放置一段时间进行散热.<br>2.在电信覆盖比较好的地方有时能3MB/s每秒,上传一般不会有多大差别<br>3.价格与蒲公英版相差不大,但是蒲公英版可以换卡<br>4.B站不能发大量图片，不然会锁定，目前已经锁定一次了<br>5.再有问题请在下方留言后期更改</p>]]></content>
      
      
      <categories>
          
          <category> 生活类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>非人哉-&amp;gt;中国银行联名万事达借记卡办理教程</title>
      <link href="/posts/58d5.html"/>
      <url>/posts/58d5.html</url>
      
        <content type="html"><![CDATA[<h1 id="注：中国银行目前已经关闭申请通道，卡片已绝版"><a href="#注：中国银行目前已经关闭申请通道，卡片已绝版" class="headerlink" title="注：中国银行目前已经关闭申请通道，卡片已绝版"></a>注：中国银行目前已经关闭申请通道，卡片已绝版</h1><p>先来看波官方的视频  </p><iframe src="//player.bilibili.com/player.html?aid=713070726&amp;bvid=BV1XX4y1M7Ye&amp;cid=262763066&amp;p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>  卡面非常好看，适合购买海外的服务器(阿里云国际版等区域都可以白嫖)  下单地址:[](https://cloud.bankofchina.com/sh/html/h5/card/feirenzai_ad.html)[https://cloud.bankofchina.com/sh/html/h5/card/feirenzai\_ad.html](https://cloud.bankofchina.com/sh/html/h5/card/feirenzai_ad.html)]]></content>
      
      
      <categories>
          
          <category> 生活类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>C语言头文件集合</title>
      <link href="/posts/8d.html"/>
      <url>/posts/8d.html</url>
      
        <content type="html"><![CDATA[<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;include.h&gt; //输入输出函数</span><br><span class="line">#include &lt;assert.h&gt; //设定插入点</span><br><span class="line">#include &lt;ctype.h&gt; //字符处理</span><br><span class="line">#include &lt;errno.h&gt; //定义错误码</span><br><span class="line">#include &lt;float.h&gt; //浮点数处理</span><br><span class="line">#include &lt;fstream.h&gt; //文件输入/输出</span><br><span class="line">#include &lt;iomanip.h&gt; //参数化输入/输出</span><br><span class="line">#include &lt;iostream.h&gt; //数据流输入/输出</span><br><span class="line">#include &lt;limits.h&gt; //定义各种数据类型最值常量</span><br><span class="line">#include &lt;locale.h&gt; //定义本地化函数</span><br><span class="line">#include &lt;math.h&gt; //定义数学函数</span><br><span class="line">#include &lt;stdlib.h&gt; //定义杂项函数和内存分配函数</span><br><span class="line">#include &lt;string.h&gt; //字符串处理</span><br><span class="line">#include &lt;strstrea.h&gt; //基于数组的输入/输出</span><br><span class="line">#include &lt;time.h&gt; //定义关于时间的函数</span><br><span class="line">#include &lt;wchar.h&gt; //宽字符处理及输入/输出</span><br><span class="line">#include &lt;wctype.h&gt; //宽字符分类</span><br><span class="line">#include &lt;algorithm&gt; //STL通用算法</span><br><span class="line">#include &lt;bitset&gt; //STL位集容器</span><br><span class="line">#include &lt;cctype&gt;</span><br><span class="line">#include &lt;cerrno&gt;</span><br><span class="line">#include &lt;clocale&gt;</span><br><span class="line">#include &lt;cmath&gt;</span><br><span class="line">#include &lt;complex&gt;</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>go-cqhttp(电脑机器人搭建)教程</title>
      <link href="/posts/bf87.html"/>
      <url>/posts/bf87.html</url>
      
        <content type="html"><![CDATA[<p>网盘下载地址:<a href="https://www.bilibili.com/read/cv29085115/">https://www.bilibili.com/read/cv29085115/</a><br>随便创个文件夹，再点击解压就行了</p><p>丢入之后，linux用户直接./go-cqhttp</p><p>Windows用户</p><p>请在移动云盘下载exe文件，点击运行，程序会自动运行.在运行期间请不要关闭窗口，以免服务中断</p><p>常见问题</p><p>1.搭建完成后如何编写词库类文件?</p><p>我是学的php区域，可能文档也没学懂，只会一些，如果想要有现成框架可以进入其他up的群聊，例如UP主寒曦朦(群聊:549522943)</p><p>2.提示登陆有异常怎么办</p><p>Windows用户请在服务器上下载QQ,并用手机扫码。7日后再尝试登陆</p><p>Linux用户请在自己电脑上登陆后(注意扫码)，然后把本地生成的session.token和device.json拖到服务器上</p><p>如果还有问题怎么办</p><p>评论区留言，我们将在一个月内尝试更新到专栏,并同步到博客中</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>天依小柠檬卡办理方式</title>
      <link href="/posts/dbb5.html"/>
      <url>/posts/dbb5.html</url>
      
        <content type="html"><![CDATA[<p>最近这张卡很火，发帖与拿到卡激活用到了一段时间。    这张卡最大的优点就是终身免卡费，二次元满满。    就是这张卡    <img src="https://images.nuoyis.net/blog/typecho/uploads/202206051642/1.png" alt="天依小柠檬卡" title="天依小柠檬卡">    在微信扫描申请链接图片，现在是不要邮费的    <img src="https://images.nuoyis.net/blog/typecho/uploads/202206051642/2.png" alt="天依小柠檬卡申请图" title="天依小柠檬卡申请图">    这张卡是一张借记储蓄卡，只能存钱不能赊账。所以学生党福利还是可以    搭配短信收取，以防其他人刷卡扣钱还不知道    说了那么多，下面放出申请方法    准备你的身份证，你的(本人)手机号加上你的人    要求：身份证正反面,(可能要)手持身份证相片    再就是14天内审核，审核完后会邮政信封的样式邮寄    最后从上海邮寄卡到家，签收后到附近的中国银行进行激活就行啦    最后提醒    1.本张卡归属地是上海市中国银行(在中国银行app可查询具体分行)，遗失后补办麻烦和风险很大(可在附近银行挂失然后邮寄到附近银行)    2.本张卡很容易出现挂痕，建议使用无卡存款(已无效)进行存钱或者另一个，毕竟是纪念品级银行卡    3.办理期间如一直审核失败请看看个人信息是否有误，门牌号是否到家门口(几栋几楼左还是右室)    4.办理后建议还是激活使用，不用可能后期有啥大问题(征信啥的)</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QR资源包</title>
      <link href="/posts/7850.html"/>
      <url>/posts/7850.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>本视频以及资源包所有来源已在视频保留版权所有。 </p></blockquote><p>网盘下载地址:<a href="https://www.bilibili.com/read/cv29085115/">https://www.bilibili.com/read/cv29085115/</a><br>感谢你对作者的心血支持。</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>PHP网页简单编写</title>
      <link href="/posts/e5f7.html"/>
      <url>/posts/e5f7.html</url>
      
        <content type="html"><![CDATA[<p>php是指超文本预处理器，是在服务器执行的脚本语言。其语言的风格类似于C++和Java。</p><p>先尝试输出一个hallo world</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo"hallo world";</span><br><span class="line">?&gt;</span><br></pre></td></tr></tbody></table></figure><p>或者这样输出</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;pre class="wp-block-code"&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">$weikang = "hello world";</span><br><span class="line">echo $weikang;</span><br><span class="line">?&gt;</span><br></pre></td></tr></tbody></table></figure><p>在html镶嵌是这样</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;pre class="wp-block-code"&gt;```</span><br><span class="line">&lt;?php</span><br><span class="line">$weikang1 = "hello world";</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line"> &lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv="content-type" content="text/html;charset=utf-8"&gt;</span><br><span class="line">&lt;title&gt;&lt;?php echo $weikang1; ?&gt;&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p&gt;&lt;?php echo $weikang1; ?&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></tbody></table></figure><p>或者是这样</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$weikang1 = "hello world";</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line"> &lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv="content-type" content="text/html;charset=utf-8"&gt;</span><br><span class="line">&lt;title&gt;&lt;?=$weikang1; ?&gt;&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p&gt;&lt;?=$weikang1; ?&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></tbody></table></figure><p>php if结构</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;pre class="wp-block-code"&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">$weikang = 1;</span><br><span class="line">if (weikang==1){</span><br><span class="line">echo "hallo world";</span><br><span class="line">}else{</span><br><span class="line">echo "bye world";</span><br><span class="line">}</span><br><span class="line">?&gt;</span><br></pre></td></tr></tbody></table></figure><p>php函数编写</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;pre class="wp-block-code"&gt;</span><br><span class="line">输出hallo world代码</span><br><span class="line">&lt;?php</span><br><span class="line">function weikang(){</span><br><span class="line">echo "hello world";</span><br><span class="line">}</span><br><span class="line">weikang();</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">输出带数值版</span><br><span class="line">&lt;?php</span><br><span class="line">function weikang($about){</span><br><span class="line">echo $about;</span><br><span class="line">}</span><br><span class="line">weikang(1);</span><br><span class="line">?&gt;</span><br></pre></td></tr></tbody></table></figure><p>php面向对象编写</p><p>面向函数是把问题进行抽象化</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;pre class="wp-block-code"&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">class weikangnb{</span><br><span class="line">public function _construct(){</span><br><span class="line">echo "hallo world";</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line">new weikangnb();</span><br></pre></td></tr></tbody></table></figure><p>本片文章到此为止，有问题或者其他需要补充请联系我哦</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>腾讯云服务器添加可视化页面</title>
      <link href="/posts/4ade.html"/>
      <url>/posts/4ade.html</url>
      
        <content type="html"><![CDATA[<p>最近买了一台国内一年的腾讯云服务器，服务器没有可视化页面，不好挂载QQ类物品，同时可视化页面可以一直挂着ssh窗口。</p><p>输入以下代码进入linux可视化安装界面</p><p><strong>Ubuntu</strong></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y xauth xterm x11-common x11-xkb-utils xfonts-base xfonts-encodings xfonts-utils xserver-common</span><br><span class="line">sudo apt-get install -y xvfb</span><br><span class="line">sudo apt-get install -y x11vnc</span><br><span class="line">x11vnc -rfbport 12345 -passwd CrekeNet -create -forever//端口为12345(开启端口需放行安全组）</span><br></pre></td></tr></tbody></table></figure><p><strong>centos</strong></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum groupinstall "Server with GUI" -y</span><br><span class="line">yum update//提示错误时使用</span><br><span class="line">systemctl set-default graphical</span><br></pre></td></tr></tbody></table></figure><p>然后重启一下，可以使用腾讯云官方的vnc连接。</p><p>但是腾讯云官方显示慢，这里推荐使用real下的vnc</p><p>地址：<a href="https://www.realvnc.com/en/connect/download/viewer/">https://www.realvnc.com/en/connect/download/viewer/</a></p><p>下载对应版本后，安装，输入用户名和密码即可使用</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>RDP Wrapper实现多人远程</title>
      <link href="/posts/ec52.html"/>
      <url>/posts/ec52.html</url>
      
        <content type="html"><![CDATA[<p>RDP Wrapper是个电脑上使用的多人远程连接软件，该软件破解了win10以上机型单人登录的问题。<br>首先你的电脑支持远程开关，win10没有请先升级专业版<br>进入官网下载RDP Wrapper ，地址:<a href="https://github.com/stascorp/rdpwrap"></a><a href="https://github.com/stascorp/rdpwrap"></a><a href="https://github.com/stascorp/rdpwrap">https://github.com/stascorp/rdpwrap</a><br>下载完毕后，你的文件夹内有5个文件内容<br>install.bat RDPcheck.exe RDPConf.exe RDPWlnst.exe update.exe<br>运行install.bat(以管理方式运行)<br>接着打开cmd(以管理方式运行),输入net stop termservice<br>在资源管理器里,打开C:\Program Files\RDP Wrapper<br>找到dll下的ini文件<br>替换以下文件（解压后替换)<br>资源下载链接:<a href="https://caiyun.139.com/m/i?135Ce8H2tpZTS"></a><a href="https://caiyun.139.com/m/i?135Ce8H2tpZTS">https://caiyun.139.com/m/i?135Ce8H2tpZTS</a><br>提取码:qHeX<br>(所有博客文件都在内)</p><p>替换完成后，继续打开cmd,输入代码net start termservice</p><p>大功告成，如果还没有绿色字体的内容请运行update</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>思科交换机模拟器配置vlan互通</title>
      <link href="/posts/85e2.html"/>
      <url>/posts/85e2.html</url>
      
        <content type="html"><![CDATA[<p>Cisco Packet Tracer（思科模拟器)配交换机指令</p><p>en</p><p>config //配置</p><p>int vlan 1 //创建一个vlan1</p><p>ip add 10.0.10.1 255.255.255.0 //创建vlan1的地址范围</p><p>no shutdown //不要关机(重启)</p><p>exit //退出</p><p>int vlan 2 //创建一个vlan2</p><p>ip add 10.0.20.1 255.255.255.0 //创建vlan2的地址范围</p><p>no shutdown //不要关机(重启)</p><p>exit //退出</p><p>int vlan 3 //创建一个vlan3</p><p>ip add 10.0.30.1 255.255.255.0 //创建vlan3的地址范围</p><p>no shutdown //不要关机(重启)</p><p>exit //退出</p><p>interface fastethernet 0/2 //进入接口类型为fastethernet，0号槽口中2号端口的配置状态</p><p>switch mode access //强制接口成为access接口，并且可以与对方主动进行协商，诱使对方成为access模式</p><p>switch access vlan 2  //绑定vlan2为2号口</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>电脑装系统方法-镜像软件急速下载地址</title>
      <link href="/posts/212.html"/>
      <url>/posts/212.html</url>
      
        <content type="html"><![CDATA[<p>电脑下载到盗版系统了?下载到捆绑系列的内容了?这些都不用怕  </p><p>PE我推荐微PE工具箱或者firPE，因为像大白菜类的PE刷机软件存在捆绑流氓软件盈利情况，后期你的电脑会卡<br>firPE官网:<a href="https://firpe.cn/"></a><a href="https://firpe.cn/">https://firpe.cn/</a><br>微PE工具箱官网:<a href="http://www.wepe.com.cn/"></a><a href="http://www.wepe.com.cn/">http://www.wepe.com.cn/</a><br>然后就是镜像了，为了避免你们去百度上搜索还是哪里下到流氓img镜像，我在百度云和和彩云(中国移动云盘)上传了多个镜像<br>镜像下载链接<br>网盘下载地址:<a href="https://www.bilibili.com/read/cv29085115/">https://www.bilibili.com/read/cv29085115/</a><br>然后就是刷机了，按照下面视频内的内容进行刷机(虚拟机刷机和实体机大同小异)，有更好的建议可以提出来哦<br><a href="https://www.bilibili.com/video/BV1SL4y1e7tj">#BV#</a></p>]]></content>
      
      
      <categories>
          
          <category> 视频类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>宝塔面板搭建和使用</title>
      <link href="/posts/fca6.html"/>
      <url>/posts/fca6.html</url>
      
        <content type="html"><![CDATA[<p>宝塔面板是一个非常适合新手使用的一个网站搭建平台,今天编写一个搭建宝塔面板的文章</p><p>官方搭建配置要求:</p><p>内存：512M以上，推荐768M以上（纯面板约占系统60M内存）<br>硬盘：300M以上可用硬盘空间（纯面板约占20M磁盘空间）</p><p>系统：CentOS 7.1+ (Ubuntu16.04+.、Debian9.0+)，<strong>确保是干净的操作系统，</strong>没有安装过其它环境带的Apache/Nginx/php/MySQL/pgsql/gitlab/java<strong>（已有环境不可安装）</strong>架构：x86_64（主流服务器均是此架构），ARM不完整兼容（面板环境安装慢，部分软件可能安装不上）<br><strong>宝塔Linux面板7.6.0版本是基于Centos/Debian/Ubuntu开发的，为了最好的兼容性，请使用以上系统</strong>系统兼容性顺序：Centos7.x &gt;&nbsp;Debian10&nbsp;&gt;&nbsp;Ubuntu 20.04&nbsp;&gt; Cenots8.x &gt;&nbsp;Ubuntu 18.04&nbsp;&gt;&nbsp;</p><p>其它系统提示：Centos官方已宣布在2020年停止对Centos6的维护更新，各大软件开发商也逐渐停止对Centos6的兼容，新服务器不建议使用Centos6</p><p>宝塔面板官方网站:<a href="https://www.bt.cn/">点击这里</a></p><p>然后如果你是linux用户,请输入以下代码</p><p><strong>Centos安装命令：</strong></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh</span><br></pre></td></tr></tbody></table></figure><p><strong>Ubuntu/Deepin安装命令：</strong></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh</span><br></pre></td></tr></tbody></table></figure><p><strong>Debian安装命令：</strong></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; bash install.sh</span><br></pre></td></tr></tbody></table></figure><p><strong>Fedora安装命令:</strong></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; bash install.sh</span><br></pre></td></tr></tbody></table></figure><p>Windows用户直接复制下面链接到服务器的浏览器上下载</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://download.bt.cn/win/panel/BtSoft.zip</span><br></pre></td></tr></tbody></table></figure><p>接着Windows安装完会弹出一个链接和用户名，那个链接的地址是http://公网地址:8888/入口校验代码</p><p>linux下也是，对于访问链接未出现以下链接，就是安全组没有放端口，以下主机商点击进入查询，其他自行百度</p><p>腾讯云：<a href="https://www.bt.cn/bbs/thread-1229-1-1.html">https://www.bt.cn/bbs/thread-1229-1-1.html</a></p><p>阿里云：<a href="https://www.bt.cn/bbs/thread-2897-1-1.html">https://www.bt.cn/bbs/thread-2897-1-1.htm</a>l<br>华为云：<a href="https://www.bt.cn/bbs/thread-3923-1-1.html">https://www.bt.cn/bbs/thread-3923-1-1.html</a></p><p>我在这里放一张安全组配置图和一张进入后的图片</p><p><img src="http://blog.wkkjinc.cn/wp-content/uploads/2021/08/%E6%88%AA%E5%9B%BE2-1024x487.png"></p><p>成功进入登录页面</p><p><img src="http://blog.wkkjinc.cn/wp-content/uploads/2021/08/%E6%88%AA%E5%B1%8F3.png"></p><p>安全组配置</p><p>如果你发现你出现以下页面，请核对下校检代码</p><p><img src="http://blog.wkkjinc.cn/wp-content/uploads/2021/08/%E6%88%AA%E5%9B%BE1.png"></p><p>校对码错误</p><p>接着自动化配置，小白最好选择nginx,如果你要用其他的也没啥大问题</p><p>等部署完毕后进入网站-添加网站</p><p>最后准备你购买好的域名,添加到宝塔面板，绑定宝塔面板的域名</p><p><img src="http://blog.wkkjinc.cn/wp-content/uploads/2021/08/%E6%8D%95%E8%8E%B7.png"></p><p>绑定域名后点确认</p><p>记住根目录,进入根目录删除index.html文件,并将你带index.html/index.php的一系列文件上传至服务器</p><p>访问下你的网站，国内主机/服务器备案后可以使用,国外主机/服务器直接使用</p><p>过程觉得麻烦的,点击下面软件管理-一键部署，网站直接安装到家</p><p><img src="http://blog.wkkjinc.cn/wp-content/uploads/2021/08/%E6%8D%95%E8%8E%B72-1024x438.png"></p><p>一键部署</p><p>感谢你的观看，不打算留一个评论吗</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>作为程序员，应该从哪里出发</title>
      <link href="/posts/65e1.html"/>
      <url>/posts/65e1.html</url>
      
        <content type="html"><![CDATA[<p>对于程序员，很多人也很眼红。看着别人轻轻松松的打着代码，还月拿高额工资。但是你们也别忘了，做程序员是要台下十年功的，也许那给你展示的一面已经做了很多次练习。殊不知，代码也会有报错的时候，一天也坐在椅子上背部会很痛。有时候也需要加班很晚。<br>对于还是想成为程序员的人，可以借鉴以下的内容。<br><strong>1.入室即静</strong><br>对于企业单位，安静是非常重要的。只有安静的环境，才会让你把注意力放在一个方面。再就是不要翘腿等不良习惯。<br><strong>2.对于他人的代码虚心借鉴</strong><br>我想程序员形成并不是要读多少书籍，而是多去借鉴别人的源代码，然后读懂理解。抄袭和截取是没多大用的，毕竟它也不是你的知识。<br><strong>3.学习最基础的语言：C语言以及C++</strong><br>程序员要想掌握其他的语言，就必须掌握c语言一系列的语言。对于其他语言一般都是围绕着C语言进行衔接的。<br><strong>4.程序员必备的技能</strong><br>程序员学的技能中必须有</p><div class="para" data-pid="37"><b>a.熟练开发工具</b></div><div data-pid="37"></div><div class="para" data-pid="38">做为一名程序员至少熟练掌握两到三种<a href="https://baike.baidu.com/item/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7" target="_blank" rel="noopener">开发工具</a>的使用，这是程序员的立身之本，其中C/C++和JAVA是重点推荐的开发工具，C/C++以其高效率和高度的灵活性成为开发工具中的利器，很多系统级的软件还是用C/C++编写。而JAVA的跨平台和与WEB很好的结合是JAVA的优势所在，而JAVA即其相关的技术集JAVAOne很可能会成为未来的主流开发工具之一。其次，能掌握一种简便的可视化开发工具，如VB，PowerBuilder，Delphi，CBuilder，则更好，这些开发工具减小了开发难度，并能够强化程序员对象模型的概念。另外，需要掌握基本的<a href="https://baike.baidu.com/item/%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80" target="_blank" rel="noopener">脚本语言</a>，如shell，perl等，至少能读懂这些脚本代码。</div><div data-pid="38"></div><div class="para" data-pid="39"><b>b.熟知数据库</b></div><div data-pid="39"></div><div class="para" data-pid="40">为什么数据库是如此重要？作为程序员，他们自然有自己的理由：很多应用程序都是以数据库的数据为中心，而数据库的产品也有不少，其中关系型数据库仍是主流形式，所以程序员至少熟练掌握一两种数据库，对关系型数据库的关键元素要非常清楚，要熟练掌握<a href="https://baike.baidu.com/item/SQL" target="_blank" rel="noopener">SQL</a>的基本语法。虽然很多数据库产品提供了可视化的<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86" target="_blank" rel="noopener">数据库管理</a>工具，但SQL是基础，是通用的数据库操作方法。如果没有机会接触商业<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F" target="_blank" rel="noopener">数据库系统</a>，可以使用免费的数据库产品是一个不错的选择，如mySQL，Postgres等。</div><div data-pid="40"></div><div class="para" data-pid="41"><b>c.了解操作系统</b></div><div data-pid="41"></div><div class="para" data-pid="42">当前主流的操作系统是<a href="https://baike.baidu.com/item/Windows" target="_blank" rel="noopener">Windows</a>，Linux/<a href="https://baike.baidu.com/item/Unix" target="_blank" rel="noopener">Unix</a>，熟练地使用这些操作系统是必须的，但只有这些还远远不够。要想成为一个真正的编程高手，需要深入了解操作系统，了解它的内存管理机制、进程/<a href="https://baike.baidu.com/item/%E7%BA%BF%E7%A8%8B%E8%B0%83%E5%BA%A6" target="_blank" rel="noopener">线程调度</a>、信号、<a href="https://baike.baidu.com/item/%E5%86%85%E6%A0%B8%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener">内核对象</a>、<a href="https://baike.baidu.com/item/%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8" target="_blank" rel="noopener">系统调用</a>、<a href="https://baike.baidu.com/item/%E5%8D%8F%E8%AE%AE%E6%A0%88" target="_blank" rel="noopener">协议栈</a>实现等。<a href="https://baike.baidu.com/item/Linux" target="_blank" rel="noopener">Linux</a>作为开发源码的操作系统，是一个很好的学习平台，Linux几乎具备了所有<a href="https://baike.baidu.com/item/%E7%8E%B0%E4%BB%A3%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" target="_blank" rel="noopener">现代操作系统</a>的特征。虽然Windows系统的内核实现机制的资料较少，但通过互联网还是能获取不少资料。懂得网络协议<a href="https://baike.baidu.com/item/TCP%2FIP" target="_blank" rel="noopener">TCP/IP</a>。</div><div class="para" data-pid="43">在互联网如此普及的今天，如果您还没有对互联网的支撑协议<a href="https://baike.baidu.com/item/TCP%2FIP%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">TCP/IP协议</a>栈有很好的掌握，就需要迅速补上这一课，网络技术已改变了软件运行的模式，从最早的客户/服务器结构，到今天的WEBServices，再到未来的网格计算，这一切都离不开以TCP/IP协议栈为基础的网络协议支持，深入掌握TCP/IP协议是非常必要的。至少，需要了解ISO七层协议模型，IP/UDP/TCP/HTTP等常用协议的原理和三次握手机制。</div><div data-pid="43"></div><div class="para" data-pid="44">**d.明白DCOM/CORBA/XML/WEBServices存在的意义**</div><div data-pid="44"></div><div class="para" data-pid="45">随着技术的发展，软件与网络的无缝结合是必然趋势，软件系统的位置无关性是未来计算模式的重要特征之一，DCOM/CORBA是当前两大主流的分布计算的中间平台，DCOM是微软COM（<a href="https://baike.baidu.com/item/%E7%BB%84%E4%BB%B6%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B" target="_blank" rel="noopener">组件对象模型</a>）的扩展，而<a href="https://baike.baidu.com/item/CORBA" target="_blank" rel="noopener">CORBA</a>是OMG支持的规范。XML/WebServices重要性不言而喻，<a href="https://baike.baidu.com/item/XML" target="_blank" rel="noopener">XML</a>以其结构化的表示方法和超强的表达能力被喻为互联网上的“<a href="https://baike.baidu.com/item/%E4%B8%96%E7%95%8C%E8%AF%AD/563425" target="_blank" rel="noopener" data-lemmaid="563425">世界语</a>”，是<a href="https://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%A1%E7%AE%97" target="_blank" rel="noopener">分布式计算</a>的基石之一。</div><div data-pid="45"></div><div class="para" data-pid="46"><b>e.不要将软件工程与CMM分开</b></div><div data-pid="46"></div><div class="para" data-pid="47">大型软件系统的开发中，工程化的开发控制取代<a href="https://baike.baidu.com/item/%E4%B8%AA%E4%BA%BA%E8%8B%B1%E9%9B%84%E4%B8%BB%E4%B9%89" target="_blank" rel="noopener">个人英雄主义</a>，成为软件系统成功的保证，一个编程高手并不一定是一个优秀的程序员，一个优秀的程序员是将出色的编程能力和开发技巧同严格的<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E6%80%9D%E6%83%B3" target="_blank" rel="noopener">软件工程思想</a>有机结合，编程只是软件<a href="https://baike.baidu.com/item/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" target="_blank" rel="noopener">生命周期</a>中的其中一环，优秀的程序员应该掌握软件开发各个阶段的基本技能，如市场分析，可行性分析，需求分析，结构设计，详细设计，<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95" target="_blank" rel="noopener">软件测试</a>等。</div><div data-pid="48"></div><div class="para" data-pid="48"><b>f.需求理解能力</b></div><div data-pid="48"></div><div class="para" data-pid="49">程序员要能正确理解任务单中描述的需求。在这里要明确一点，程序员不仅仅要注意到软件的功能需求，还应注意软件的<a href="https://baike.baidu.com/item/%E6%80%A7%E8%83%BD%E9%9C%80%E6%B1%82" target="_blank" rel="noopener">性能需求</a>，要能正确评估自己的模块对整个项目中的影响及潜在的威胁，如果有着两到三年项目经验的熟练程序员对这一点没有体会的话，只能说明他或许是认真工作过，但是没有用心工作。</div><div data-pid="50"></div><div class="para" data-pid="50"><b>g.模块化思维能力</b></div><div data-pid="50"></div><div class="para" data-pid="51">作为一个优秀的程序员，他的思想不能局限在当前的工作任务里面，要想想看自己写的模块是否可以脱离当前系统存在，通过简单的封装在其他系统中或其他模块中直接使用。这样做可以使代码能重复利用，减少重复的劳动，也能使系统结构越趋合理。模块化思维能力的提高是一个程序员的技术水平提高的一项重要指标。</div><div data-pid="51"></div><div data-pid="51">**5.了解职场和需要**</div><div data-pid="51"></div><div data-pid="51"><div class="para" data-pid="34">一般的程序员都有在专业领域的学习，还有很小一部分程序员是自学的，尽管一些专业性的学校或者综合大学可以提供，但是也需要一些别的途径来提供相关的人才。尽管学历是比较重要的，但是公司经常把重点放在应聘者的工作经验上，很多刚从大学毕业的大学生虽然有引人注目的<a href="https://baike.baidu.com/item/%E5%AD%A6%E4%BD%8D%E8%AF%81%E4%B9%A6" target="_blank" rel="noopener">学位证书</a>，但是他们找不到工作是因为他们缺乏经验。一个程序员虽然没有正规的学历，但是如果一个人拥有程序设计的深厚知识背景或者丰富的工作经验的话，那么他的机会要比有学历的应届毕业生大得多。所以要尽量抓住有用的工作和实习机会，这样的话在毕业后你就会发现，多实习让你有更多的经验，在找工作的时候就有更多的机会。</div><div class="para" data-pid="35">对于职业程序员，另外一个重要的方面就是，程序员需要不断提升自己的业务技术，他的技术必须一直保持在一个较高的水平，并且要不断发展，程序员也要寻找贸易的机会，要参加研讨会，在周刊上发表文章和接受职业教育，这些使程序员在自己的领域中分级或者不断并排前进。</div><div data-pid="35"></div><div data-pid="35">一般说来中国的程序员大都是吃“青春饭”的，大部分程序员的<a href="https://baike.baidu.com/item/%E9%BB%84%E9%87%91%E6%97%B6%E4%BB%A3" target="_blank" rel="noopener">黄金时代</a>是20～35岁。到了35岁左右，一批又一批年轻程序员会给你带来巨大的竞争压力。首先由于软件行业的飞速发展，很多自己以前学的东西逐渐升级换代，而许多程序员由于长期于工作，学习新知识的效率必然下降。其次自己干了几年，薪水要求自然就高了，而年轻程序员工资又低、干活又快，当然会成为老板的首选；第三，35岁基本都已经成家了，要支撑家庭的生活负担，几乎连从头再来的勇气都不会有了。中国的老话说“<a href="https://baike.baidu.com/item/%E9%95%BF%E6%B1%9F%E5%90%8E%E6%B5%AA%E6%8E%A8%E5%89%8D%E6%B5%AA/3477443" target="_blank" rel="noopener" data-lemmaid="3477443">长江后浪推前浪</a>，前浪死在沙滩上”，这个历史的规律在软件开发行业体现的尤其明显和残酷，很多程序员必然要面对的结果就是降薪乃至失业。</div></div><div data-pid="35"></div><div data-pid="35">可以自己看看哦</div>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QR词库以及网站配置</title>
      <link href="/posts/1ac7.html"/>
      <url>/posts/1ac7.html</url>
      
        <content type="html"><![CDATA[<p>Hallo，各位小伙伴们，又是我来为你们提供很多好玩好弄的技术。QR词库由我独自写出，写词库的主要方针就是一个大数据集成，轻量化其他指令操作。优化多次消息发送速度，并且多次修改和优化。喜欢的小伙伴们赶紧下载哦<br>下载时，请你注意以下一点：<br>请对我所有版权以及在词库写的版权指令不允许修改，不允许对我所有版权表示恶意修改<br>网盘下载地址:<a href="https://www.bilibili.com/read/cv29085115/">https://www.bilibili.com/read/cv29085115/</a></p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>DDOS攻击讲堂</title>
      <link href="/posts/2d6c.html"/>
      <url>/posts/2d6c.html</url>
      
        <content type="html"><![CDATA[<p>DDOS是一种分布式拒绝攻击，在我们计算机这类科目中，会发现它对我们的服务器或者工作站以及主机威胁十分巨大，毕竟它是伪装成正常访问，然后大量访问你服务器的资源，造成其他用户无法使用。</p><p>对于DDOS来说，我将其分为八大类：</p><p><strong>1、基于自动化程度分类</strong></p><p>（1）手工的DDoS攻击。</p><p>早期的DDoS攻击全是采用手动配置的，即发动DDoS攻击时，扫描远端有漏洞的计算机，侵入它们并且安装代码全是手动完成的。</p><p>（2）半自动化的DDoS攻击。</p><p>在半自动化的攻击中，DDoS攻击属于主控端一代理端的攻击模型，攻击者用自动化的Scripts来扫描，主控端的机器对主控端和代理端之间进行协商攻击的类型、受害者的地址、何时发起攻击等信息由进行详细记录。</p><p>（3）自动化的DDoS攻击。</p><p>在这类攻击中。攻击者和代理端机器之间的通信是绝对不允许的。这类攻击的攻击阶段绝大部分被限制用一个单一的命令来实现，攻击的所有特征，例如攻击的类型，持续的时间和受害者的地址在攻击代码中都预先用程序实现。</p><p><strong>2、基于系统及协议的弱点分类</strong></p><p>（1）洪水攻击。</p><p>在洪水攻击中。傀儡机向受害者系统发送大量的数据流为了充塞受害者系统的带宽，影响小的则降低受害者提供的服务，影响大的则使整个网络带宽持续饱和，以至于网络服务瘫痪。典型的洪水攻击有UDP洪水攻击和ICMP洪水攻击。</p><p>（2）扩大攻击。</p><p>扩大攻击分为两种，一种是利用广播lP地址的特性，一种是利用反射体来发动攻击。前一种攻击者是利用了广播IP地址的特性来扩大和映射攻击，导致路由器将数据包发送到整个网络的广播地址列表中的所有的广播IP地址。这些恶意的流量将减少受害者系统可提供的带宽。典型的扩大攻击有Smurf和Fraggle攻击。</p><p>（3）利用协议的攻击。</p><p>该类攻击则是利用某些协议的特性或者利用了安装在受害者机器上的协议中存在的漏洞来耗尽它的大量资源。典型的利用协议攻击的例子是TCP SYN攻击。</p><p>（4）畸形数据包攻击。</p><p>攻击者通过向受害者发送不正确的IP地址的数据包，导致受害系统崩溃。畸形数据包攻击可分为两种类型：IP地址攻击和IP数据包属性攻击。</p><p><strong>4、基于攻击速率分类</strong></p><p>DDoS攻击从基于速率上进行分类，可以分为持续速率和可变速率的攻击。持续速率的攻击是指只要开始发起攻击，就用全力不停顿也不消减力量。像这种攻击的影响是非常快的。可变速率的攻击，从名字就可以看出，用不同的攻击速率，基于这种速率改变的机制，可以把这种攻击分为增加速率和波动的速率。&nbsp;[4]</p><p><strong>5、基于影响力进行分类</strong></p><p>DDoS攻击从基于影响力方面可以分为网络服务彻底崩溃和降低网络服务的攻击。服务彻底崩溃的攻击将导致受害者的服务器完全拒绝对客户端提供服务。降低网络服务的攻击，消耗受害者系统的一部分资源，这将延迟攻击被发现的时间，同时对受害者造成一定的破坏。&nbsp;[4]</p><p><strong>6、基于入侵目标分类</strong></p><p>DDoS攻击从基于入侵目标，可以将DDoS攻击分为带宽攻击和连通性攻击，带宽攻击通过使用大量的数据包来淹没整个网络，使得有效的网络资源被浪费，合法朋户的请求得不到响应，大大降低了效率。而连通性攻击是通过发送大量的请求来使的计算机瘫痪，所有有效的操作系统资源被耗尽，导致计算机不能够再处理合法的用户请求。&nbsp;[4]</p><p><strong>7、基于攻击路线分类</strong></p><p>（1）直接攻击：攻击者和主控端通信，主控端接到攻击者的命令后，再控制代理端向受害者发动攻击数据流。代理端向受害者系统发送大量的伪IP地址的网络数据流，这样攻击者很难被追查到。</p><p>（2）反复式攻击通过利用反射体，发动更强大的攻击流。反射体是任何一台主机只要发送一个数据包就能收到一个数据包，反复式攻击就是攻击者利用中间的网络节点发动攻击。</p><p><strong>8、基于攻击特征分类</strong></p><p>从攻击特征的角度，可以将DDoS攻击分为攻击行为特征可提取和攻击行为特征不可提取两类。攻击行为特征可提取的DDoS攻击又可以细分为可过滤型和不可过滤型。可过滤型的DDoS攻击主要指那些使用畸形的非法数据包。不可过滤型DDoS攻击通过使用精心设计的数据包，模仿合法用户的正常请求所用的数据包，一旦这类数据包被过滤将会影响合法用户的正常使用。</p><p>对于这种情况，我想了三个应对措施。</p><p><strong>1、</strong>在一些发布平台上面不要用直接套着服务器IP进行访问，毕竟这样永远是无法成功拦截这些伪装访问者。</p><p><strong>2、</strong>服务器请求与服务器资源分布式发送数据（例如内容分发网络cdn），即使被DDOS了，打的也是一个节点，能暂时正常运行网站。</p><p><strong>3、不要做对不起别人的事情，避免自己遭殃。</strong></p><p>今天知识的普及到这里，感谢大家</p>]]></content>
      
      
      <categories>
          
          <category> 教程类 </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
